(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function g_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var nd={exports:{}},no={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function hA(){if(ky)return no;ky=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:c}}return no.Fragment=e,no.jsx=i,no.jsxs=i,no}var zy;function fA(){return zy||(zy=1,nd.exports=hA()),nd.exports}var G=fA(),id={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var By;function dA(){if(By)return bt;By=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(N){return N===null||typeof N!="object"?null:(N=S&&N[S]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,F={};function j(N,tt,ct){this.props=N,this.context=tt,this.refs=F,this.updater=ct||V}j.prototype.isReactComponent={},j.prototype.setState=function(N,tt){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,tt,"setState")},j.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=j.prototype;function nt(N,tt,ct){this.props=N,this.context=tt,this.refs=F,this.updater=ct||V}var et=nt.prototype=new $;et.constructor=nt,L(et,j.prototype),et.isPureReactComponent=!0;var yt=Array.isArray,ht={H:null,A:null,T:null,S:null},Rt=Object.prototype.hasOwnProperty;function M(N,tt,ct,at,st,wt){return ct=wt.ref,{$$typeof:r,type:N,key:tt,ref:ct!==void 0?ct:null,props:wt}}function R(N,tt){return M(N.type,tt,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var tt={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ct){return tt[ct]})}var x=/\/+/g;function z(N,tt){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):tt.toString(36)}function D(){}function ye(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(tt){N.status==="pending"&&(N.status="fulfilled",N.value=tt)},function(tt){N.status==="pending"&&(N.status="rejected",N.reason=tt)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function he(N,tt,ct,at,st){var wt=typeof N;(wt==="undefined"||wt==="boolean")&&(N=null);var St=!1;if(N===null)St=!0;else switch(wt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(N.$$typeof){case r:case e:St=!0;break;case E:return St=N._init,he(St(N._payload),tt,ct,at,st)}}if(St)return st=st(N),St=at===""?"."+z(N,0):at,yt(st)?(ct="",St!=null&&(ct=St.replace(x,"$&/")+"/"),he(st,tt,ct,"",function(ie){return ie})):st!=null&&(b(st)&&(st=R(st,ct+(st.key==null||N&&N.key===st.key?"":(""+st.key).replace(x,"$&/")+"/")+St)),tt.push(st)),1;St=0;var fe=at===""?".":at+":";if(yt(N))for(var kt=0;kt<N.length;kt++)at=N[kt],wt=fe+z(at,kt),St+=he(at,tt,ct,wt,st);else if(kt=C(N),typeof kt=="function")for(N=kt.call(N),kt=0;!(at=N.next()).done;)at=at.value,wt=fe+z(at,kt++),St+=he(at,tt,ct,wt,st);else if(wt==="object"){if(typeof N.then=="function")return he(ye(N),tt,ct,at,st);throw tt=String(N),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return St}function rt(N,tt,ct){if(N==null)return N;var at=[],st=0;return he(N,at,"","",function(wt){return tt.call(ct,wt,st++)}),at}function vt(N){if(N._status===-1){var tt=N._result;tt=tt(),tt.then(function(ct){(N._status===0||N._status===-1)&&(N._status=1,N._result=ct)},function(ct){(N._status===0||N._status===-1)&&(N._status=2,N._result=ct)}),N._status===-1&&(N._status=0,N._result=tt)}if(N._status===1)return N._result.default;throw N._result}var mt=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function qt(){}return bt.Children={map:rt,forEach:function(N,tt,ct){rt(N,function(){tt.apply(this,arguments)},ct)},count:function(N){var tt=0;return rt(N,function(){tt++}),tt},toArray:function(N){return rt(N,function(tt){return tt})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},bt.Component=j,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=nt,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ht,bt.act=function(){throw Error("act(...) is not supported in production builds of React.")},bt.cache=function(N){return function(){return N.apply(null,arguments)}},bt.cloneElement=function(N,tt,ct){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var at=L({},N.props),st=N.key,wt=void 0;if(tt!=null)for(St in tt.ref!==void 0&&(wt=void 0),tt.key!==void 0&&(st=""+tt.key),tt)!Rt.call(tt,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&tt.ref===void 0||(at[St]=tt[St]);var St=arguments.length-2;if(St===1)at.children=ct;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];at.children=fe}return M(N.type,st,void 0,void 0,wt,at)},bt.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:c,_context:N},N},bt.createElement=function(N,tt,ct){var at,st={},wt=null;if(tt!=null)for(at in tt.key!==void 0&&(wt=""+tt.key),tt)Rt.call(tt,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(st[at]=tt[at]);var St=arguments.length-2;if(St===1)st.children=ct;else if(1<St){for(var fe=Array(St),kt=0;kt<St;kt++)fe[kt]=arguments[kt+2];st.children=fe}if(N&&N.defaultProps)for(at in St=N.defaultProps,St)st[at]===void 0&&(st[at]=St[at]);return M(N,wt,void 0,void 0,null,st)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(N){return{$$typeof:m,render:N}},bt.isValidElement=b,bt.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:vt}},bt.memo=function(N,tt){return{$$typeof:y,type:N,compare:tt===void 0?null:tt}},bt.startTransition=function(N){var tt=ht.T,ct={};ht.T=ct;try{var at=N(),st=ht.S;st!==null&&st(ct,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(qt,mt)}catch(wt){mt(wt)}finally{ht.T=tt}},bt.unstable_useCacheRefresh=function(){return ht.H.useCacheRefresh()},bt.use=function(N){return ht.H.use(N)},bt.useActionState=function(N,tt,ct){return ht.H.useActionState(N,tt,ct)},bt.useCallback=function(N,tt){return ht.H.useCallback(N,tt)},bt.useContext=function(N){return ht.H.useContext(N)},bt.useDebugValue=function(){},bt.useDeferredValue=function(N,tt){return ht.H.useDeferredValue(N,tt)},bt.useEffect=function(N,tt){return ht.H.useEffect(N,tt)},bt.useId=function(){return ht.H.useId()},bt.useImperativeHandle=function(N,tt,ct){return ht.H.useImperativeHandle(N,tt,ct)},bt.useInsertionEffect=function(N,tt){return ht.H.useInsertionEffect(N,tt)},bt.useLayoutEffect=function(N,tt){return ht.H.useLayoutEffect(N,tt)},bt.useMemo=function(N,tt){return ht.H.useMemo(N,tt)},bt.useOptimistic=function(N,tt){return ht.H.useOptimistic(N,tt)},bt.useReducer=function(N,tt,ct){return ht.H.useReducer(N,tt,ct)},bt.useRef=function(N){return ht.H.useRef(N)},bt.useState=function(N){return ht.H.useState(N)},bt.useSyncExternalStore=function(N,tt,ct){return ht.H.useSyncExternalStore(N,tt,ct)},bt.useTransition=function(){return ht.H.useTransition()},bt.version="19.0.0",bt}var jy;function Gd(){return jy||(jy=1,id.exports=dA()),id.exports}var K=Gd();const Na=g_(K);var rd={exports:{}},io={},ad={exports:{}},sd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qy;function mA(){return qy||(qy=1,function(r){function e(rt,vt){var mt=rt.length;rt.push(vt);t:for(;0<mt;){var qt=mt-1>>>1,N=rt[qt];if(0<o(N,vt))rt[qt]=vt,rt[mt]=N,mt=qt;else break t}}function i(rt){return rt.length===0?null:rt[0]}function s(rt){if(rt.length===0)return null;var vt=rt[0],mt=rt.pop();if(mt!==vt){rt[0]=mt;t:for(var qt=0,N=rt.length,tt=N>>>1;qt<tt;){var ct=2*(qt+1)-1,at=rt[ct],st=ct+1,wt=rt[st];if(0>o(at,mt))st<N&&0>o(wt,at)?(rt[qt]=wt,rt[st]=mt,qt=st):(rt[qt]=at,rt[ct]=mt,qt=ct);else if(st<N&&0>o(wt,mt))rt[qt]=wt,rt[st]=mt,qt=st;else break t}}return vt}function o(rt,vt){var mt=rt.sortIndex-vt.sortIndex;return mt!==0?mt:rt.id-vt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],E=1,S=null,C=3,V=!1,L=!1,F=!1,j=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function et(rt){for(var vt=i(y);vt!==null;){if(vt.callback===null)s(y);else if(vt.startTime<=rt)s(y),vt.sortIndex=vt.expirationTime,e(p,vt);else break;vt=i(y)}}function yt(rt){if(F=!1,et(rt),!L)if(i(p)!==null)L=!0,ye();else{var vt=i(y);vt!==null&&he(yt,vt.startTime-rt)}}var ht=!1,Rt=-1,M=5,R=-1;function b(){return!(r.unstable_now()-R<M)}function I(){if(ht){var rt=r.unstable_now();R=rt;var vt=!0;try{t:{L=!1,F&&(F=!1,$(Rt),Rt=-1),V=!0;var mt=C;try{e:{for(et(rt),S=i(p);S!==null&&!(S.expirationTime>rt&&b());){var qt=S.callback;if(typeof qt=="function"){S.callback=null,C=S.priorityLevel;var N=qt(S.expirationTime<=rt);if(rt=r.unstable_now(),typeof N=="function"){S.callback=N,et(rt),vt=!0;break e}S===i(p)&&s(p),et(rt)}else s(p);S=i(p)}if(S!==null)vt=!0;else{var tt=i(y);tt!==null&&he(yt,tt.startTime-rt),vt=!1}}break t}finally{S=null,C=mt,V=!1}vt=void 0}}finally{vt?x():ht=!1}}}var x;if(typeof nt=="function")x=function(){nt(I)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=I,x=function(){D.postMessage(null)}}else x=function(){j(I,0)};function ye(){ht||(ht=!0,x())}function he(rt,vt){Rt=j(function(){rt(r.unstable_now())},vt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(rt){rt.callback=null},r.unstable_continueExecution=function(){L||V||(L=!0,ye())},r.unstable_forceFrameRate=function(rt){0>rt||125<rt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<rt?Math.floor(1e3/rt):5},r.unstable_getCurrentPriorityLevel=function(){return C},r.unstable_getFirstCallbackNode=function(){return i(p)},r.unstable_next=function(rt){switch(C){case 1:case 2:case 3:var vt=3;break;default:vt=C}var mt=C;C=vt;try{return rt()}finally{C=mt}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(rt,vt){switch(rt){case 1:case 2:case 3:case 4:case 5:break;default:rt=3}var mt=C;C=rt;try{return vt()}finally{C=mt}},r.unstable_scheduleCallback=function(rt,vt,mt){var qt=r.unstable_now();switch(typeof mt=="object"&&mt!==null?(mt=mt.delay,mt=typeof mt=="number"&&0<mt?qt+mt:qt):mt=qt,rt){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=mt+N,rt={id:E++,callback:vt,priorityLevel:rt,startTime:mt,expirationTime:N,sortIndex:-1},mt>qt?(rt.sortIndex=mt,e(y,rt),i(p)===null&&rt===i(y)&&(F?($(Rt),Rt=-1):F=!0,he(yt,mt-qt))):(rt.sortIndex=N,e(p,rt),L||V||(L=!0,ye())),rt},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(rt){var vt=C;return function(){var mt=C;C=vt;try{return rt.apply(this,arguments)}finally{C=mt}}}}(sd)),sd}var Hy;function gA(){return Hy||(Hy=1,ad.exports=mA()),ad.exports}var ld={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy;function pA(){if(Fy)return Fe;Fy=1;var r=Gd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Fe.flushSync=function(p){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,V=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:V}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:V,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return f.H.useHostTransitionStatus()},Fe.version="19.0.0",Fe}var Gy;function yA(){if(Gy)return ld.exports;Gy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ld.exports=pA(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function vA(){if(Qy)return io;Qy=1;var r=gA(),e=Gd(),i=yA();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var c=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),nt=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),yt=Symbol.for("react.memo_cache_sentinel"),ht=Symbol.iterator;function Rt(t){return t===null||typeof t!="object"?null:(t=ht&&t[ht]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case E:return"Profiler";case y:return"StrictMode";case F:return"Suspense";case j:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case C:return(t._context.displayName||"Context")+".Consumer";case L:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return n=t.displayName||null,n!==null?n:R(t.type)||"Memo";case nt:n=t._payload,t=t._init;try{return R(t(n))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,x,z;function D(t){if(x===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);x=n&&n[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+z}var ye=!1;function he(t,n){if(!t||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var W=function(){throw Error()};if(Object.defineProperty(W.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(W,[])}catch(Q){var q=Q}Reflect.construct(t,[],W)}else{try{W.call()}catch(Q){q=Q}t.call(W.prototype)}}else{try{throw Error()}catch(Q){q=Q}(W=t())&&typeof W.catch=="function"&&W.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],T=d[1];if(_&&T){var w=_.split(`
`),U=T.split(`
`);for(h=l=0;l<w.length&&!w[l].includes("DetermineComponentFrameRoot");)l++;for(;h<U.length&&!U[h].includes("DetermineComponentFrameRoot");)h++;if(l===w.length||h===U.length)for(l=w.length-1,h=U.length-1;1<=l&&0<=h&&w[l]!==U[h];)h--;for(;1<=l&&0<=h;l--,h--)if(w[l]!==U[h]){if(l!==1||h!==1)do if(l--,h--,0>h||w[l]!==U[h]){var Y=`
`+w[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function rt(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=he(t.type,!1),t;case 11:return t=he(t.type.render,!1),t;case 1:return t=he(t.type,!0),t;default:return""}}function vt(t){try{var n="";do n+=rt(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mt(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function qt(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function N(t){if(mt(t)!==t)throw Error(s(188))}function tt(t){var n=t.alternate;if(!n){if(n=mt(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),t;if(d===l)return N(h),n;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var _=!1,T=h.child;T;){if(T===a){_=!0,a=h,l=d;break}if(T===l){_=!0,l=h,a=d;break}T=T.sibling}if(!_){for(T=d.child;T;){if(T===a){_=!0,a=d,l=h;break}if(T===l){_=!0,l=d,a=h;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function ct(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=ct(t),n!==null)return n;t=t.sibling}return null}var at=Array.isArray,st=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wt={pending:!1,data:null,method:null,action:null},St=[],fe=-1;function kt(t){return{current:t}}function ie(t){0>fe||(t.current=St[fe],St[fe]=null,fe--)}function Gt(t,n){fe++,St[fe]=t.current,t.current=n}var Ye=kt(null),mi=kt(null),vn=kt(null),Yi=kt(null);function $i(t,n){switch(Gt(vn,n),Gt(mi,t),Gt(Ye,null),t=n.nodeType,t){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?dy(n):0;break;default:if(t=t===8?n.parentNode:n,n=t.tagName,t=t.namespaceURI)t=dy(t),n=my(t,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ie(Ye),Gt(Ye,n)}function gi(){ie(Ye),ie(mi),ie(vn)}function Zs(t){t.memoizedState!==null&&Gt(Yi,t);var n=Ye.current,a=my(n,t.type);n!==a&&(Gt(mi,t),Gt(Ye,a))}function Ba(t){mi.current===t&&(ie(Ye),ie(mi)),Yi.current===t&&(ie(Yi),Zl._currentValue=wt)}var ja=Object.prototype.hasOwnProperty,Xr=r.unstable_scheduleCallback,qa=r.unstable_cancelCallback,ih=r.unstable_shouldYield,Ws=r.unstable_requestPaint,tn=r.unstable_now,Oo=r.unstable_getCurrentPriorityLevel,ve=r.unstable_ImmediatePriority,Ce=r.unstable_UserBlockingPriority,pi=r.unstable_NormalPriority,xo=r.unstable_LowPriority,Js=r.unstable_IdlePriority,rh=r.log,Zr=r.unstable_setDisableYieldValue,Xi=null,qe=null;function tl(t){if(qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Xi,t,void 0,(t.current.flags&128)===128)}catch{}}function Hn(t){if(typeof rh=="function"&&Zr(t),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Xi,t)}catch{}}var $e=Math.clz32?Math.clz32:Uo,el=Math.log,Mo=Math.LN2;function Uo(t){return t>>>=0,t===0?32:31-(el(t)/Mo|0)|0}var Fn=128,Zi=4194304;function Ln(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _n(t,n){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var T=a&134217727;return T!==0?(a=T&~h,a!==0?l=Ln(a):(d&=T,d!==0?l=Ln(d):t||(_=T&~_,_!==0&&(l=Ln(_))))):(T=a&~h,T!==0?l=Ln(T):d!==0?l=Ln(d):t||(_=a&~_,_!==0&&(l=Ln(_)))),l===0?0:n!==0&&n!==l&&(n&h)===0&&(h=l&-l,_=n&-n,h>=_||h===32&&(_&4194176)!==0)?n:l}function Wi(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ha(t,n){switch(t){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nl(){var t=Fn;return Fn<<=1,(Fn&4194176)===0&&(Fn=128),t}function Ji(){var t=Zi;return Zi<<=1,(Zi&62914560)===0&&(Zi=4194304),t}function Fa(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function oe(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Lo(t,n,a,l,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,U=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-$e(a),W=1<<Y;T[Y]=0,w[Y]=-1;var q=U[Y];if(q!==null)for(U[Y]=null,Y=0;Y<q.length;Y++){var Q=q[Y];Q!==null&&(Q.lane&=-536870913)}a&=~W}l!==0&&tr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~n))}function tr(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-$e(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function er(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-$e(a),h=1<<l;h&n|t[l]&n&&(t[l]|=n),a&=~h}}function Po(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ko(){var t=st.p;return t!==0?t:(t=window.event,t===void 0?32:Oy(t.type))}function nr(t,n){var a=st.p;try{return st.p=t,n()}finally{st.p=a}}var Gn=Math.random().toString(36).slice(2),De="__reactFiber$"+Gn,_e="__reactProps$"+Gn,yi="__reactContainer$"+Gn,Wr="__reactEvents$"+Gn,Ga="__reactListeners$"+Gn,Qn="__reactHandles$"+Gn,il="__reactResources$"+Gn,ir="__reactMarker$"+Gn;function Jr(t){delete t[De],delete t[_e],delete t[Wr],delete t[Ga],delete t[Qn]}function Pn(t){var n=t[De];if(n)return n;for(var a=t.parentNode;a;){if(n=a[yi]||a[De]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=yy(t);t!==null;){if(a=t[De])return a;t=yy(t)}return n}t=a,a=t.parentNode}return null}function vi(t){if(t=t[De]||t[yi]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function rr(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function ar(t){var n=t[il];return n||(n=t[il]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Jt(t){t[ir]=!0}var rl=new Set,Qa={};function ln(t,n){en(t,n),en(t+"Capture",n)}function en(t,n){for(Qa[t]=n,t=0;t<n.length;t++)rl.add(n[t])}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),al={},sl={};function zo(t){return ja.call(sl,t)?!0:ja.call(al,t)?!1:ah.test(t)?sl[t]=!0:(al[t]=!0,!1)}function sr(t,n,a){if(zo(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function lr(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function En(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Bo(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function sh(t){var n=Bo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return h.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function ta(t){t._valueTracker||(t._valueTracker=sh(t))}function ll(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Bo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Ka(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var _i=/[\n"\\]/g;function re(t){return t.replace(_i,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function or(t,n,a,l,h,d,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ya(t,_,Xe(n)):a!=null?Ya(t,_,Xe(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xe(T):t.removeAttribute("name")}function ea(t,n,a,l,h,d,_,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),n!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ya(t,n,a){n==="number"&&Ka(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function zt(t,n,a,l){if(t=t.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=n.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}n!==null||t[h].disabled||(n=t[h])}n!==null&&(n.selected=!0)}}function na(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function ur(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var lh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ol(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||lh.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function jo(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&a[h]!==l&&ol(t,h,l)}else for(var d in n)n.hasOwnProperty(d)&&ol(t,d,n[d])}function ul(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kn(t){return uh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var An=null;function $a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Ti=null;function Ai(t){var n=vi(t);if(n&&(t=n.stateNode)){var a=t[_e]||null;t:switch(t=n.stateNode,n.type){case"input":if(or(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+re(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var h=l[_e]||null;if(!h)throw Error(s(90));or(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&ll(l)}break t;case"textarea":na(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&zt(t,!!a.multiple,n,!1)}}}var cl=!1;function qo(t,n,a){if(cl)return t(n,a);cl=!0;try{var l=t(n);return l}finally{if(cl=!1,(Ei!==null||Ti!==null)&&(xu(),Ei&&(n=Ei,t=Ti,Ti=Ei=null,Ai(n),t)))for(n=0;n<t.length;n++)Ai(t[n])}}function ia(t,n){var a=t.stateNode;if(a===null)return null;var l=a[_e]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Sn=!1;if(on)try{var ra={};Object.defineProperty(ra,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",ra,ra),window.removeEventListener("test",ra,ra)}catch{Sn=!1}var Yn=null,cr=null,Si=null;function hl(){if(Si)return Si;var t,n=cr,a=n.length,l,h="value"in Yn?Yn.value:Yn.textContent,d=h.length;for(t=0;t<a&&n[t]===h[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===h[d-l];l++);return Si=h.slice(t,1<l?1-l:void 0)}function $n(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function fl(){return!1}function Ie(t){function n(a,l,h,d,_){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xn:fl,this.isPropagationStopped=fl,this}return I(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Ht={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xa=Ie(Ht),aa=I({},Ht,{view:0,detail:0}),Ho=Ie(aa),Za,Wa,Zn,sa=I({},aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ua,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(Za=t.screenX-Zn.screenX,Wa=t.screenY-Zn.screenY):Wa=Za=0,Zn=t),Za)},movementY:function(t){return"movementY"in t?t.movementY:Wa}}),bn=Ie(sa),Fo=I({},sa,{dataTransfer:0}),ch=Ie(Fo),la=I({},aa,{relatedTarget:0}),Ja=Ie(la),dl=I({},Ht,{animationName:0,elapsedTime:0,pseudoElement:0}),ts=Ie(dl),Go=I({},Ht,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),es=Ie(Go),hh=I({},Ht,{data:0}),ml=Ie(hh),oa={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ko={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gl(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Ko[t])?!!n[t]:!1}function ua(){return gl}var Yo=I({},aa,{key:function(t){if(t.key){var n=oa[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=$n(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ua,charCode:function(t){return t.type==="keypress"?$n(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$n(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ns=Ie(Yo),$o=I({},sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pl=Ie($o),bi=I({},aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ua}),Xo=Ie(bi),Zo=I({},Ht,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wo=Ie(Zo),Jo=I({},sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),is=Ie(Jo),Ze=I({},Ht,{newState:0,oldState:0}),tu=Ie(Ze),eu=[9,13,27,32],Wn=on&&"CompositionEvent"in window,u=null;on&&"documentMode"in document&&(u=document.documentMode);var g=on&&"TextEvent"in window&&!u,v=on&&(!Wn||u&&8<u&&11>=u),A=" ",k=!1;function H(t,n){switch(t){case"keyup":return eu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function it(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xt=!1;function Ee(t,n){switch(t){case"compositionend":return it(n);case"keypress":return n.which!==32?null:(k=!0,A);case"textInput":return t=n.data,t===A&&k?null:t;default:return null}}function Mt(t,n){if(xt)return t==="compositionend"||!Wn&&H(t,n)?(t=hl(),Si=cr=Yn=null,xt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function wi(t,n,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,n=ku(n,"onChange"),0<n.length&&(a=new Xa("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,Jn=null;function yl(t){oy(t,0)}function nu(t){var n=rr(t);if(ll(n))return t}function Pm(t,n){if(t==="change")return n}var km=!1;if(on){var fh;if(on){var dh="oninput"in document;if(!dh){var zm=document.createElement("div");zm.setAttribute("oninput","return;"),dh=typeof zm.oninput=="function"}fh=dh}else fh=!1;km=fh&&(!document.documentMode||9<document.documentMode)}function Bm(){Ue&&(Ue.detachEvent("onpropertychange",jm),Jn=Ue=null)}function jm(t){if(t.propertyName==="value"&&nu(Jn)){var n=[];wi(n,Jn,t,$a(t)),qo(yl,n)}}function j0(t,n,a){t==="focusin"?(Bm(),Ue=n,Jn=a,Ue.attachEvent("onpropertychange",jm)):t==="focusout"&&Bm()}function q0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nu(Jn)}function H0(t,n){if(t==="click")return nu(n)}function F0(t,n){if(t==="input"||t==="change")return nu(n)}function G0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:G0;function vl(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ja.call(n,h)||!un(t[h],n[h]))return!1}return!0}function qm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hm(t,n){var a=qm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=qm(a)}}function Fm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Fm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Ka(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Ka(t.document)}return n}function mh(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}function Q0(t,n){var a=Gm(n);n=t.focusedElem;var l=t.selectionRange;if(a!==n&&n&&n.ownerDocument&&Fm(n.ownerDocument.documentElement,n)){if(l!==null&&mh(n)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(a,n.value.length);else if(a=(t=n.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=n.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Hm(n,d);var _=Hm(n,l);h&&_&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=n;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)a=t[n],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var K0=on&&"documentMode"in document&&11>=document.documentMode,rs=null,gh=null,_l=null,ph=!1;function Qm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ph||rs==null||rs!==Ka(l)||(l=rs,"selectionStart"in l&&mh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),_l&&vl(_l,l)||(_l=l,l=ku(gh,"onSelect"),0<l.length&&(n=new Xa("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=rs)))}function ca(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var as={animationend:ca("Animation","AnimationEnd"),animationiteration:ca("Animation","AnimationIteration"),animationstart:ca("Animation","AnimationStart"),transitionrun:ca("Transition","TransitionRun"),transitionstart:ca("Transition","TransitionStart"),transitioncancel:ca("Transition","TransitionCancel"),transitionend:ca("Transition","TransitionEnd")},yh={},Km={};on&&(Km=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function ha(t){if(yh[t])return yh[t];if(!as[t])return t;var n=as[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Km)return yh[t]=n[a];return t}var Ym=ha("animationend"),$m=ha("animationiteration"),Xm=ha("animationstart"),Y0=ha("transitionrun"),$0=ha("transitionstart"),X0=ha("transitioncancel"),Zm=ha("transitionend"),Wm=new Map,Jm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function kn(t,n){Wm.set(t,n),ln(n,[t])}var wn=[],ss=0,vh=0;function iu(){for(var t=ss,n=vh=ss=0;n<t;){var a=wn[n];wn[n++]=null;var l=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var d=wn[n];if(wn[n++]=null,l!==null&&h!==null){var _=l.pending;_===null?h.next=h:(h.next=_.next,_.next=h),l.pending=h}d!==0&&tg(a,h,d)}}function ru(t,n,a,l){wn[ss++]=t,wn[ss++]=n,wn[ss++]=a,wn[ss++]=l,vh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function _h(t,n,a,l){return ru(t,n,a,l),au(t)}function hr(t,n){return ru(t,null,null,n),au(t)}function tg(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&n!==null&&t.tag===3&&(d=t.stateNode,h=31-$e(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[n]:t.push(n),n.lane=a|536870912)}function au(t){if(50<Fl)throw Fl=0,Rf=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var ls={},eg=new WeakMap;function Rn(t,n){if(typeof t=="object"&&t!==null){var a=eg.get(t);return a!==void 0?a:(n={value:t,source:n,stack:vt(n)},eg.set(t,n),n)}return{value:t,source:n,stack:vt(n)}}var os=[],us=0,su=null,lu=0,Cn=[],Dn=0,fa=null,Ri=1,Ci="";function da(t,n){os[us++]=lu,os[us++]=su,su=t,lu=n}function ng(t,n,a){Cn[Dn++]=Ri,Cn[Dn++]=Ci,Cn[Dn++]=fa,fa=t;var l=Ri;t=Ci;var h=32-$e(l)-1;l&=~(1<<h),a+=1;var d=32-$e(n)+h;if(30<d){var _=h-h%5;d=(l&(1<<_)-1).toString(32),l>>=_,h-=_,Ri=1<<32-$e(n)+h|a<<h|l,Ci=d+t}else Ri=1<<d|a<<h|l,Ci=t}function Eh(t){t.return!==null&&(da(t,1),ng(t,1,0))}function Th(t){for(;t===su;)su=os[--us],os[us]=null,lu=os[--us],os[us]=null;for(;t===fa;)fa=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null,Ri=Cn[--Dn],Cn[Dn]=null}var We=null,Le=null,Bt=!1,zn=null,ti=!1,Ah=Error(s(519));function ma(t){var n=Error(s(418,""));throw Al(Rn(n,t)),Ah}function ig(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[De]=t,n[_e]=l,a){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(a=0;a<Ql.length;a++)Nt(Ql[a],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),ea(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ta(n);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),ur(n,l.value,l.defaultValue,l.children),ta(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||fy(n.textContent,a)?(l.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),l.onScroll!=null&&Nt("scroll",n),l.onScrollEnd!=null&&Nt("scrollend",n),l.onClick!=null&&(n.onclick=zu),n=!0):n=!1,n||ma(t)}function rg(t){for(We=t.return;We;)switch(We.tag){case 3:case 27:ti=!0;return;case 5:case 13:ti=!1;return;default:We=We.return}}function El(t){if(t!==We)return!1;if(!Bt)return rg(t),Bt=!0,!1;var n=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Hf(t.type,t.memoizedProps)),a=!a),a&&(n=!0),n&&Le&&ma(t),rg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){Le=jn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}Le=null}}else Le=We?jn(t.stateNode.nextSibling):null;return!0}function Tl(){Le=We=null,Bt=!1}function Al(t){zn===null?zn=[t]:zn.push(t)}var Sl=Error(s(460)),ag=Error(s(474)),Sh={then:function(){}};function sg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ou(){}function lg(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(ou,ou),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Sl?Error(s(483)):t;default:if(typeof n.status=="string")n.then(ou,ou);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,t===Sl?Error(s(483)):t}throw bl=n,Sl}}var bl=null;function og(){if(bl===null)throw Error(s(459));var t=bl;return bl=null,t}var cs=null,wl=0;function uu(t){var n=wl;return wl+=1,cs===null&&(cs=[]),lg(cs,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cu(t,n){throw n.$$typeof===c?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ug(t){var n=t._init;return n(t._payload)}function cg(t){function n(P,O){if(t){var B=P.deletions;B===null?(P.deletions=[O],P.flags|=16):B.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)n(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Sr(P,O),P.index=0,P.sibling=null,P}function d(P,O,B){return P.index=B,t?(B=P.alternate,B!==null?(B=B.index,B<O?(P.flags|=33554434,O):B):(P.flags|=33554434,O)):(P.flags|=1048576,O)}function _(P){return t&&P.alternate===null&&(P.flags|=33554434),P}function T(P,O,B,X){return O===null||O.tag!==6?(O=vf(B,P.mode,X),O.return=P,O):(O=h(O,B),O.return=P,O)}function w(P,O,B,X){var ot=B.type;return ot===p?Y(P,O,B.props.children,X,B.key):O!==null&&(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===nt&&ug(ot)===O.type)?(O=h(O,B.props),Rl(O,B),O.return=P,O):(O=Du(B.type,B.key,B.props,null,P.mode,X),Rl(O,B),O.return=P,O)}function U(P,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=_f(B,P.mode,X),O.return=P,O):(O=h(O,B.children||[]),O.return=P,O)}function Y(P,O,B,X,ot){return O===null||O.tag!==7?(O=ba(B,P.mode,X,ot),O.return=P,O):(O=h(O,B),O.return=P,O)}function W(P,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vf(""+O,P.mode,B),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return B=Du(O.type,O.key,O.props,null,P.mode,B),Rl(B,O),B.return=P,B;case m:return O=_f(O,P.mode,B),O.return=P,O;case nt:var X=O._init;return O=X(O._payload),W(P,O,B)}if(at(O)||Rt(O))return O=ba(O,P.mode,B,null),O.return=P,O;if(typeof O.then=="function")return W(P,uu(O),B);if(O.$$typeof===V)return W(P,wu(P,O),B);cu(P,O)}return null}function q(P,O,B,X){var ot=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return ot!==null?null:T(P,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===ot?w(P,O,B,X):null;case m:return B.key===ot?U(P,O,B,X):null;case nt:return ot=B._init,B=ot(B._payload),q(P,O,B,X)}if(at(B)||Rt(B))return ot!==null?null:Y(P,O,B,X,null);if(typeof B.then=="function")return q(P,O,uu(B),X);if(B.$$typeof===V)return q(P,O,wu(P,B),X);cu(P,B)}return null}function Q(P,O,B,X,ot){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(B)||null,T(O,P,""+X,ot);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return P=P.get(X.key===null?B:X.key)||null,w(O,P,X,ot);case m:return P=P.get(X.key===null?B:X.key)||null,U(O,P,X,ot);case nt:var Dt=X._init;return X=Dt(X._payload),Q(P,O,B,X,ot)}if(at(X)||Rt(X))return P=P.get(B)||null,Y(O,P,X,ot,null);if(typeof X.then=="function")return Q(P,O,B,uu(X),ot);if(X.$$typeof===V)return Q(P,O,B,wu(O,X),ot);cu(O,X)}return null}function ut(P,O,B,X){for(var ot=null,Dt=null,ft=O,pt=O=0,xe=null;ft!==null&&pt<B.length;pt++){ft.index>pt?(xe=ft,ft=null):xe=ft.sibling;var jt=q(P,ft,B[pt],X);if(jt===null){ft===null&&(ft=xe);break}t&&ft&&jt.alternate===null&&n(P,ft),O=d(jt,O,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt,ft=xe}if(pt===B.length)return a(P,ft),Bt&&da(P,pt),ot;if(ft===null){for(;pt<B.length;pt++)ft=W(P,B[pt],X),ft!==null&&(O=d(ft,O,pt),Dt===null?ot=ft:Dt.sibling=ft,Dt=ft);return Bt&&da(P,pt),ot}for(ft=l(ft);pt<B.length;pt++)xe=Q(ft,P,pt,B[pt],X),xe!==null&&(t&&xe.alternate!==null&&ft.delete(xe.key===null?pt:xe.key),O=d(xe,O,pt),Dt===null?ot=xe:Dt.sibling=xe,Dt=xe);return t&&ft.forEach(function(Vr){return n(P,Vr)}),Bt&&da(P,pt),ot}function Tt(P,O,B,X){if(B==null)throw Error(s(151));for(var ot=null,Dt=null,ft=O,pt=O=0,xe=null,jt=B.next();ft!==null&&!jt.done;pt++,jt=B.next()){ft.index>pt?(xe=ft,ft=null):xe=ft.sibling;var Vr=q(P,ft,jt.value,X);if(Vr===null){ft===null&&(ft=xe);break}t&&ft&&Vr.alternate===null&&n(P,ft),O=d(Vr,O,pt),Dt===null?ot=Vr:Dt.sibling=Vr,Dt=Vr,ft=xe}if(jt.done)return a(P,ft),Bt&&da(P,pt),ot;if(ft===null){for(;!jt.done;pt++,jt=B.next())jt=W(P,jt.value,X),jt!==null&&(O=d(jt,O,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt);return Bt&&da(P,pt),ot}for(ft=l(ft);!jt.done;pt++,jt=B.next())jt=Q(ft,P,pt,jt.value,X),jt!==null&&(t&&jt.alternate!==null&&ft.delete(jt.key===null?pt:jt.key),O=d(jt,O,pt),Dt===null?ot=jt:Dt.sibling=jt,Dt=jt);return t&&ft.forEach(function(cA){return n(P,cA)}),Bt&&da(P,pt),ot}function le(P,O,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:t:{for(var ot=B.key;O!==null;){if(O.key===ot){if(ot=B.type,ot===p){if(O.tag===7){a(P,O.sibling),X=h(O,B.props.children),X.return=P,P=X;break t}}else if(O.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===nt&&ug(ot)===O.type){a(P,O.sibling),X=h(O,B.props),Rl(X,B),X.return=P,P=X;break t}a(P,O);break}else n(P,O);O=O.sibling}B.type===p?(X=ba(B.props.children,P.mode,X,B.key),X.return=P,P=X):(X=Du(B.type,B.key,B.props,null,P.mode,X),Rl(X,B),X.return=P,P=X)}return _(P);case m:t:{for(ot=B.key;O!==null;){if(O.key===ot)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(P,O.sibling),X=h(O,B.children||[]),X.return=P,P=X;break t}else{a(P,O);break}else n(P,O);O=O.sibling}X=_f(B,P.mode,X),X.return=P,P=X}return _(P);case nt:return ot=B._init,B=ot(B._payload),le(P,O,B,X)}if(at(B))return ut(P,O,B,X);if(Rt(B)){if(ot=Rt(B),typeof ot!="function")throw Error(s(150));return B=ot.call(B),Tt(P,O,B,X)}if(typeof B.then=="function")return le(P,O,uu(B),X);if(B.$$typeof===V)return le(P,O,wu(P,B),X);cu(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(P,O.sibling),X=h(O,B),X.return=P,P=X):(a(P,O),X=vf(B,P.mode,X),X.return=P,P=X),_(P)):a(P,O)}return function(P,O,B,X){try{wl=0;var ot=le(P,O,B,X);return cs=null,ot}catch(ft){if(ft===Sl)throw ft;var Dt=On(29,ft,null,P.mode);return Dt.lanes=X,Dt.return=P,Dt}finally{}}}var ga=cg(!0),hg=cg(!1),hs=kt(null),hu=kt(0);function fg(t,n){t=ki,Gt(hu,t),Gt(hs,n),ki=t|n.baseLanes}function bh(){Gt(hu,ki),Gt(hs,hs.current)}function wh(){ki=hu.current,ie(hs),ie(hu)}var In=kt(null),ei=null;function fr(t){var n=t.alternate;Gt(Ae,Ae.current&1),Gt(In,t),ei===null&&(n===null||hs.current!==null||n.memoizedState!==null)&&(ei=t)}function dg(t){if(t.tag===22){if(Gt(Ae,Ae.current),Gt(In,t),ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ei=t)}}else dr()}function dr(){Gt(Ae,Ae.current),Gt(In,In.current)}function Di(t){ie(In),ei===t&&(ei=null),ie(Ae)}var Ae=kt(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Z0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},W0=r.unstable_scheduleCallback,J0=r.unstable_NormalPriority,Se={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Rh(){return{controller:new Z0,data:new Map,refCount:0}}function Cl(t){t.refCount--,t.refCount===0&&W0(J0,function(){t.controller.abort()})}var Dl=null,Ch=0,fs=0,ds=null;function tT(t,n){if(Dl===null){var a=Dl=[];Ch=0,fs=Mf(),ds={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ch++,n.then(mg,mg),n}function mg(){if(--Ch===0&&Dl!==null){ds!==null&&(ds.status="fulfilled");var t=Dl;Dl=null,fs=0,ds=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function eT(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=b.S;b.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&tT(t,n),gg!==null&&gg(t,n)};var pa=kt(null);function Dh(){var t=pa.current;return t!==null?t:$t.pooledCache}function du(t,n){n===null?Gt(pa,pa.current):Gt(pa,n.pool)}function pg(){var t=Dh();return t===null?null:{parent:Se._currentValue,pool:t}}var mr=0,Ct=null,Qt=null,de=null,mu=!1,ms=!1,ya=!1,gu=0,Il=0,gs=null,nT=0;function ue(){throw Error(s(321))}function Ih(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function Vh(t,n,a,l,h,d){return mr=d,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,b.H=t===null||t.memoizedState===null?va:gr,ya=!1,d=a(l,h),ya=!1,ms&&(d=vg(n,a,l,h)),yg(t),d}function yg(t){b.H=ni;var n=Qt!==null&&Qt.next!==null;if(mr=0,de=Qt=Ct=null,mu=!1,Il=0,gs=null,n)throw Error(s(300));t===null||Ne||(t=t.dependencies,t!==null&&bu(t)&&(Ne=!0))}function vg(t,n,a,l){Ct=t;var h=0;do{if(ms&&(gs=null),Il=0,ms=!1,25<=h)throw Error(s(301));if(h+=1,de=Qt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=_a,d=n(a,l)}while(ms);return d}function iT(){var t=b.H,n=t.useState()[0];return n=typeof n.then=="function"?Vl(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(Ct.flags|=1024),n}function Nh(){var t=gu!==0;return gu=0,t}function Oh(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function xh(t){if(mu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}mu=!1}mr=0,de=Qt=Ct=null,ms=!1,Il=gu=0,gs=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Ct.memoizedState=de=t:de=de.next=t,de}function me(){if(Qt===null){var t=Ct.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=de===null?Ct.memoizedState:de.next;if(n!==null)de=n,Qt=t;else{if(t===null)throw Ct.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},de===null?Ct.memoizedState=de=t:de=de.next=t}return de}var pu;pu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Vl(t){var n=Il;return Il+=1,gs===null&&(gs=[]),t=lg(gs,t,n),n=Ct,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,b.H=n===null||n.memoizedState===null?va:gr),t}function yu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Vl(t);if(t.$$typeof===V)return He(t)}throw Error(s(438,String(t)))}function Mh(t){var n=null,a=Ct.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=Ct.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=pu(),Ct.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=yt;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function vu(t){var n=me();return Uh(n,Qt,t)}function Uh(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}n.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{n=h.next;var T=_=null,w=null,U=n,Y=!1;do{var W=U.lane&-536870913;if(W!==U.lane?(Ut&W)===W:(mr&W)===W){var q=U.revertLane;if(q===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),W===fs&&(Y=!0);else if((mr&q)===q){U=U.next,q===fs&&(Y=!0);continue}else W={lane:0,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(T=w=W,_=d):w=w.next=W,Ct.lanes|=q,br|=q;W=U.action,ya&&a(d,W),d=U.hasEagerState?U.eagerState:a(d,W)}else q={lane:W,revertLane:U.revertLane,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},w===null?(T=w=q,_=d):w=w.next=q,Ct.lanes|=W,br|=W;U=U.next}while(U!==null&&U!==n);if(w===null?_=d:w.next=T,!un(d,t.memoizedState)&&(Ne=!0,Y&&(a=ds,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=w,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lh(t){var n=me(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=n.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);un(d,n.memoizedState)||(Ne=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),a.lastRenderedState=d}return[d,l]}function _g(t,n,a){var l=Ct,h=me(),d=Bt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!un((Qt||h).memoizedState,a);if(_&&(h.memoizedState=a,Ne=!0),h=h.queue,zh(Ag.bind(null,l,h,t),[t]),h.getSnapshot!==n||_||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,ps(9,Tg.bind(null,l,h,a,n),{destroy:void 0},null),$t===null)throw Error(s(349));d||(mr&60)!==0||Eg(l,n,a)}return a}function Eg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=Ct.updateQueue,n===null?(n=pu(),Ct.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function Tg(t,n,a,l){n.value=a,n.getSnapshot=l,Sg(n)&&bg(t)}function Ag(t,n,a){return a(function(){Sg(n)&&bg(t)})}function Sg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function bg(t){var n=hr(t,2);n!==null&&Je(n,t,2)}function Ph(t){var n=nn();if(typeof t=="function"){var a=t;if(t=a(),ya){Hn(!0);try{a()}finally{Hn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function wg(t,n,a,l){return t.baseState=a,Uh(t,Qt,typeof l=="function"?l:Ii)}function rT(t,n,a,l,h){if(Tu(t))throw Error(s(485));if(t=n.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=n.pending,a===null?(d.next=n.pending=d,Rg(n,d)):(d.next=a.next,n.pending=a.next=d)}}function Rg(t,n){var a=n.action,l=n.payload,h=t.state;if(n.isTransition){var d=b.T,_={};b.T=_;try{var T=a(h,l),w=b.S;w!==null&&w(_,T),Cg(t,n,T)}catch(U){kh(t,n,U)}finally{b.T=d}}else try{d=a(h,l),Cg(t,n,d)}catch(U){kh(t,n,U)}}function Cg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Dg(t,n,l)},function(l){return kh(t,n,l)}):Dg(t,n,a)}function Dg(t,n,a){n.status="fulfilled",n.value=a,Ig(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,Rg(t,a)))}function kh(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,Ig(n),n=n.next;while(n!==l)}t.action=null}function Ig(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Vg(t,n){return n}function Ng(t,n){if(Bt){var a=$t.formState;if(a!==null){t:{var l=Ct;if(Bt){if(Le){e:{for(var h=Le,d=ti;h.nodeType!==8;){if(!d){h=null;break e}if(h=jn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Le=jn(h.nextSibling),l=h.data==="F!";break t}}ma(l)}l=!1}l&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vg,lastRenderedState:n},a.queue=l,a=$g.bind(null,Ct,l),l.dispatch=a,l=Ph(!1),d=Fh.bind(null,Ct,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:t,pending:null},l.queue=h,a=rT.bind(null,Ct,h,d,a),h.dispatch=a,l.memoizedState=t,[n,a,!1]}function Og(t){var n=me();return xg(n,Qt,t)}function xg(t,n,a){n=Uh(t,n,Vg)[0],t=vu(Ii)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?Vl(n):n;var l=me(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ct.flags|=2048,ps(9,aT.bind(null,h,a),{destroy:void 0},null)),[n,d,t]}function aT(t,n){t.action=n}function Mg(t){var n=me(),a=Qt;if(a!==null)return xg(n,a,t);me(),n=n.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function ps(t,n,a,l){return t={tag:t,create:n,inst:a,deps:l,next:null},n=Ct.updateQueue,n===null&&(n=pu(),Ct.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function Ug(){return me().memoizedState}function _u(t,n,a,l){var h=nn();Ct.flags|=t,h.memoizedState=ps(1|n,a,{destroy:void 0},l===void 0?null:l)}function Eu(t,n,a,l){var h=me();l=l===void 0?null:l;var d=h.memoizedState.inst;Qt!==null&&l!==null&&Ih(l,Qt.memoizedState.deps)?h.memoizedState=ps(n,a,d,l):(Ct.flags|=t,h.memoizedState=ps(1|n,a,d,l))}function Lg(t,n){_u(8390656,8,t,n)}function zh(t,n){Eu(2048,8,t,n)}function Pg(t,n){return Eu(4,2,t,n)}function kg(t,n){return Eu(4,4,t,n)}function zg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Bg(t,n,a){a=a!=null?a.concat([t]):null,Eu(4,4,zg.bind(null,n,t),a)}function Bh(){}function jg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Ih(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function qg(t,n){var a=me();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Ih(n,l[1]))return l[0];if(l=t(),ya){Hn(!0);try{t()}finally{Hn(!1)}}return a.memoizedState=[l,n],l}function jh(t,n,a){return a===void 0||(mr&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Fp(),Ct.lanes|=t,br|=t,a)}function Hg(t,n,a,l){return un(a,n)?a:hs.current!==null?(t=jh(t,a,l),un(t,n)||(Ne=!0),t):(mr&42)===0?(Ne=!0,t.memoizedState=a):(t=Fp(),Ct.lanes|=t,br|=t,n)}function Fg(t,n,a,l,h){var d=st.p;st.p=d!==0&&8>d?d:8;var _=b.T,T={};b.T=T,Fh(t,!1,n,a);try{var w=h(),U=b.S;if(U!==null&&U(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var Y=eT(w,l);Nl(t,n,Y,dn(t))}else Nl(t,n,l,dn(t))}catch(W){Nl(t,n,{then:function(){},status:"rejected",reason:W},dn())}finally{st.p=d,b.T=_}}function sT(){}function qh(t,n,a,l){if(t.tag!==5)throw Error(s(476));var h=Gg(t).queue;Fg(t,h,n,wt,a===null?sT:function(){return Qg(t),a(l)})}function Gg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:wt,baseState:wt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:wt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Qg(t){var n=Gg(t).next.queue;Nl(t,n,{},dn())}function Hh(){return He(Zl)}function Kg(){return me().memoizedState}function Yg(){return me().memoizedState}function lT(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=dn();t=vr(a);var l=_r(n,t,a);l!==null&&(Je(l,n,a),Ml(l,n,a)),n={cache:Rh()},t.payload=n;return}n=n.return}}function oT(t,n,a){var l=dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tu(t)?Xg(n,a):(a=_h(t,n,a,l),a!==null&&(Je(a,t,l),Zg(a,n,l)))}function $g(t,n,a){var l=dn();Nl(t,n,a,l)}function Nl(t,n,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tu(t))Xg(n,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var _=n.lastRenderedState,T=d(_,a);if(h.hasEagerState=!0,h.eagerState=T,un(T,_))return ru(t,n,h,0),$t===null&&iu(),!1}catch{}finally{}if(a=_h(t,n,h,l),a!==null)return Je(a,t,l),Zg(a,n,l),!0}return!1}function Fh(t,n,a,l){if(l={lane:2,revertLane:Mf(),action:l,hasEagerState:!1,eagerState:null,next:null},Tu(t)){if(n)throw Error(s(479))}else n=_h(t,a,l,2),n!==null&&Je(n,t,2)}function Tu(t){var n=t.alternate;return t===Ct||n!==null&&n===Ct}function Xg(t,n){ms=mu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Zg(t,n,a){if((a&4194176)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,er(t,a)}}var ni={readContext:He,use:yu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue};ni.useCacheRefresh=ue,ni.useMemoCache=ue,ni.useHostTransitionStatus=ue,ni.useFormState=ue,ni.useActionState=ue,ni.useOptimistic=ue;var va={readContext:He,use:yu,useCallback:function(t,n){return nn().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:Lg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,_u(4194308,4,zg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return _u(4194308,4,t,n)},useInsertionEffect:function(t,n){_u(4,2,t,n)},useMemo:function(t,n){var a=nn();n=n===void 0?null:n;var l=t();if(ya){Hn(!0);try{t()}finally{Hn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=nn();if(a!==void 0){var h=a(n);if(ya){Hn(!0);try{a(n)}finally{Hn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=oT.bind(null,Ct,t),[l.memoizedState,t]},useRef:function(t){var n=nn();return t={current:t},n.memoizedState=t},useState:function(t){t=Ph(t);var n=t.queue,a=$g.bind(null,Ct,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Bh,useDeferredValue:function(t,n){var a=nn();return jh(a,t,n)},useTransition:function(){var t=Ph(!1);return t=Fg.bind(null,Ct,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=Ct,h=nn();if(Bt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),$t===null)throw Error(s(349));(Ut&60)!==0||Eg(l,n,a)}h.memoizedState=a;var d={value:a,getSnapshot:n};return h.queue=d,Lg(Ag.bind(null,l,d,t),[t]),l.flags|=2048,ps(9,Tg.bind(null,l,d,a,n),{destroy:void 0},null),a},useId:function(){var t=nn(),n=$t.identifierPrefix;if(Bt){var a=Ci,l=Ri;a=(l&~(1<<32-$e(l)-1)).toString(32)+a,n=":"+n+"R"+a,a=gu++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=nT++,n=":"+n+"r"+a.toString(32)+":";return t.memoizedState=n},useCacheRefresh:function(){return nn().memoizedState=lT.bind(null,Ct)}};va.useMemoCache=Mh,va.useHostTransitionStatus=Hh,va.useFormState=Ng,va.useActionState=Ng,va.useOptimistic=function(t){var n=nn();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Fh.bind(null,Ct,!0,a),a.dispatch=n,[t,n]};var gr={readContext:He,use:yu,useCallback:jg,useContext:He,useEffect:zh,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:kg,useMemo:qg,useReducer:vu,useRef:Ug,useState:function(){return vu(Ii)},useDebugValue:Bh,useDeferredValue:function(t,n){var a=me();return Hg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=vu(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Vl(t),n]},useSyncExternalStore:_g,useId:Kg};gr.useCacheRefresh=Yg,gr.useMemoCache=Mh,gr.useHostTransitionStatus=Hh,gr.useFormState=Og,gr.useActionState=Og,gr.useOptimistic=function(t,n){var a=me();return wg(a,Qt,t,n)};var _a={readContext:He,use:yu,useCallback:jg,useContext:He,useEffect:zh,useImperativeHandle:Bg,useInsertionEffect:Pg,useLayoutEffect:kg,useMemo:qg,useReducer:Lh,useRef:Ug,useState:function(){return Lh(Ii)},useDebugValue:Bh,useDeferredValue:function(t,n){var a=me();return Qt===null?jh(a,t,n):Hg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Lh(Ii)[0],n=me().memoizedState;return[typeof t=="boolean"?t:Vl(t),n]},useSyncExternalStore:_g,useId:Kg};_a.useCacheRefresh=Yg,_a.useMemoCache=Mh,_a.useHostTransitionStatus=Hh,_a.useFormState=Mg,_a.useActionState=Mg,_a.useOptimistic=function(t,n){var a=me();return Qt!==null?wg(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])};function Gh(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:I({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qh={isMounted:function(t){return(t=t._reactInternals)?mt(t)===t:!1},enqueueSetState:function(t,n,a){t=t._reactInternals;var l=dn(),h=vr(l);h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Je(n,t,l),Ml(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=dn(),h=vr(l);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=_r(t,h,l),n!==null&&(Je(n,t,l),Ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=dn(),l=vr(a);l.tag=2,n!=null&&(l.callback=n),n=_r(t,l,a),n!==null&&(Je(n,t,a),Ml(n,t,a))}};function Wg(t,n,a,l,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):n.prototype&&n.prototype.isPureReactComponent?!vl(a,l)||!vl(h,d):!0}function Jg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Qh.enqueueReplaceState(n,n.state,null)}function Ea(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Au=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function tp(t){Au(t)}function ep(t){console.error(t)}function np(t){Au(t)}function Su(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ip(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Kh(t,n,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){Su(t,n)},a}function rp(t){return t=vr(t),t.tag=3,t}function ap(t,n,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){ip(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ip(n,a,l),typeof h!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function uT(t,n,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&xl(n,a,h,!0),a=In.current,a!==null){switch(a.tag){case 13:return ei===null?If():a.alternate===null&&se===0&&(se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Sh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Nf(t,l,h)),!1;case 22:return a.flags|=65536,l===Sh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Nf(t,l,h)),!1}throw Error(s(435,a.tag))}return Nf(t,l,h),If(),!1}if(Bt)return n=In.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Ah&&(t=Error(s(422),{cause:l}),Al(Rn(t,a)))):(l!==Ah&&(n=Error(s(423),{cause:l}),Al(Rn(n,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=Kh(t.stateNode,l,h),uf(t,h),se!==4&&(se=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),ql===null?ql=[d]:ql.push(d),se!==4&&(se=2),n===null)return!0;l=Rn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Kh(a.stateNode,l,t),uf(a,t),!1;case 1:if(n=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(wr===null||!wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=rp(h),ap(h,t,a,l),uf(a,h),!1}a=a.return}while(a!==null);return!1}var sp=Error(s(461)),Ne=!1;function Pe(t,n,a,l){n.child=t===null?hg(n,null,a,l):ga(n,t.child,a,l)}function lp(t,n,a,l,h){a=a.render;var d=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return Aa(n),l=Vh(t,n,a,_,d,h),T=Nh(),t!==null&&!Ne?(Oh(t,n,h),Vi(t,n,h)):(Bt&&T&&Eh(n),n.flags|=1,Pe(t,n,l,h),n.child)}function op(t,n,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!yf(d)&&d.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=d,up(t,n,d,l,h)):(t=Du(a.type,null,l,n,n.mode,h),t.ref=n.ref,t.return=n,n.child=t)}if(d=t.child,!nf(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:vl,a(_,l)&&t.ref===n.ref)return Vi(t,n,h)}return n.flags|=1,t=Sr(d,l),t.ref=n.ref,t.return=n,n.child=t}function up(t,n,a,l,h){if(t!==null){var d=t.memoizedProps;if(vl(d,l)&&t.ref===n.ref)if(Ne=!1,n.pendingProps=l=d,nf(t,h))(t.flags&131072)!==0&&(Ne=!0);else return n.lanes=t.lanes,Vi(t,n,h)}return Yh(t,n,a,l,h)}function cp(t,n,a){var l=n.pendingProps,h=l.children,d=(n.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(Ol(t,n),l.mode==="hidden"||d){if((n.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(h=n.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;n.childLanes=d&~l}else n.childLanes=0,n.child=null;return hp(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&du(n,_!==null?_.cachePool:null),_!==null?fg(n,_):bh(),dg(n);else return n.lanes=n.childLanes=536870912,hp(t,n,_!==null?_.baseLanes|a:a,a)}else _!==null?(du(n,_.cachePool),fg(n,_),dr(),n.memoizedState=null):(t!==null&&du(n,null),bh(),dr());return Pe(t,n,h,a),n.child}function hp(t,n,a,l){var h=Dh();return h=h===null?null:{parent:Se._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},t!==null&&du(n,null),bh(),dg(n),t!==null&&xl(t,n,l,!0),null}function Ol(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=2097664)}}function Yh(t,n,a,l,h){return Aa(n),a=Vh(t,n,a,l,void 0,h),l=Nh(),t!==null&&!Ne?(Oh(t,n,h),Vi(t,n,h)):(Bt&&l&&Eh(n),n.flags|=1,Pe(t,n,a,h),n.child)}function fp(t,n,a,l,h,d){return Aa(n),n.updateQueue=null,a=vg(n,l,a,h),yg(t),l=Nh(),t!==null&&!Ne?(Oh(t,n,d),Vi(t,n,d)):(Bt&&l&&Eh(n),n.flags|=1,Pe(t,n,a,d),n.child)}function dp(t,n,a,l,h){if(Aa(n),n.stateNode===null){var d=ls,_=a.contextType;typeof _=="object"&&_!==null&&(d=He(_)),d=new a(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qh,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},lf(n),_=a.contextType,d.context=typeof _=="object"&&_!==null?He(_):ls,d.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Gh(n,a,_,l),d.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Qh.enqueueReplaceState(d,d.state,null),Ll(n,l,d,h),Ul(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){d=n.stateNode;var T=n.memoizedProps,w=Ea(a,T);d.props=w;var U=d.context,Y=a.contextType;_=ls,typeof Y=="object"&&Y!==null&&(_=He(Y));var W=a.getDerivedStateFromProps;Y=typeof W=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||U!==_)&&Jg(n,d,l,_),yr=!1;var q=n.memoizedState;d.state=q,Ll(n,l,d,h),Ul(),U=n.memoizedState,T||q!==U||yr?(typeof W=="function"&&(Gh(n,a,W,l),U=n.memoizedState),(w=yr||Wg(n,a,w,l,q,U,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=U),d.props=l,d.state=U,d.context=_,l=w):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,of(t,n),_=n.memoizedProps,Y=Ea(a,_),d.props=Y,W=n.pendingProps,q=d.context,U=a.contextType,w=ls,typeof U=="object"&&U!==null&&(w=He(U)),T=a.getDerivedStateFromProps,(U=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==W||q!==w)&&Jg(n,d,l,w),yr=!1,q=n.memoizedState,d.state=q,Ll(n,l,d,h),Ul();var Q=n.memoizedState;_!==W||q!==Q||yr||t!==null&&t.dependencies!==null&&bu(t.dependencies)?(typeof T=="function"&&(Gh(n,a,T,l),Q=n.memoizedState),(Y=yr||Wg(n,a,Y,l,q,Q,w)||t!==null&&t.dependencies!==null&&bu(t.dependencies))?(U||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,w),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,w)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=Q),d.props=l,d.state=Q,d.context=w,l=Y):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(n.flags|=1024),l=!1)}return d=l,Ol(t,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,t!==null&&l?(n.child=ga(n,t.child,null,h),n.child=ga(n,null,a,h)):Pe(t,n,a,h),n.memoizedState=d.state,t=n.child):t=Vi(t,n,h),t}function mp(t,n,a,l){return Tl(),n.flags|=256,Pe(t,n,a,l),n.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Xh(t){return{baseLanes:t,cachePool:pg()}}function Zh(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=xn),t}function gp(t,n,a){var l=n.pendingProps,h=!1,d=(n.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),_&&(h=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(h?fr(n):dr(),Bt){var T=Le,w;if(w=T){t:{for(w=T,T=ti;w.nodeType!==8;){if(!T){T=null;break t}if(w=jn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:fa!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912},w=On(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,We=n,Le=null,w=!0):w=!1}w||ma(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return T.data==="$!"?n.lanes=16:n.lanes=536870912,null;Di(n)}return T=l.children,l=l.fallback,h?(dr(),h=n.mode,T=Jh({mode:"hidden",children:T},h),l=ba(l,h,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,h=n.child,h.memoizedState=Xh(a),h.childLanes=Zh(t,_,a),n.memoizedState=$h,l):(fr(n),Wh(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(d)n.flags&256?(fr(n),n.flags&=-257,n=tf(t,n,a)):n.memoizedState!==null?(dr(),n.child=t.child,n.flags|=128,n=null):(dr(),h=l.fallback,T=n.mode,l=Jh({mode:"visible",children:l.children},T),h=ba(h,T,a,null),h.flags|=2,l.return=n,h.return=n,l.sibling=h,n.child=l,ga(n,t.child,null,a),l=n.child,l.memoizedState=Xh(a),l.childLanes=Zh(t,_,a),n.memoizedState=$h,n=h);else if(fr(n),T.data==="$!"){if(_=T.nextSibling&&T.nextSibling.dataset,_)var U=_.dgst;_=U,l=Error(s(419)),l.stack="",l.digest=_,Al({value:l,source:null,stack:null}),n=tf(t,n,a)}else if(Ne||xl(t,n,a,!1),_=(a&t.childLanes)!==0,Ne||_){if(_=$t,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==w.retryLane)throw w.retryLane=l,hr(t,l),Je(_,t,l),sp}T.data==="$?"||If(),n=tf(t,n,a)}else T.data==="$?"?(n.flags|=128,n.child=t.child,n=bT.bind(null,t),T._reactRetry=n,n=null):(t=w.treeContext,Le=jn(T.nextSibling),We=n,Bt=!0,zn=null,ti=!1,t!==null&&(Cn[Dn++]=Ri,Cn[Dn++]=Ci,Cn[Dn++]=fa,Ri=t.id,Ci=t.overflow,fa=n),n=Wh(n,l.children),n.flags|=4096);return n}return h?(dr(),h=l.fallback,T=n.mode,w=t.child,U=w.sibling,l=Sr(w,{mode:"hidden",children:l.children}),l.subtreeFlags=w.subtreeFlags&31457280,U!==null?h=Sr(U,h):(h=ba(h,T,a,null),h.flags|=2),h.return=n,l.return=n,l.sibling=h,n.child=l,l=h,h=n.child,T=t.child.memoizedState,T===null?T=Xh(a):(w=T.cachePool,w!==null?(U=Se._currentValue,w=w.parent!==U?{parent:U,pool:U}:w):w=pg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Zh(t,_,a),n.memoizedState=$h,l):(fr(n),a=t.child,t=a.sibling,a=Sr(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Wh(t,n){return n=Jh({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Jh(t,n){return jp(t,n,0,null)}function tf(t,n,a){return ga(n,t.child,null,a),t=Wh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function pp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),af(t.return,n,a)}function ef(t,n,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function yp(t,n,a){var l=n.pendingProps,h=l.revealOrder,d=l.tail;if(Pe(t,n,l.children,a),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pp(t,a,n);else if(t.tag===19)pp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Gt(Ae,l),h){case"forwards":for(a=n.child,h=null;a!==null;)t=a.alternate,t!==null&&fu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),ef(n,!1,h,a,d);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(t=h.alternate,t!==null&&fu(t)===null){n.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ef(n,!0,a,null,d);break;case"together":ef(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Vi(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),br|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(xl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Sr(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Sr(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function nf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&bu(t)))}function cT(t,n,a){switch(n.tag){case 3:$i(n,n.stateNode.containerInfo),pr(n,Se,t.memoizedState.cache),Tl();break;case 27:case 5:Zs(n);break;case 4:$i(n,n.stateNode.containerInfo);break;case 10:pr(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?gp(t,n,a):(fr(n),t=Vi(t,n,a),t!==null?t.sibling:null);fr(n);break;case 19:var h=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(xl(t,n,a,!1),l=(a&n.childLanes)!==0),h){if(l)return yp(t,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Gt(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,cp(t,n,a);case 24:pr(n,Se,t.memoizedState.cache)}return Vi(t,n,a)}function vp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ne=!0;else{if(!nf(t,a)&&(n.flags&128)===0)return Ne=!1,cT(t,n,a);Ne=(t.flags&131072)!==0}else Ne=!1,Bt&&(n.flags&1048576)!==0&&ng(n,lu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,h=l._init;if(l=h(l._payload),n.type=l,typeof l=="function")yf(l)?(t=Ea(l,t),n.tag=1,n=dp(null,n,l,t,a)):(n.tag=0,n=Yh(null,n,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){n.tag=11,n=lp(null,n,l,t,a);break t}else if(h===$){n.tag=14,n=op(null,n,l,t,a);break t}}throw n=R(l)||l,Error(s(306,n,""))}}return n;case 0:return Yh(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,h=Ea(l,n.pendingProps),dp(t,n,l,h,a);case 3:t:{if($i(n,n.stateNode.containerInfo),t===null)throw Error(s(387));var d=n.pendingProps;h=n.memoizedState,l=h.element,of(t,n),Ll(n,d,null,a);var _=n.memoizedState;if(d=_.cache,pr(n,Se,d),d!==h.cache&&sf(n,[Se],a,!0),Ul(),d=_.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=mp(t,n,d,a);break t}else if(d!==l){l=Rn(Error(s(424)),n),Al(l),n=mp(t,n,d,a);break t}else for(Le=jn(n.stateNode.containerInfo.firstChild),We=n,Bt=!0,zn=null,ti=!0,a=hg(n,null,d,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Tl(),d===l){n=Vi(t,n,a);break t}Pe(t,n,d,a)}n=n.child}return n;case 26:return Ol(t,n),t===null?(a=Ty(n.type,null,n.pendingProps,null))?n.memoizedState=a:Bt||(a=n.type,t=n.pendingProps,l=Bu(vn.current).createElement(a),l[De]=n,l[_e]=t,ke(l,a,t),Jt(l),n.stateNode=l):n.memoizedState=Ty(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Zs(n),t===null&&Bt&&(l=n.stateNode=vy(n.type,n.pendingProps,vn.current),We=n,ti=!0,Le=jn(l.firstChild)),l=n.pendingProps.children,t!==null||Bt?Pe(t,n,l,a):n.child=ga(n,null,l,a),Ol(t,n),n.child;case 5:return t===null&&Bt&&((h=l=Le)&&(l=BT(l,n.type,n.pendingProps,ti),l!==null?(n.stateNode=l,We=n,Le=jn(l.firstChild),ti=!1,h=!0):h=!1),h||ma(n)),Zs(n),h=n.type,d=n.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,Hf(h,d)?l=null:_!==null&&Hf(h,_)&&(n.flags|=32),n.memoizedState!==null&&(h=Vh(t,n,iT,null,null,a),Zl._currentValue=h),Ol(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&Bt&&((t=a=Le)&&(a=jT(a,n.pendingProps,ti),a!==null?(n.stateNode=a,We=n,Le=null,t=!0):t=!1),t||ma(n)),null;case 13:return gp(t,n,a);case 4:return $i(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ga(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return lp(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,pr(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Aa(n),h=He(h),l=l(h),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return op(t,n,n.type,n.pendingProps,a);case 15:return up(t,n,n.type,n.pendingProps,a);case 19:return yp(t,n,a);case 22:return cp(t,n,a);case 24:return Aa(n),l=He(Se),t===null?(h=Dh(),h===null&&(h=$t,d=Rh(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),n.memoizedState={parent:l,cache:h},lf(n),pr(n,Se,h)):((t.lanes&a)!==0&&(of(t,n),Ll(n,null,null,a),Ul()),h=t.memoizedState,d=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),pr(n,Se,l)):(l=d.cache,pr(n,Se,l),l!==h.cache&&sf(n,[Se],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var rf=kt(null),Ta=null,Ni=null;function pr(t,n,a){Gt(rf,n._currentValue),n._currentValue=a}function Oi(t){t._currentValue=rf.current,ie(rf)}function af(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function sf(t,n,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;t:for(;d!==null;){var T=d;d=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),af(d.return,a,t),l||(_=null);break t}d=T.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),af(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function xl(t,n,a,l){t=null;for(var h=n,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=h.type;un(h.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(h===Yi.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Zl):t=[Zl])}h=h.return}t!==null&&sf(n,t,a,l),n.flags|=262144}function bu(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Aa(t){Ta=t,Ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return _p(Ta,t)}function wu(t,n){return Ta===null&&Aa(t),_p(t,n)}function _p(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Ni===null){if(t===null)throw Error(s(308));Ni=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Ni=Ni.next=n;return a}var yr=!1;function lf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ee&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=au(t),tg(t,null,a),n}return ru(t,l,n,a),au(t)}function Ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194176)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,er(t,a)}}function uf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=n:d=d.next=n}else h=d=n;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var cf=!1;function Ul(){if(cf){var t=ds;if(t!==null)throw t}}function Ll(t,n,a,l){cf=!1;var h=t.updateQueue;yr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,U=w.next;w.next=null,_===null?d=U:_.next=U,_=w;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==_&&(T===null?Y.firstBaseUpdate=U:T.next=U,Y.lastBaseUpdate=w))}if(d!==null){var W=h.baseState;_=0,Y=U=w=null,T=d;do{var q=T.lane&-536870913,Q=q!==T.lane;if(Q?(Ut&q)===q:(l&q)===q){q!==0&&q===fs&&(cf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=t,Tt=T;q=n;var le=a;switch(Tt.tag){case 1:if(ut=Tt.payload,typeof ut=="function"){W=ut.call(le,W,q);break t}W=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Tt.payload,q=typeof ut=="function"?ut.call(le,W,q):ut,q==null)break t;W=I({},W,q);break t;case 2:yr=!0}}q=T.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(U=Y=Q,w=W):Y=Y.next=Q,_|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;Q=T,T=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(w=W),h.baseState=w,h.firstBaseUpdate=U,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),br|=_,t.lanes=_,t.memoizedState=W}}function Ep(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Tp(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Ep(a[t],n)}function Pl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==h)}}catch(T){Yt(n,n.return,T)}}function Er(t,n,a){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,h=n;var w=a;try{T()}catch(U){Yt(h,w,U)}}}l=l.next}while(l!==d)}}catch(U){Yt(n,n.return,U)}}function Ap(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Tp(n,a)}catch(l){Yt(t,t.return,l)}}}function Sp(t,n,a){a.props=Ea(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Yt(t,n,l)}}function Sa(t,n){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Yt(t,n,d)}}function cn(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Yt(t,n,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Yt(t,n,h)}else a.current=null}function bp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Yt(t,t.return,h)}}function wp(t,n,a){try{var l=t.stateNode;UT(l,t.type,a,n),l[_e]=n}catch(h){Yt(t,t.return,h)}}function Rp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function hf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Rp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ff(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.nodeType===8?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(a.nodeType===8?(n=a.parentNode,n.insertBefore(t,a)):(n=a,n.appendChild(t)),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=zu));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ff(t,n,a),t=t.sibling;t!==null;)ff(t,n,a),t=t.sibling}function Ru(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ru(t,n,a),t=t.sibling;t!==null;)Ru(t,n,a),t=t.sibling}var xi=!1,ae=!1,df=!1,Cp=typeof WeakSet=="function"?WeakSet:Set,Oe=null,Dp=!1;function hT(t,n){if(t=t.containerInfo,jf=Qu,t=Gm(t),mh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,T=-1,w=-1,U=0,Y=0,W=t,q=null;e:for(;;){for(var Q;W!==a||h!==0&&W.nodeType!==3||(T=_+h),W!==d||l!==0&&W.nodeType!==3||(w=_+l),W.nodeType===3&&(_+=W.nodeValue.length),(Q=W.firstChild)!==null;)q=W,W=Q;for(;;){if(W===t)break e;if(q===a&&++U===h&&(T=_),q===d&&++Y===l&&(w=_),(Q=W.nextSibling)!==null)break;W=q,q=W.parentNode}W=Q}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(qf={focusedElem:t,selectionRange:a},Qu=!1,Oe=n;Oe!==null;)if(n=Oe,t=n.child,(n.subtreeFlags&1028)!==0&&t!==null)t.return=n,Oe=t;else for(;Oe!==null;){switch(n=Oe,d=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=n,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ut=Ea(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Tt){Yt(a,a.return,Tt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Qf(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Oe=t;break}Oe=n.return}return ut=Dp,Dp=!1,ut}function Ip(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(t,a),l&4&&Pl(5,a);break;case 1:if(Ui(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(T){Yt(a,a.return,T)}else{var h=Ea(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(h,n,t.__reactInternalSnapshotBeforeUpdate)}catch(T){Yt(a,a.return,T)}}l&64&&Ap(a),l&512&&Sa(a,a.return);break;case 3:if(Ui(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Tp(l,t)}catch(T){Yt(a,a.return,T)}}break;case 26:Ui(t,a),l&512&&Sa(a,a.return);break;case 27:case 5:Ui(t,a),n===null&&l&4&&bp(a),l&512&&Sa(a,a.return);break;case 12:Ui(t,a);break;case 13:Ui(t,a),l&4&&Op(t,a);break;case 22:if(h=a.memoizedState!==null||xi,!h){n=n!==null&&n.memoizedState!==null||ae;var d=xi,_=ae;xi=h,(ae=n)&&!_?Tr(t,a,(a.subtreeFlags&8772)!==0):Ui(t,a),xi=d,ae=_}l&512&&(a.memoizedProps.mode==="manual"?Sa(a,a.return):cn(a,a.return));break;default:Ui(t,a)}}function Vp(t){var n=t.alternate;n!==null&&(t.alternate=null,Vp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Jr(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ge=null,hn=!1;function Mi(t,n,a){for(a=a.child;a!==null;)Np(t,n,a),a=a.sibling}function Np(t,n,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Xi,a)}catch{}switch(a.tag){case 26:ae||cn(a,n),Mi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ae||cn(a,n);var l=ge,h=hn;for(ge=a.stateNode,Mi(t,n,a),a=a.stateNode,n=a.attributes;n.length;)a.removeAttributeNode(n[0]);Jr(a),ge=l,hn=h;break;case 5:ae||cn(a,n);case 6:h=ge;var d=hn;if(ge=null,Mi(t,n,a),ge=h,hn=d,ge!==null)if(hn)try{t=ge,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Yt(a,n,_)}else try{ge.removeChild(a.stateNode)}catch(_){Yt(a,n,_)}break;case 18:ge!==null&&(hn?(n=ge,a=a.stateNode,n.nodeType===8?Gf(n.parentNode,a):n.nodeType===1&&Gf(n,a),eo(n)):Gf(ge,a.stateNode));break;case 4:l=ge,h=hn,ge=a.stateNode.containerInfo,hn=!0,Mi(t,n,a),ge=l,hn=h;break;case 0:case 11:case 14:case 15:ae||Er(2,a,n),ae||Er(4,a,n),Mi(t,n,a);break;case 1:ae||(cn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Sp(a,n,l)),Mi(t,n,a);break;case 21:Mi(t,n,a);break;case 22:ae||cn(a,n),ae=(l=ae)||a.memoizedState!==null,Mi(t,n,a),ae=l;break;default:Mi(t,n,a)}}function Op(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Yt(n,n.return,a)}}function fT(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Cp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Cp),n;default:throw Error(s(435,t.tag))}}function mf(t,n){var a=fT(t);n.forEach(function(l){var h=wT.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Vn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:case 5:ge=T.stateNode,hn=!1;break t;case 3:ge=T.stateNode.containerInfo,hn=!0;break t;case 4:ge=T.stateNode.containerInfo,hn=!0;break t}T=T.return}if(ge===null)throw Error(s(160));Np(d,_,h),ge=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)xp(n,t),n=n.sibling}var Bn=null;function xp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(n,t),Nn(t),l&4&&(Er(3,t,t.return),Pl(3,t),Er(5,t,t.return));break;case 1:Vn(n,t),Nn(t),l&512&&(ae||a===null||cn(a,a.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Bn;if(Vn(n,t),Nn(t),l&512&&(ae||a===null||cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ir]||d[De]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),ke(d,l,a),d[De]=t,Jt(d),l=d;break t;case"link":var _=by("link","href",h).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(d=_[T],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}d=h.createElement(l),ke(d,l,a),h.head.appendChild(d);break;case"meta":if(_=by("meta","content",h).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(d=_[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}d=h.createElement(l),ke(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[De]=t,Jt(d),l=d}t.stateNode=l}else wy(h,t.type,t.stateNode);else t.stateNode=Sy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?wy(h,t.type,t.stateNode):Sy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wp(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var w=h.firstChild;w;){var U=w.nextSibling,Y=w.nodeName;w[ir]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&w.rel.toLowerCase()==="stylesheet"||h.removeChild(w),w=U}for(var W=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);ke(h,W,d),h[De]=t,h[_e]=d}catch(ut){Yt(t,t.return,ut)}}case 5:if(Vn(n,t),Nn(t),l&512&&(ae||a===null||cn(a,a.return)),t.flags&32){h=t.stateNode;try{Tn(h,"")}catch(ut){Yt(t,t.return,ut)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,wp(t,h,a!==null?a.memoizedProps:h)),l&1024&&(df=!0);break;case 6:if(Vn(n,t),Nn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ut){Yt(t,t.return,ut)}}break;case 3:if(Hu=null,h=Bn,Bn=ju(n.containerInfo),Vn(n,t),Bn=h,Nn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(n.containerInfo)}catch(ut){Yt(t,t.return,ut)}df&&(df=!1,Mp(t));break;case 4:l=Bn,Bn=ju(t.stateNode.containerInfo),Vn(n,t),Nn(t),Bn=l;break;case 12:Vn(n,t),Nn(t);break;case 13:Vn(n,t),Nn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sf=tn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mf(t,l)));break;case 22:if(l&512&&(ae||a===null||cn(a,a.return)),w=t.memoizedState!==null,U=a!==null&&a.memoizedState!==null,Y=xi,W=ae,xi=Y||w,ae=W||U,Vn(n,t),ae=W,xi=Y,Nn(t),n=t.stateNode,n._current=t,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,l&8192&&(n._visibility=w?n._visibility&-2:n._visibility|1,w&&(n=xi||ae,a===null||U||n||ys(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))t:for(a=null,n=t;;){if(n.tag===5||n.tag===26||n.tag===27){if(a===null){U=a=n;try{if(h=U.stateNode,w)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{_=U.stateNode,T=U.memoizedProps.style;var Q=T!=null&&T.hasOwnProperty("display")?T.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(ut){Yt(U,U.return,ut)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=w?"":U.memoizedProps}catch(ut){Yt(U,U.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,mf(t,a))));break;case 19:Vn(n,t),Nn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,mf(t,l)));break;case 21:break;default:Vn(n,t),Nn(t)}}function Nn(t){var n=t.flags;if(n&2){try{if(t.tag!==27){t:{for(var a=t.return;a!==null;){if(Rp(a)){var l=a;break t}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=hf(t);Ru(t,d,h);break;case 5:var _=l.stateNode;l.flags&32&&(Tn(_,""),l.flags&=-33);var T=hf(t);Ru(t,T,_);break;case 3:case 4:var w=l.stateNode.containerInfo,U=hf(t);ff(t,U,w);break;default:throw Error(s(161))}}}catch(Y){Yt(t,t.return,Y)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Mp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Mp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ui(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ip(t,n.alternate,n),n=n.sibling}function ys(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Er(4,n,n.return),ys(n);break;case 1:cn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&Sp(n,n.return,a),ys(n);break;case 26:case 27:case 5:cn(n,n.return),ys(n);break;case 22:cn(n,n.return),n.memoizedState===null&&ys(n);break;default:ys(n)}t=t.sibling}}function Tr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=t,d=n,_=d.flags;switch(d.tag){case 0:case 11:case 15:Tr(h,d,a),Pl(4,d);break;case 1:if(Tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(U){Yt(l,l.return,U)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)Ep(w[h],T)}catch(U){Yt(l,l.return,U)}}a&&_&64&&Ap(d),Sa(d,d.return);break;case 26:case 27:case 5:Tr(h,d,a),a&&l===null&&_&4&&bp(d),Sa(d,d.return);break;case 12:Tr(h,d,a);break;case 13:Tr(h,d,a),a&&_&4&&Op(h,d);break;case 22:d.memoizedState===null&&Tr(h,d,a),Sa(d,d.return);break;default:Tr(h,d,a)}n=n.sibling}}function gf(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Cl(a))}function pf(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t))}function Ar(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Up(t,n,a,l),n=n.sibling}function Up(t,n,a,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Ar(t,n,a,l),h&2048&&Pl(9,n);break;case 3:Ar(t,n,a,l),h&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&Cl(t)));break;case 12:if(h&2048){Ar(t,n,a,l),t=n.stateNode;try{var d=n.memoizedProps,_=d.id,T=d.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Yt(n,n.return,w)}}else Ar(t,n,a,l);break;case 23:break;case 22:d=n.stateNode,n.memoizedState!==null?d._visibility&4?Ar(t,n,a,l):kl(t,n):d._visibility&4?Ar(t,n,a,l):(d._visibility|=4,vs(t,n,a,l,(n.subtreeFlags&10256)!==0)),h&2048&&gf(n.alternate,n);break;case 24:Ar(t,n,a,l),h&2048&&pf(n.alternate,n);break;default:Ar(t,n,a,l)}}function vs(t,n,a,l,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var d=t,_=n,T=a,w=l,U=_.flags;switch(_.tag){case 0:case 11:case 15:vs(d,_,T,w,h),Pl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?vs(d,_,T,w,h):kl(d,_):(Y._visibility|=4,vs(d,_,T,w,h)),h&&U&2048&&gf(_.alternate,_);break;case 24:vs(d,_,T,w,h),h&&U&2048&&pf(_.alternate,_);break;default:vs(d,_,T,w,h)}n=n.sibling}}function kl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,h=l.flags;switch(l.tag){case 22:kl(a,l),h&2048&&gf(l.alternate,l);break;case 24:kl(a,l),h&2048&&pf(l.alternate,l);break;default:kl(a,l)}n=n.sibling}}var zl=8192;function _s(t){if(t.subtreeFlags&zl)for(t=t.child;t!==null;)Lp(t),t=t.sibling}function Lp(t){switch(t.tag){case 26:_s(t),t.flags&zl&&t.memoizedState!==null&&tA(Bn,t.memoizedState,t.memoizedProps);break;case 5:_s(t);break;case 3:case 4:var n=Bn;Bn=ju(t.stateNode.containerInfo),_s(t),Bn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=zl,zl=16777216,_s(t),zl=n):_s(t));break;default:_s(t)}}function Pp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Bl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,zp(l,t)}Pp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kp(t),t=t.sibling}function kp(t){switch(t.tag){case 0:case 11:case 15:Bl(t),t.flags&2048&&Er(9,t,t.return);break;case 3:Bl(t);break;case 12:Bl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&4&&(t.return===null||t.return.tag!==13)?(n._visibility&=-5,Cu(t)):Bl(t);break;default:Bl(t)}}function Cu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Oe=l,zp(l,t)}Pp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Er(8,n,n.return),Cu(n);break;case 22:a=n.stateNode,a._visibility&4&&(a._visibility&=-5,Cu(n));break;default:Cu(n)}t=t.sibling}}function zp(t,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:Er(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Oe=l;else t:for(a=t;Oe!==null;){l=Oe;var h=l.sibling,d=l.return;if(Vp(l),l===a){Oe=null;break t}if(h!==null){h.return=d,Oe=h;break t}Oe=d}}}function dT(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,n,a,l){return new dT(t,n,a,l)}function yf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sr(t,n){var a=t.alternate;return a===null?(a=On(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Bp(t,n){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,a,l,h,d){var _=0;if(l=t,typeof t=="function")yf(t)&&(_=1);else if(typeof t=="string")_=WT(t,a,Ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case p:return ba(a.children,h,d,n);case y:_=8,h|=24;break;case E:return t=On(12,a,n,h|2),t.elementType=E,t.lanes=d,t;case F:return t=On(13,a,n,h),t.elementType=F,t.lanes=d,t;case j:return t=On(19,a,n,h),t.elementType=j,t.lanes=d,t;case et:return jp(a,h,d,n);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S:case V:_=10;break t;case C:_=9;break t;case L:_=11;break t;case $:_=14;break t;case nt:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=On(_,a,n,h),n.elementType=t,n.type=l,n.lanes=d,n}function ba(t,n,a,l){return t=On(7,t,l,n),t.lanes=a,t}function jp(t,n,a,l){t=On(22,t,l,n),t.elementType=et,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var _=hr(d,2);_!==null&&(h._pendingVisibility|=2,Je(_,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var _=hr(d,2);_!==null&&(h._pendingVisibility&=-3,Je(_,d,2))}}};return t.stateNode=h,t}function vf(t,n,a){return t=On(6,t,null,n),t.lanes=a,t}function _f(t,n,a){return n=On(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}function Li(t){t.flags|=4}function qp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ry(n)){if(n=In.current,n!==null&&((Ut&4194176)===Ut?ei!==null:(Ut&62914560)!==Ut&&(Ut&536870912)===0||n!==ei))throw bl=Sh,ag;t.flags|=8192}}function Iu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ji():536870912,t.lanes|=n,Ts|=n)}function jl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function te(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function mT(t,n,a){var l=n.pendingProps;switch(Th(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Oi(Se),gi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(El(n)?Li(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zn!==null&&(Cf(zn),zn=null))),te(n),null;case 26:return a=n.memoizedState,t===null?(Li(n),a!==null?(te(n),qp(n,a)):(te(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Li(n),te(n),qp(n,a)):(te(n),n.flags&=-16777217):(t.memoizedProps!==l&&Li(n),te(n),n.flags&=-16777217),null;case 27:Ba(n),a=vn.current;var h=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}t=Ye.current,El(n)?ig(n):(t=vy(h,l,a),n.stateNode=t,Li(n))}return te(n),null;case 5:if(Ba(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return te(n),null}if(t=Ye.current,El(n))ig(n);else{switch(h=Bu(vn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[De]=n,t[_e]=l;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=t;t:switch(ke(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Li(n)}}return te(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Li(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vn.current,El(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[De]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||fy(t.nodeValue,a)),t||ma(n)}else t=Bu(t).createTextNode(l),t[De]=n,n.stateNode=t}return te(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=El(n),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[De]=n}else Tl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else zn!==null&&(Cf(zn),zn=null),h=!0;if(!h)return n.flags&256?(Di(n),n):(Di(n),null)}if(Di(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),Iu(n,n.updateQueue),te(n),null;case 4:return gi(),t===null&&kf(n.stateNode.containerInfo),te(n),null;case 10:return Oi(n.type),te(n),null;case 19:if(ie(Ae),h=n.memoizedState,h===null)return te(n),null;if(l=(n.flags&128)!==0,d=h.rendering,d===null)if(l)jl(h,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(d=fu(t),d!==null){for(n.flags|=128,jl(h,!1),t=d.updateQueue,n.updateQueue=t,Iu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Bp(a,t),a=a.sibling;return Gt(Ae,Ae.current&1|2),n.child}t=t.sibling}h.tail!==null&&tn()>Vu&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304)}else{if(!l)if(t=fu(d),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Iu(n,t),jl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Bt)return te(n),null}else 2*tn()-h.renderingStartTime>Vu&&a!==536870912&&(n.flags|=128,l=!0,jl(h,!1),n.lanes=4194304);h.isBackwards?(d.sibling=n.child,n.child=d):(t=h.last,t!==null?t.sibling=d:n.child=d,h.last=d)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=tn(),n.sibling=null,t=Ae.current,Gt(Ae,l?t&1|2:t&1),n):(te(n),null);case 22:case 23:return Di(n),wh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),a=n.updateQueue,a!==null&&Iu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&ie(pa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Oi(Se),te(n),null;case 25:return null}throw Error(s(156,n.tag))}function gT(t,n){switch(Th(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Oi(Se),gi(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return Ba(n),null;case 13:if(Di(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Tl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(Ae),null;case 4:return gi(),null;case 10:return Oi(n.type),null;case 22:case 23:return Di(n),wh(),t!==null&&ie(pa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Oi(Se),null;case 25:return null;default:return null}}function Hp(t,n){switch(Th(n),n.tag){case 3:Oi(Se),gi();break;case 26:case 27:case 5:Ba(n);break;case 4:gi();break;case 13:Di(n);break;case 19:ie(Ae);break;case 10:Oi(n.type);break;case 22:case 23:Di(n),wh(),t!==null&&ie(pa);break;case 24:Oi(Se)}}var pT={getCacheForType:function(t){var n=He(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},yT=typeof WeakMap=="function"?WeakMap:Map,ee=0,$t=null,It=null,Ut=0,Xt=0,fn=null,Pi=!1,Es=!1,Ef=!1,ki=0,se=0,br=0,wa=0,Tf=0,xn=0,Ts=0,ql=null,ii=null,Af=!1,Sf=0,Vu=1/0,Nu=null,wr=null,Ou=!1,Ra=null,Hl=0,bf=0,wf=null,Fl=0,Rf=null;function dn(){if((ee&2)!==0&&Ut!==0)return Ut&-Ut;if(b.T!==null){var t=fs;return t!==0?t:Mf()}return ko()}function Fp(){xn===0&&(xn=(Ut&536870912)===0||Bt?nl():536870912);var t=In.current;return t!==null&&(t.flags|=32),xn}function Je(t,n,a){(t===$t&&Xt===2||t.cancelPendingCommit!==null)&&(As(t,0),zi(t,Ut,xn,!1)),oe(t,a),((ee&2)===0||t!==$t)&&(t===$t&&((ee&2)===0&&(wa|=a),se===4&&zi(t,Ut,xn,!1)),ri(t))}function Gp(t,n,a){if((ee&6)!==0)throw Error(s(327));var l=!a&&(n&60)===0&&(n&t.expiredLanes)===0||Wi(t,n),h=l?ET(t,n):Vf(t,n,!0),d=l;do{if(h===0){Es&&!l&&zi(t,n,0,!1);break}else if(h===6)zi(t,n,0,!Pi);else{if(a=t.current.alternate,d&&!vT(a)){h=Vf(t,n,!1),d=!1;continue}if(h===2){if(d=n,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;h=ql;var w=T.current.memoizedState.isDehydrated;if(w&&(As(T,_).flags|=256),_=Vf(T,_,!1),_!==2){if(Ef&&!w){T.errorRecoveryDisabledLanes|=d,wa|=d,h=4;break t}d=ii,ii=h,d!==null&&Cf(d)}h=_}if(d=!1,h!==2)continue}}if(h===1){As(t,0),zi(t,n,0,!0);break}t:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){zi(l,n,xn,!Pi);break t}break;case 2:ii=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=n,(n&62914560)===n&&(d=Sf+300-tn(),10<d)){if(zi(l,n,xn,!Pi),_n(l,0)!==0)break t;l.timeoutHandle=gy(Qp.bind(null,l,a,ii,Nu,Af,n,xn,wa,Ts,Pi,2,-0,0),d);break t}Qp(l,a,ii,Nu,Af,n,xn,wa,Ts,Pi,0,-0,0)}}break}while(!0);ri(t)}function Cf(t){ii===null?ii=t:ii.push.apply(ii,t)}function Qp(t,n,a,l,h,d,_,T,w,U,Y,W,q){var Q=n.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Xl={stylesheets:null,count:0,unsuspend:JT},Lp(n),n=eA(),n!==null)){t.cancelPendingCommit=n(Jp.bind(null,t,a,l,h,_,T,w,1,W,q)),zi(t,d,_,!U);return}Jp(t,a,l,h,_,T,w,Y,W,q)}function vT(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!un(d(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function zi(t,n,a,l){n&=~Tf,n&=~wa,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var h=n;0<h;){var d=31-$e(h),_=1<<d;l[d]=-1,h&=~_}a!==0&&tr(t,a,n)}function xu(){return(ee&6)===0?(Gl(0),!1):!0}function Df(){if(It!==null){if(Xt===0)var t=It.return;else t=It,Ni=Ta=null,xh(t),cs=null,wl=0,t=It;for(;t!==null;)Hp(t.alternate,t),t=t.return;It=null}}function As(t,n){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Df(),$t=t,It=a=Sr(t.current,null),Ut=n,Xt=0,fn=null,Pi=!1,Es=Wi(t,n),Ef=!1,Ts=xn=Tf=wa=br=se=0,ii=ql=null,Af=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var h=31-$e(l),d=1<<h;n|=t[h],l&=~d}return ki=n,iu(),a}function Kp(t,n){Ct=null,b.H=ni,n===Sl?(n=og(),Xt=3):n===ag?(n=og(),Xt=4):Xt=n===sp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,It===null&&(se=1,Su(t,Rn(n,t.current)))}function Yp(){var t=b.H;return b.H=ni,t===null?ni:t}function $p(){var t=b.A;return b.A=pT,t}function If(){se=4,Pi||(Ut&4194176)!==Ut&&In.current!==null||(Es=!0),(br&134217727)===0&&(wa&134217727)===0||$t===null||zi($t,Ut,xn,!1)}function Vf(t,n,a){var l=ee;ee|=2;var h=Yp(),d=$p();($t!==t||Ut!==n)&&(Nu=null,As(t,n)),n=!1;var _=se;t:do try{if(Xt!==0&&It!==null){var T=It,w=fn;switch(Xt){case 8:Df(),_=6;break t;case 3:case 2:case 6:In.current===null&&(n=!0);var U=Xt;if(Xt=0,fn=null,Ss(t,T,w,U),a&&Es){_=0;break t}break;default:U=Xt,Xt=0,fn=null,Ss(t,T,w,U)}}_T(),_=se;break}catch(Y){Kp(t,Y)}while(!0);return n&&t.shellSuspendCounter++,Ni=Ta=null,ee=l,b.H=h,b.A=d,It===null&&($t=null,Ut=0,iu()),_}function _T(){for(;It!==null;)Xp(It)}function ET(t,n){var a=ee;ee|=2;var l=Yp(),h=$p();$t!==t||Ut!==n?(Nu=null,Vu=tn()+500,As(t,n)):Es=Wi(t,n);t:do try{if(Xt!==0&&It!==null){n=It;var d=fn;e:switch(Xt){case 1:Xt=0,fn=null,Ss(t,n,d,1);break;case 2:if(sg(d)){Xt=0,fn=null,Zp(n);break}n=function(){Xt===2&&$t===t&&(Xt=7),ri(t)},d.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:sg(d)?(Xt=0,fn=null,Zp(n)):(Xt=0,fn=null,Ss(t,n,d,7));break;case 5:var _=null;switch(It.tag){case 26:_=It.memoizedState;case 5:case 27:var T=It;if(!_||Ry(_)){Xt=0,fn=null;var w=T.sibling;if(w!==null)It=w;else{var U=T.return;U!==null?(It=U,Mu(U)):It=null}break e}}Xt=0,fn=null,Ss(t,n,d,5);break;case 6:Xt=0,fn=null,Ss(t,n,d,6);break;case 8:Df(),se=6;break t;default:throw Error(s(462))}}TT();break}catch(Y){Kp(t,Y)}while(!0);return Ni=Ta=null,b.H=l,b.A=h,ee=a,It!==null?0:($t=null,Ut=0,iu(),se)}function TT(){for(;It!==null&&!ih();)Xp(It)}function Xp(t){var n=vp(t.alternate,t,ki);t.memoizedProps=t.pendingProps,n===null?Mu(t):It=n}function Zp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=fp(a,n,n.pendingProps,n.type,void 0,Ut);break;case 11:n=fp(a,n,n.pendingProps,n.type.render,n.ref,Ut);break;case 5:xh(n);default:Hp(a,n),n=It=Bp(n,ki),n=vp(a,n,ki)}t.memoizedProps=t.pendingProps,n===null?Mu(t):It=n}function Ss(t,n,a,l){Ni=Ta=null,xh(n),cs=null,wl=0;var h=n.return;try{if(uT(t,h,n,a,Ut)){se=1,Su(t,Rn(a,t.current)),It=null;return}}catch(d){if(h!==null)throw It=h,d;se=1,Su(t,Rn(a,t.current)),It=null;return}n.flags&32768?(Bt||l===1?t=!0:Es||(Ut&536870912)!==0?t=!1:(Pi=t=!0,(l===2||l===3||l===6)&&(l=In.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wp(n,t)):Mu(n)}function Mu(t){var n=t;do{if((n.flags&32768)!==0){Wp(n,Pi);return}t=n.return;var a=mT(n.alternate,n,ki);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=t}while(n!==null);se===0&&(se=5)}function Wp(t,n){do{var a=gT(t.alternate,t);if(a!==null){a.flags&=32767,It=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){It=t;return}It=t=a}while(t!==null);se=6,It=null}function Jp(t,n,a,l,h,d,_,T,w,U){var Y=b.T,W=st.p;try{st.p=2,b.T=null,AT(t,n,a,l,W,h,d,_,T,w,U)}finally{b.T=Y,st.p=W}}function AT(t,n,a,l,h,d,_,T){do bs();while(Ra!==null);if((ee&6)!==0)throw Error(s(327));var w=t.finishedWork;if(l=t.finishedLanes,w===null)return null;if(t.finishedWork=null,t.finishedLanes=0,w===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var U=w.lanes|w.childLanes;if(U|=vh,Lo(t,l,U,d,_,T),t===$t&&(It=$t=null,Ut=0),(w.subtreeFlags&10256)===0&&(w.flags&10256)===0||Ou||(Ou=!0,bf=U,wf=a,RT(pi,function(){return bs(),null})),a=(w.flags&15990)!==0,(w.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=st.p,st.p=2,_=ee,ee|=4,hT(t,w),xp(w,t),Q0(qf,t.containerInfo),Qu=!!jf,qf=jf=null,t.current=w,Ip(t,w.alternate,w),Ws(),ee=_,st.p=d,b.T=a):t.current=w,Ou?(Ou=!1,Ra=t,Hl=l):ty(t,U),U=t.pendingLanes,U===0&&(wr=null),tl(w.stateNode),ri(t),n!==null)for(h=t.onRecoverableError,w=0;w<n.length;w++)U=n[w],h(U.value,{componentStack:U.stack});return(Hl&3)!==0&&bs(),U=t.pendingLanes,(l&4194218)!==0&&(U&42)!==0?t===Rf?Fl++:(Fl=0,Rf=t):Fl=0,Gl(0),null}function ty(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,Cl(n)))}function bs(){if(Ra!==null){var t=Ra,n=bf;bf=0;var a=Po(Hl),l=b.T,h=st.p;try{if(st.p=32>a?32:a,b.T=null,Ra===null)var d=!1;else{a=wf,wf=null;var _=Ra,T=Hl;if(Ra=null,Hl=0,(ee&6)!==0)throw Error(s(331));var w=ee;if(ee|=4,kp(_.current),Up(_,_.current,T,a),ee=w,Gl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Xi,_)}catch{}d=!0}return d}finally{st.p=h,b.T=l,ty(t,n)}}return!1}function ey(t,n,a){n=Rn(a,n),n=Kh(t.stateNode,n,2),t=_r(t,n,2),t!==null&&(oe(t,2),ri(t))}function Yt(t,n,a){if(t.tag===3)ey(t,t,a);else for(;n!==null;){if(n.tag===3){ey(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wr===null||!wr.has(l))){t=Rn(a,t),a=rp(2),l=_r(n,a,2),l!==null&&(ap(a,l,n,t),oe(l,2),ri(l));break}}n=n.return}}function Nf(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(a)||(Ef=!0,h.add(a),t=ST.bind(null,t,n,a),n.then(t,t))}function ST(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,$t===t&&(Ut&a)===a&&(se===4||se===3&&(Ut&62914560)===Ut&&300>tn()-Sf?(ee&2)===0&&As(t,0):Tf|=a,Ts===Ut&&(Ts=0)),ri(t)}function ny(t,n){n===0&&(n=Ji()),t=hr(t,n),t!==null&&(oe(t,n),ri(t))}function bT(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),ny(t,a)}function wT(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),ny(t,a)}function RT(t,n){return Xr(t,n)}var Uu=null,ws=null,Of=!1,Lu=!1,xf=!1,Ca=0;function ri(t){t!==ws&&t.next===null&&(ws===null?Uu=ws=t:ws=ws.next=t),Lu=!0,Of||(Of=!0,DT(CT))}function Gl(t,n){if(!xf&&Lu){xf=!0;do for(var a=!1,l=Uu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var _=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-$e(42|t)+1)-1,d&=h&~(_&~T),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,ay(l,d))}else d=Ut,d=_n(l,l===$t?d:0),(d&3)===0||Wi(l,d)||(a=!0,ay(l,d));l=l.next}while(a);xf=!1}}function CT(){Lu=Of=!1;var t=0;Ca!==0&&(LT()&&(t=Ca),Ca=0);for(var n=tn(),a=null,l=Uu;l!==null;){var h=l.next,d=iy(l,n);d===0?(l.next=null,a===null?Uu=h:a.next=h,h===null&&(ws=a)):(a=l,(t!==0||(d&3)!==0)&&(Lu=!0)),l=h}Gl(t)}function iy(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-$e(d),T=1<<_,w=h[_];w===-1?((T&a)===0||(T&l)!==0)&&(h[_]=Ha(T,n)):w<=n&&(t.expiredLanes|=T),d&=~T}if(n=$t,a=Ut,a=_n(t,t===n?a:0),l=t.callbackNode,a===0||t===n&&Xt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&qa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wi(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&qa(l),Po(a)){case 2:case 8:a=Ce;break;case 32:a=pi;break;case 268435456:a=Js;break;default:a=pi}return l=ry.bind(null,t),a=Xr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&qa(l),t.callbackPriority=2,t.callbackNode=null,2}function ry(t,n){var a=t.callbackNode;if(bs()&&t.callbackNode!==a)return null;var l=Ut;return l=_n(t,t===$t?l:0),l===0?null:(Gp(t,l,n),iy(t,tn()),t.callbackNode!=null&&t.callbackNode===a?ry.bind(null,t):null)}function ay(t,n){if(bs())return null;Gp(t,n,!0)}function DT(t){kT(function(){(ee&6)!==0?Xr(ve,t):t()})}function Mf(){return Ca===0&&(Ca=nl()),Ca}function sy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Kn(""+t)}function ly(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function IT(t,n,a,l,h){if(n==="submit"&&a&&a.stateNode===h){var d=sy((h[_e]||null).action),_=l.submitter;_&&(n=(n=_[_e]||null)?sy(n.formAction):_.getAttribute("formAction"),n!==null&&(d=n,_=null));var T=new Xa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ca!==0){var w=_?ly(h,_):new FormData(h);qh(a,{pending:!0,data:w,method:h.method,action:d},null,w)}}else typeof d=="function"&&(T.preventDefault(),w=_?ly(h,_):new FormData(h),qh(a,{pending:!0,data:w,method:h.method,action:d},d,w))},currentTarget:h}]})}}for(var Uf=0;Uf<Jm.length;Uf++){var Lf=Jm[Uf],VT=Lf.toLowerCase(),NT=Lf[0].toUpperCase()+Lf.slice(1);kn(VT,"on"+NT)}kn(Ym,"onAnimationEnd"),kn($m,"onAnimationIteration"),kn(Xm,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(Y0,"onTransitionRun"),kn($0,"onTransitionStart"),kn(X0,"onTransitionCancel"),kn(Zm,"onTransitionEnd"),en("onMouseEnter",["mouseout","mouseover"]),en("onMouseLeave",["mouseout","mouseover"]),en("onPointerEnter",["pointerout","pointerover"]),en("onPointerLeave",["pointerout","pointerover"]),ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ln("onBeforeInput",["compositionend","keypress","textInput","paste"]),ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ql));function oy(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],w=T.instance,U=T.currentTarget;if(T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Y){Au(Y)}h.currentTarget=null,d=w}else for(_=0;_<l.length;_++){if(T=l[_],w=T.instance,U=T.currentTarget,T=T.listener,w!==d&&h.isPropagationStopped())break t;d=T,h.currentTarget=U;try{d(h)}catch(Y){Au(Y)}h.currentTarget=null,d=w}}}}function Nt(t,n){var a=n[Wr];a===void 0&&(a=n[Wr]=new Set);var l=t+"__bubble";a.has(l)||(uy(n,t,2,!1),a.add(l))}function Pf(t,n,a){var l=0;n&&(l|=4),uy(a,t,l,n)}var Pu="_reactListening"+Math.random().toString(36).slice(2);function kf(t){if(!t[Pu]){t[Pu]=!0,rl.forEach(function(a){a!=="selectionchange"&&(OT.has(a)||Pf(a,!1,t),Pf(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Pu]||(n[Pu]=!0,Pf("selectionchange",!1,n))}}function uy(t,n,a,l){switch(Oy(n)){case 2:var h=rA;break;case 8:h=aA;break;default:h=Zf}a=h.bind(null,n,a,t),h=void 0,!Sn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(n,a,{capture:!0,passive:h}):t.addEventListener(n,a,!0):h!==void 0?t.addEventListener(n,a,{passive:h}):t.addEventListener(n,a,!1)}function zf(t,n,a,l,h){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===h||T.nodeType===8&&T.parentNode===h)break;if(_===4)for(_=l.return;_!==null;){var w=_.tag;if((w===3||w===4)&&(w=_.stateNode.containerInfo,w===h||w.nodeType===8&&w.parentNode===h))return;_=_.return}for(;T!==null;){if(_=Pn(T),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){l=d=_;continue t}T=T.parentNode}}l=l.return}qo(function(){var U=d,Y=$a(a),W=[];t:{var q=Wm.get(t);if(q!==void 0){var Q=Xa,ut=t;switch(t){case"keypress":if($n(a)===0)break t;case"keydown":case"keyup":Q=ns;break;case"focusin":ut="focus",Q=Ja;break;case"focusout":ut="blur",Q=Ja;break;case"beforeblur":case"afterblur":Q=Ja;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ch;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xo;break;case Ym:case $m:case Xm:Q=ts;break;case Zm:Q=Wo;break;case"scroll":case"scrollend":Q=Ho;break;case"wheel":Q=is;break;case"copy":case"cut":case"paste":Q=es;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=pl;break;case"toggle":case"beforetoggle":Q=tu}var Tt=(n&4)!==0,le=!Tt&&(t==="scroll"||t==="scrollend"),P=Tt?q!==null?q+"Capture":null:q;Tt=[];for(var O=U,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||P===null||(X=ia(O,P),X!=null&&Tt.push(Kl(O,X,B))),le)break;O=O.return}0<Tt.length&&(q=new Q(q,ut,null,a,Y),W.push({event:q,listeners:Tt}))}}if((n&7)===0){t:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==An&&(ut=a.relatedTarget||a.fromElement)&&(Pn(ut)||ut[yi]))break t;if((Q||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(ut=a.relatedTarget||a.toElement,Q=U,ut=ut?Pn(ut):null,ut!==null&&(le=mt(ut),Tt=ut.tag,ut!==le||Tt!==5&&Tt!==27&&Tt!==6)&&(ut=null)):(Q=null,ut=U),Q!==ut)){if(Tt=bn,X="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Tt=pl,X="onPointerLeave",P="onPointerEnter",O="pointer"),le=Q==null?q:rr(Q),B=ut==null?q:rr(ut),q=new Tt(X,O+"leave",Q,a,Y),q.target=le,q.relatedTarget=B,X=null,Pn(Y)===U&&(Tt=new Tt(P,O+"enter",ut,a,Y),Tt.target=B,Tt.relatedTarget=le,X=Tt),le=X,Q&&ut)e:{for(Tt=Q,P=ut,O=0,B=Tt;B;B=Rs(B))O++;for(B=0,X=P;X;X=Rs(X))B++;for(;0<O-B;)Tt=Rs(Tt),O--;for(;0<B-O;)P=Rs(P),B--;for(;O--;){if(Tt===P||P!==null&&Tt===P.alternate)break e;Tt=Rs(Tt),P=Rs(P)}Tt=null}else Tt=null;Q!==null&&cy(W,q,Q,Tt,!1),ut!==null&&le!==null&&cy(W,le,ut,Tt,!0)}}t:{if(q=U?rr(U):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var ot=Pm;else if(Te(q))if(km)ot=F0;else{ot=q0;var Dt=j0}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&ul(U.elementType)&&(ot=Pm):ot=H0;if(ot&&(ot=ot(t,U))){wi(W,ot,a,Y);break t}Dt&&Dt(t,q,U),t==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&Ya(q,"number",q.value)}switch(Dt=U?rr(U):window,t){case"focusin":(Te(Dt)||Dt.contentEditable==="true")&&(rs=Dt,gh=U,_l=null);break;case"focusout":_l=gh=rs=null;break;case"mousedown":ph=!0;break;case"contextmenu":case"mouseup":case"dragend":ph=!1,Qm(W,a,Y);break;case"selectionchange":if(K0)break;case"keydown":case"keyup":Qm(W,a,Y)}var ft;if(Wn)t:{switch(t){case"compositionstart":var pt="onCompositionStart";break t;case"compositionend":pt="onCompositionEnd";break t;case"compositionupdate":pt="onCompositionUpdate";break t}pt=void 0}else xt?H(t,a)&&(pt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pt="onCompositionStart");pt&&(v&&a.locale!=="ko"&&(xt||pt!=="onCompositionStart"?pt==="onCompositionEnd"&&xt&&(ft=hl()):(Yn=Y,cr="value"in Yn?Yn.value:Yn.textContent,xt=!0)),Dt=ku(U,pt),0<Dt.length&&(pt=new ml(pt,t,null,a,Y),W.push({event:pt,listeners:Dt}),ft?pt.data=ft:(ft=it(a),ft!==null&&(pt.data=ft)))),(ft=g?Ee(t,a):Mt(t,a))&&(pt=ku(U,"onBeforeInput"),0<pt.length&&(Dt=new ml("onBeforeInput","beforeinput",null,a,Y),W.push({event:Dt,listeners:pt}),Dt.data=ft)),IT(W,t,U,a,Y)}oy(W,n)})}function Kl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function ku(t,n){for(var a=n+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ia(t,a),h!=null&&l.unshift(Kl(t,h,d)),h=ia(t,n),h!=null&&l.push(Kl(t,h,d))),t=t.return}return l}function Rs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function cy(t,n,a,l,h){for(var d=n._reactName,_=[];a!==null&&a!==l;){var T=a,w=T.alternate,U=T.stateNode;if(T=T.tag,w!==null&&w===l)break;T!==5&&T!==26&&T!==27||U===null||(w=U,h?(U=ia(a,d),U!=null&&_.unshift(Kl(a,U,w))):h||(U=ia(a,d),U!=null&&_.push(Kl(a,U,w)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var xT=/\r\n?/g,MT=/\u0000|\uFFFD/g;function hy(t){return(typeof t=="string"?t:""+t).replace(xT,`
`).replace(MT,"")}function fy(t,n){return n=hy(n),hy(t)===n}function zu(){}function Kt(t,n,a,l,h,d){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":lr(t,"class",l);break;case"tabIndex":lr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":lr(t,a,l);break;case"style":jo(t,l,d);break;case"data":if(n!=="object"){lr(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Kn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(n!=="input"&&Kt(t,n,"name",h.name,h,null),Kt(t,n,"formEncType",h.formEncType,h,null),Kt(t,n,"formMethod",h.formMethod,h,null),Kt(t,n,"formTarget",h.formTarget,h,null)):(Kt(t,n,"encType",h.encType,h,null),Kt(t,n,"method",h.method,h,null),Kt(t,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Kn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=zu);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Kn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Nt("beforetoggle",t),Nt("toggle",t),sr(t,"popover",l);break;case"xlinkActuate":En(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":En(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":En(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":En(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":En(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":En(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":En(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":En(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":En(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":sr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=oh.get(a)||a,sr(t,a,l))}}function Bf(t,n,a,l,h,d){switch(a){case"style":jo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Nt("scroll",t);break;case"onScrollEnd":l!=null&&Nt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qa.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),d=t[_e]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(n,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,h);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):sr(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",t),Nt("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,d,_,a,null)}}h&&Kt(t,n,"srcSet",a.srcSet,a,null),l&&Kt(t,n,"src",a.src,a,null);return;case"input":Nt("invalid",t);var T=d=_=h=null,w=null,U=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":_=Y;break;case"checked":w=Y;break;case"defaultChecked":U=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,n));break;default:Kt(t,n,l,Y,a,null)}}ea(t,d,T,w,U,_,h,!1),ta(t);return;case"select":Nt("invalid",t),l=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Kt(t,n,h,T,a,null)}n=d,a=_,t.multiple=!!l,n!=null?zt(t,!!l,n,!1):a!=null&&zt(t,!!l,a,!0);return;case"textarea":Nt("invalid",t),d=h=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Kt(t,n,_,T,a,null)}ur(t,l,h,d),ta(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(l=a[w],l!=null))switch(w){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Kt(t,n,w,l,a,null)}return;case"dialog":Nt("cancel",t),Nt("close",t);break;case"iframe":case"object":Nt("load",t);break;case"video":case"audio":for(l=0;l<Ql.length;l++)Nt(Ql[l],t);break;case"image":Nt("error",t),Nt("load",t);break;case"details":Nt("toggle",t);break;case"embed":case"source":case"link":Nt("error",t),Nt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in a)if(a.hasOwnProperty(U)&&(l=a[U],l!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Kt(t,n,U,l,a,null)}return;default:if(ul(n)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Bf(t,n,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Kt(t,n,T,l,a,null))}function UT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,T=null,w=null,U=null,Y=null;for(Q in a){var W=a[Q];if(a.hasOwnProperty(Q)&&W!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":w=W;default:l.hasOwnProperty(Q)||Kt(t,n,Q,null,l,W)}}for(var q in l){var Q=l[q];if(W=a[q],l.hasOwnProperty(q)&&(Q!=null||W!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":U=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,n));break;default:Q!==W&&Kt(t,n,q,Q,l,W)}}or(t,_,T,w,U,Y,d,h);return;case"select":Q=_=T=q=null;for(d in a)if(w=a[d],a.hasOwnProperty(d)&&w!=null)switch(d){case"value":break;case"multiple":Q=w;default:l.hasOwnProperty(d)||Kt(t,n,d,null,l,w)}for(h in l)if(d=l[h],w=a[h],l.hasOwnProperty(h)&&(d!=null||w!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":_=d;default:d!==w&&Kt(t,n,h,d,l,w)}n=T,a=_,l=Q,q!=null?zt(t,!!a,q,!1):!!l!=!!a&&(n!=null?zt(t,!!a,n,!0):zt(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Kt(t,n,T,null,l,h)}for(_ in l)if(h=l[_],d=a[_],l.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Kt(t,n,_,h,l,d)}na(t,q,Q);return;case"option":for(var ut in a)if(q=a[ut],a.hasOwnProperty(ut)&&q!=null&&!l.hasOwnProperty(ut))switch(ut){case"selected":t.selected=!1;break;default:Kt(t,n,ut,null,l,q)}for(w in l)if(q=l[w],Q=a[w],l.hasOwnProperty(w)&&q!==Q&&(q!=null||Q!=null))switch(w){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Kt(t,n,w,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Tt in a)q=a[Tt],a.hasOwnProperty(Tt)&&q!=null&&!l.hasOwnProperty(Tt)&&Kt(t,n,Tt,null,l,q);for(U in l)if(q=l[U],Q=a[U],l.hasOwnProperty(U)&&q!==Q&&(q!=null||Q!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:Kt(t,n,U,q,l,Q)}return;default:if(ul(n)){for(var le in a)q=a[le],a.hasOwnProperty(le)&&q!==void 0&&!l.hasOwnProperty(le)&&Bf(t,n,le,void 0,l,q);for(Y in l)q=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||q===Q||q===void 0&&Q===void 0||Bf(t,n,Y,q,l,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&Kt(t,n,P,null,l,q);for(W in l)q=l[W],Q=a[W],!l.hasOwnProperty(W)||q===Q||q==null&&Q==null||Kt(t,n,W,q,l,Q)}var jf=null,qf=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function dy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function my(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Hf(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ff=null;function LT(){var t=window.event;return t&&t.type==="popstate"?t===Ff?!1:(Ff=t,!0):(Ff=null,!1)}var gy=typeof setTimeout=="function"?setTimeout:void 0,PT=typeof clearTimeout=="function"?clearTimeout:void 0,py=typeof Promise=="function"?Promise:void 0,kT=typeof queueMicrotask=="function"?queueMicrotask:typeof py<"u"?function(t){return py.resolve(null).then(t).catch(zT)}:gy;function zT(t){setTimeout(function(){throw t})}function Gf(t,n){var a=n,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),eo(n);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);eo(n)}function Qf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qf(a),Jr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BT(t,n,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ir])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function jT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}function yy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function vy(t,n,a){switch(n=Bu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Mn=new Map,_y=new Set;function ju(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Bi=st.d;st.d={f:qT,r:HT,D:FT,C:GT,L:QT,m:KT,X:$T,S:YT,M:XT};function qT(){var t=Bi.f(),n=xu();return t||n}function HT(t){var n=vi(t);n!==null&&n.tag===5&&n.type==="form"?Qg(n):Bi.r(t)}var Cs=typeof document>"u"?null:document;function Ey(t,n,a){var l=Cs;if(l&&typeof n=="string"&&n){var h=re(n);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),_y.has(h)||(_y.add(h),t={rel:t,crossOrigin:a,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),ke(n,"link",t),Jt(n),l.head.appendChild(n)))}}function FT(t){Bi.D(t),Ey("dns-prefetch",t,null)}function GT(t,n){Bi.C(t,n),Ey("preconnect",t,n)}function QT(t,n,a){Bi.L(t,n,a);var l=Cs;if(l&&t&&n){var h='link[rel="preload"][as="'+re(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+re(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+re(a.imageSizes)+'"]')):h+='[href="'+re(t)+'"]';var d=h;switch(n){case"style":d=Ds(t);break;case"script":d=Is(t)}Mn.has(d)||(t=I({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(d,t),l.querySelector(h)!==null||n==="style"&&l.querySelector(Yl(d))||n==="script"&&l.querySelector($l(d))||(n=l.createElement("link"),ke(n,"link",t),Jt(n),l.head.appendChild(n)))}}function KT(t,n){Bi.m(t,n);var a=Cs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+re(l)+'"][href="'+re(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Is(t)}if(!Mn.has(d)&&(t=I({rel:"modulepreload",href:t},n),Mn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector($l(d)))return}l=a.createElement("link"),ke(l,"link",t),Jt(l),a.head.appendChild(l)}}}function YT(t,n,a){Bi.S(t,n,a);var l=Cs;if(l&&t){var h=ar(l).hoistableStyles,d=Ds(t);n=n||"default";var _=h.get(d);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Yl(d)))T.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(d))&&Kf(t,a);var w=_=l.createElement("link");Jt(w),ke(w,"link",t),w._p=new Promise(function(U,Y){w.onload=U,w.onerror=Y}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},h.set(d,_)}}}function $T(t,n){Bi.X(t,n);var a=Cs;if(a&&t){var l=ar(a).hoistableScripts,h=Is(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=I({src:t,async:!0},n),(n=Mn.get(h))&&Yf(t,n),d=a.createElement("script"),Jt(d),ke(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XT(t,n){Bi.M(t,n);var a=Cs;if(a&&t){var l=ar(a).hoistableScripts,h=Is(t),d=l.get(h);d||(d=a.querySelector($l(h)),d||(t=I({src:t,async:!0,type:"module"},n),(n=Mn.get(h))&&Yf(t,n),d=a.createElement("script"),Jt(d),ke(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Ty(t,n,a,l){var h=(h=vn.current)?ju(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Ds(a.href),a=ar(h).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ds(a.href);var d=ar(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(Yl(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),d||ZT(h,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Is(a),a=ar(h).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ds(t){return'href="'+re(t)+'"'}function Yl(t){return'link[rel="stylesheet"]['+t+"]"}function Ay(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function ZT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),Jt(n),t.head.appendChild(n))}function Is(t){return'[src="'+re(t)+'"]'}function $l(t){return"script[async]"+t}function Sy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+re(a.href)+'"]');if(l)return n.instance=l,Jt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Jt(l),ke(l,"style",h),qu(l,a.precedence,t),n.instance=l;case"stylesheet":h=Ds(a.href);var d=t.querySelector(Yl(h));if(d)return n.state.loading|=4,n.instance=d,Jt(d),d;l=Ay(a),(h=Mn.get(h))&&Kf(l,h),d=(t.ownerDocument||t).createElement("link"),Jt(d);var _=d;return _._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),ke(d,"link",l),n.state.loading|=4,qu(d,a.precedence,t),n.instance=d;case"script":return d=Is(a.src),(h=t.querySelector($l(d)))?(n.instance=h,Jt(h),h):(l=a,(h=Mn.get(d))&&(l=I({},a),Yf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),Jt(h),ke(h,"link",l),t.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,qu(l,a.precedence,t));return n.instance}function qu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Kf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Yf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Hu=null;function by(t,n,a){if(Hu===null){var l=new Map,h=Hu=new Map;h.set(a,l)}else h=Hu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ir]||d[De]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(d):l.set(_,[d])}}return l}function wy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function WT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Ry(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Xl=null;function JT(){}function tA(t,n,a){if(Xl===null)throw Error(s(475));var l=Xl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Ds(a.href),d=t.querySelector(Yl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Fu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=d,Jt(d);return}d=t.ownerDocument||t,a=Ay(a),(h=Mn.get(h))&&Kf(a,h),d=d.createElement("link"),Jt(d);var _=d;_._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),ke(d,"link",a),n.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Fu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function eA(){if(Xl===null)throw Error(s(475));var t=Xl;return t.stylesheets&&t.count===0&&$f(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&$f(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Fu(){if(this.count--,this.count===0){if(this.stylesheets)$f(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gu=null;function $f(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gu=new Map,n.forEach(nA,t),Gu=null,Fu.call(t))}function nA(t,n){if(!(n.state.loading&4)){var a=Gu.get(t);if(a)var l=a.get(null);else{a=new Map,Gu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}h=n.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,h),a.set(_,h),this.count++,l=Fu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),n.state.loading|=4}}var Zl={$$typeof:V,Provider:null,Consumer:null,_currentValue:wt,_currentValue2:wt,_threadCount:0};function iA(t,n,a,l,h,d,_,T){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.hiddenUpdates=Fa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Cy(t,n,a,l,h,d,_,T,w,U,Y,W){return t=new iA(t,n,a,_,T,w,U,W),n=1,d===!0&&(n|=24),d=On(3,null,null,n),t.current=d,d.stateNode=t,n=Rh(),n.refCount++,t.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:n},lf(d),t}function Dy(t){return t?(t=ls,t):ls}function Iy(t,n,a,l,h,d){h=Dy(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(n),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(t,l,n),a!==null&&(Je(a,t,n),Ml(a,t,n))}function Vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Xf(t,n){Vy(t,n),(t=t.alternate)&&Vy(t,n)}function Ny(t){if(t.tag===13){var n=hr(t,67108864);n!==null&&Je(n,t,67108864),Xf(t,67108864)}}var Qu=!0;function rA(t,n,a,l){var h=b.T;b.T=null;var d=st.p;try{st.p=2,Zf(t,n,a,l)}finally{st.p=d,b.T=h}}function aA(t,n,a,l){var h=b.T;b.T=null;var d=st.p;try{st.p=8,Zf(t,n,a,l)}finally{st.p=d,b.T=h}}function Zf(t,n,a,l){if(Qu){var h=Wf(l);if(h===null)zf(t,n,l,Ku,a),xy(t,l);else if(lA(h,t,n,a,l))l.stopPropagation();else if(xy(t,l),n&4&&-1<sA.indexOf(t)){for(;h!==null;){var d=vi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ln(d.pendingLanes);if(_!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var w=1<<31-$e(_);T.entanglements[1]|=w,_&=~w}ri(d),(ee&6)===0&&(Vu=tn()+500,Gl(0))}}break;case 13:T=hr(d,2),T!==null&&Je(T,d,2),xu(),Xf(d,2)}if(d=Wf(l),d===null&&zf(t,n,l,Ku,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zf(t,n,l,null,a)}}function Wf(t){return t=$a(t),Jf(t)}var Ku=null;function Jf(t){if(Ku=null,t=Pn(t),t!==null){var n=mt(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=qt(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Ku=t,null}function Oy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oo()){case ve:return 2;case Ce:return 8;case pi:case xo:return 32;case Js:return 268435456;default:return 32}default:return 32}}var td=!1,Rr=null,Cr=null,Dr=null,Wl=new Map,Jl=new Map,Ir=[],sA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xy(t,n){switch(t){case"focusin":case"focusout":Rr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jl.delete(n.pointerId)}}function to(t,n,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},n!==null&&(n=vi(n),n!==null&&Ny(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),t)}function lA(t,n,a,l,h){switch(n){case"focusin":return Rr=to(Rr,t,n,a,l,h),!0;case"dragenter":return Cr=to(Cr,t,n,a,l,h),!0;case"mouseover":return Dr=to(Dr,t,n,a,l,h),!0;case"pointerover":var d=h.pointerId;return Wl.set(d,to(Wl.get(d)||null,t,n,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Jl.set(d,to(Jl.get(d)||null,t,n,a,l,h)),!0}return!1}function My(t){var n=Pn(t.target);if(n!==null){var a=mt(n);if(a!==null){if(n=a.tag,n===13){if(n=qt(a),n!==null){t.blockedOn=n,nr(t.priority,function(){if(a.tag===13){var l=dn(),h=hr(a,l);h!==null&&Je(h,a,l),Xf(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Wf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);An=l,a.target.dispatchEvent(l),An=null}else return n=vi(a),n!==null&&Ny(n),t.blockedOn=a,!1;n.shift()}return!0}function Uy(t,n,a){Yu(t)&&a.delete(n)}function oA(){td=!1,Rr!==null&&Yu(Rr)&&(Rr=null),Cr!==null&&Yu(Cr)&&(Cr=null),Dr!==null&&Yu(Dr)&&(Dr=null),Wl.forEach(Uy),Jl.forEach(Uy)}function $u(t,n){t.blockedOn===n&&(t.blockedOn=null,td||(td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,oA)))}var Xu=null;function Ly(t){Xu!==t&&(Xu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xu===t&&(Xu=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],h=t[n+2];if(typeof l!="function"){if(Jf(l||a)===null)continue;break}var d=vi(a);d!==null&&(t.splice(n,3),n-=3,qh(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function n(w){return $u(w,t)}Rr!==null&&$u(Rr,t),Cr!==null&&$u(Cr,t),Dr!==null&&$u(Dr,t),Wl.forEach(n),Jl.forEach(n);for(var a=0;a<Ir.length;a++){var l=Ir[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Ir.length&&(a=Ir[0],a.blockedOn===null);)My(a),a.blockedOn===null&&Ir.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],_=h[_e]||null;if(typeof d=="function")_||Ly(a);else if(_){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[_e]||null)T=_.formAction;else if(Jf(h)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ly(a)}}}function ed(t){this._internalRoot=t}Zu.prototype.render=ed.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=dn();Iy(a,l,t,n,null,null)},Zu.prototype.unmount=ed.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;t.tag===0&&bs(),Iy(t.current,2,null,t,null,null),xu(),n[yi]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ko();t={blockedOn:null,target:t,priority:n};for(var a=0;a<Ir.length&&n!==0&&n<Ir[a].priority;a++);Ir.splice(a,0,t),a===0&&My(t)}};var Py=e.version;if(Py!=="19.0.0")throw Error(s(527,Py,"19.0.0"));st.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=tt(n),t=t!==null?ct(t):null,t=t===null?null:t.stateNode,t};var uA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Pn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Xi=Wu.inject(uA),qe=Wu}catch{}}return io.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",h=tp,d=ep,_=np,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=Cy(t,1,!1,null,null,a,l,h,d,_,T,null),t[yi]=n.current,kf(t.nodeType===8?t.parentNode:t),new ed(n)},io.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=tp,_=ep,T=np,w=null,U=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(U=a.formState)),n=Cy(t,1,!0,n,a??null,l,h,d,_,T,w,U),n.context=Dy(null),a=n.current,l=dn(),h=vr(l),h.callback=null,_r(a,h,l),n.current.lanes=l,oe(n,l),ri(n),t[yi]=n.current,kf(t),new Zu(n)},io.version="19.0.0",io}var Ky;function _A(){if(Ky)return rd.exports;Ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rd.exports=vA(),rd.exports}var EA=_A();const TA=g_(EA);var ro={},Yy;function AA(){if(Yy)return ro;Yy=1,Object.defineProperty(ro,"__esModule",{value:!0}),ro.parse=f,ro.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,c=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function f(C,V){const L=new c,F=C.length;if(F<2)return L;const j=(V==null?void 0:V.decode)||E;let $=0;do{const nt=C.indexOf("=",$);if(nt===-1)break;const et=C.indexOf(";",$),yt=et===-1?F:et;if(nt>yt){$=C.lastIndexOf(";",nt-1)+1;continue}const ht=m(C,$,nt),Rt=p(C,nt,ht),M=C.slice(ht,Rt);if(L[M]===void 0){let R=m(C,nt+1,yt),b=p(C,yt,R);const I=j(C.slice(R,b));L[M]=I}$=yt+1}while($<F);return L}function m(C,V,L){do{const F=C.charCodeAt(V);if(F!==32&&F!==9)return V}while(++V<L);return L}function p(C,V,L){for(;V>L;){const F=C.charCodeAt(--V);if(F!==32&&F!==9)return V+1}return L}function y(C,V,L){const F=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(C))throw new TypeError(`argument name is invalid: ${C}`);const j=F(V);if(!e.test(j))throw new TypeError(`argument val is invalid: ${V}`);let $=C+"="+j;if(!L)return $;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);$+="; Max-Age="+L.maxAge}if(L.domain){if(!i.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);$+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);$+="; Path="+L.path}if(L.expires){if(!S(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);$+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&($+="; HttpOnly"),L.secure&&($+="; Secure"),L.partitioned&&($+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return $}function E(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function S(C){return o.call(C)==="[object Date]"}return ro}AA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $y="popstate";function SA(r={}){function e(o,c){let{pathname:f="/",search:m="",hash:p=""}=Pa(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Td("",{pathname:f,search:m,hash:p},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){let f=o.document.querySelector("base"),m="";if(f&&f.getAttribute("href")){let p=o.location.href,y=p.indexOf("#");m=y===-1?p:p.slice(0,y)}return m+"#"+(typeof c=="string"?c:go(c))}function s(o,c){Un(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return wA(e,i,s,r)}function Wt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Un(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function Xy(r,e){return{usr:r.state,key:r.key,idx:e}}function Td(r,e,i=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Pa(e):e,state:i,key:e&&e.key||s||bA()}}function go({pathname:r="/",search:e="",hash:i=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Pa(r){let e={};if(r){let i=r.indexOf("#");i>=0&&(e.hash=r.substring(i),r=r.substring(0,i));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function wA(r,e,i,s={}){let{window:o=document.defaultView,v5Compat:c=!1}=s,f=o.history,m="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let j=E(),$=j==null?null:j-y;y=j,p&&p({action:m,location:F.location,delta:$})}function C(j,$){m="PUSH";let nt=Td(F.location,j,$);i&&i(nt,j),y=E()+1;let et=Xy(nt,y),yt=F.createHref(nt);try{f.pushState(et,"",yt)}catch(ht){if(ht instanceof DOMException&&ht.name==="DataCloneError")throw ht;o.location.assign(yt)}c&&p&&p({action:m,location:F.location,delta:1})}function V(j,$){m="REPLACE";let nt=Td(F.location,j,$);i&&i(nt,j),y=E();let et=Xy(nt,y),yt=F.createHref(nt);f.replaceState(et,"",yt),c&&p&&p({action:m,location:F.location,delta:0})}function L(j){let $=o.location.origin!=="null"?o.location.origin:o.location.href,nt=typeof j=="string"?j:go(j);return nt=nt.replace(/ $/,"%20"),Wt($,`No window.location.(origin|href) available to create URL for href: ${nt}`),new URL(nt,$)}let F={get action(){return m},get location(){return r(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener($y,S),p=j,()=>{o.removeEventListener($y,S),p=null}},createHref(j){return e(o,j)},createURL:L,encodeLocation(j){let $=L(j);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:C,replace:V,go(j){return f.go(j)}};return F}function p_(r,e,i="/"){return RA(r,e,i,!1)}function RA(r,e,i,s){let o=typeof e=="string"?Pa(e):e,c=qi(o.pathname||"/",i);if(c==null)return null;let f=y_(r);CA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=kA(c);m=LA(f[p],y,s)}return m}function y_(r,e=[],i=[],s=""){let o=(c,f,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=ji([s,p.relativePath]),E=i.concat(p);c.children&&c.children.length>0&&(Wt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),y_(c.children,e,E,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:MA(y,c.index),routesMeta:E})};return r.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,f);else for(let p of v_(c.path))o(c,f,p)}),e}function v_(r){let e=r.split("/");if(e.length===0)return[];let[i,...s]=e,o=i.endsWith("?"),c=i.replace(/\?$/,"");if(s.length===0)return o?[c,""]:[c];let f=v_(s.join("/")),m=[];return m.push(...f.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function CA(r){r.sort((e,i)=>e.score!==i.score?i.score-e.score:UA(e.routesMeta.map(s=>s.childrenIndex),i.routesMeta.map(s=>s.childrenIndex)))}var DA=/^:[\w-]+$/,IA=3,VA=2,NA=1,OA=10,xA=-2,Zy=r=>r==="*";function MA(r,e){let i=r.split("/"),s=i.length;return i.some(Zy)&&(s+=xA),e&&(s+=VA),i.filter(o=>!Zy(o)).reduce((o,c)=>o+(DA.test(c)?IA:c===""?NA:OA),s)}function UA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function LA(r,e,i=!1){let{routesMeta:s}=r,o={},c="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,E=c==="/"?e:e.slice(c.length)||"/",S=mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),C=p.route;if(!S&&y&&i&&!s[s.length-1].route.index&&(S=mc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:ji([c,S.pathname]),pathnameBase:qA(ji([c,S.pathnameBase])),route:C}),S.pathnameBase!=="/"&&(c=ji([c,S.pathnameBase]))}return f}function mc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[i,s]=PA(r.path,r.caseSensitive,r.end),o=e.match(i);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},C)=>{if(E==="*"){let L=m[C]||"";f=c.slice(0,c.length-L.length).replace(/(.)\/+$/,"$1")}const V=m[C];return S&&!V?y[E]=void 0:y[E]=(V||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:f,pattern:r}}function PA(r,e=!1,i=!0){Un(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function kA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Un(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function qi(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,s=r.charAt(i);return s&&s!=="/"?null:r.slice(i)||"/"}function zA(r,e="/"){let{pathname:i,search:s="",hash:o=""}=typeof r=="string"?Pa(r):r;return{pathname:i?i.startsWith("/")?i:BA(i,e):e,search:HA(s),hash:FA(o)}}function BA(r,e){let i=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function od(r,e,i,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function jA(r){return r.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Qd(r){let e=jA(r);return e.map((i,s)=>s===e.length-1?i.pathname:i.pathnameBase)}function Kd(r,e,i,s=!1){let o;typeof r=="string"?o=Pa(r):(o={...r},Wt(!o.pathname||!o.pathname.includes("?"),od("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),od("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),od("#","search","hash",o)));let c=r===""||o.pathname==="",f=c?"/":o.pathname,m;if(f==null)m=i;else{let S=e.length-1;if(!s&&f.startsWith("..")){let C=f.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?e[S]:"/"}let p=zA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(c||f===".")&&i.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var ji=r=>r.join("/").replace(/\/\/+/g,"/"),qA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),HA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function GA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var __=["POST","PUT","PATCH","DELETE"];new Set(__);var QA=["GET",...__];new Set(QA);var Gs=K.createContext(null);Gs.displayName="DataRouter";var Nc=K.createContext(null);Nc.displayName="DataRouterState";var E_=K.createContext({isTransitioning:!1});E_.displayName="ViewTransition";var KA=K.createContext(new Map);KA.displayName="Fetchers";var YA=K.createContext(null);YA.displayName="Await";var qn=K.createContext(null);qn.displayName="Navigation";var Ao=K.createContext(null);Ao.displayName="Location";var di=K.createContext({outlet:null,matches:[],isDataRoute:!1});di.displayName="Route";var Yd=K.createContext(null);Yd.displayName="RouteError";function $A(r,{relative:e}={}){Wt(Qs(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:s}=K.useContext(qn),{hash:o,pathname:c,search:f}=So(r,{relative:e}),m=c;return i!=="/"&&(m=c==="/"?i:ji([i,c])),s.createHref({pathname:m,search:f,hash:o})}function Qs(){return K.useContext(Ao)!=null}function Qr(){return Wt(Qs(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Ao).location}var T_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function A_(r){K.useContext(qn).static||K.useLayoutEffect(r)}function Oc(){let{isDataRoute:r}=K.useContext(di);return r?oS():XA()}function XA(){Wt(Qs(),"useNavigate() may be used only in the context of a <Router> component.");let r=K.useContext(Gs),{basename:e,navigator:i}=K.useContext(qn),{matches:s}=K.useContext(di),{pathname:o}=Qr(),c=JSON.stringify(Qd(s)),f=K.useRef(!1);return A_(()=>{f.current=!0}),K.useCallback((p,y={})=>{if(Un(f.current,T_),!f.current)return;if(typeof p=="number"){i.go(p);return}let E=Kd(p,JSON.parse(c),o,y.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ji([e,E.pathname])),(y.replace?i.replace:i.push)(E,y.state,y)},[e,i,c,o,r])}K.createContext(null);function So(r,{relative:e}={}){let{matches:i}=K.useContext(di),{pathname:s}=Qr(),o=JSON.stringify(Qd(i));return K.useMemo(()=>Kd(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ZA(r,e){return S_(r,e)}function S_(r,e,i,s){var nt;Wt(Qs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=K.useContext(qn),{matches:f}=K.useContext(di),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",E=m?m.pathnameBase:"/",S=m&&m.route;{let et=S&&S.path||"";b_(y,!S||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let C=Qr(),V;if(e){let et=typeof e=="string"?Pa(e):e;Wt(E==="/"||((nt=et.pathname)==null?void 0:nt.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),V=et}else V=C;let L=V.pathname||"/",F=L;if(E!=="/"){let et=E.replace(/^\//,"").split("/");F="/"+L.replace(/^\//,"").split("/").slice(et.length).join("/")}let j=!c&&i&&i.matches&&i.matches.length>0?i.matches:p_(r,{pathname:F});Un(S||j!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Un(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=nS(j&&j.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:ji([E,o.encodeLocation?o.encodeLocation(et.pathname).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:ji([E,o.encodeLocation?o.encodeLocation(et.pathnameBase).pathname:et.pathnameBase])})),f,i,s);return e&&$?K.createElement(Ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},$):$}function WA(){let r=lS(),e=GA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),i=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},c={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=K.createElement(K.Fragment,null,K.createElement("p",null,"💿 Hey developer 👋"),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:c},"ErrorBoundary")," or"," ",K.createElement("code",{style:c},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),i?K.createElement("pre",{style:o},i):null,f)}var JA=K.createElement(WA,null),tS=class extends K.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?K.createElement(di.Provider,{value:this.props.routeContext},K.createElement(Yd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eS({routeContext:r,match:e,children:i}){let s=K.useContext(Gs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(di.Provider,{value:r},i)}function nS(r,e=[],i=null,s=null){if(r==null){if(!i)return null;if(i.errors)r=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)r=i.matches;else return null}let o=r,c=i==null?void 0:i.errors;if(c!=null){let p=o.findIndex(y=>y.route.id&&(c==null?void 0:c[y.route.id])!==void 0);Wt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(i)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:E,errors:S}=i,C=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||C){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,E)=>{let S,C=!1,V=null,L=null;i&&(S=c&&y.route.id?c[y.route.id]:void 0,V=y.route.errorElement||JA,f&&(m<0&&E===0?(b_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,L=null):m===E&&(C=!0,L=y.route.hydrateFallbackElement||null)));let F=e.concat(o.slice(0,E+1)),j=()=>{let $;return S?$=V:C?$=L:y.route.Component?$=K.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,K.createElement(eS,{match:y,routeContext:{outlet:p,matches:F,isDataRoute:i!=null},children:$})};return i&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?K.createElement(tS,{location:i.location,revalidation:i.revalidation,component:V,error:S,children:j(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):j()},null)}function $d(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iS(r){let e=K.useContext(Gs);return Wt(e,$d(r)),e}function rS(r){let e=K.useContext(Nc);return Wt(e,$d(r)),e}function aS(r){let e=K.useContext(di);return Wt(e,$d(r)),e}function Xd(r){let e=aS(r),i=e.matches[e.matches.length-1];return Wt(i.route.id,`${r} can only be used on routes that contain a unique "id"`),i.route.id}function sS(){return Xd("useRouteId")}function lS(){var s;let r=K.useContext(Yd),e=rS("useRouteError"),i=Xd("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[i]}function oS(){let{router:r}=iS("useNavigate"),e=Xd("useNavigate"),i=K.useRef(!1);return A_(()=>{i.current=!0}),K.useCallback(async(o,c={})=>{Un(i.current,T_),i.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...c}))},[r,e])}var Wy={};function b_(r,e,i){!e&&!Wy[r]&&(Wy[r]=!0,Un(!1,i))}K.memo(uS);function uS({routes:r,future:e,state:i}){return S_(r,void 0,i,e)}function cS({to:r,replace:e,state:i,relative:s}){Wt(Qs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=K.useContext(qn);Un(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=K.useContext(di),{pathname:f}=Qr(),m=Oc(),p=Kd(r,Qd(c),f,s==="path"),y=JSON.stringify(p);return K.useEffect(()=>{m(JSON.parse(y),{replace:e,state:i,relative:s})},[m,y,s,e,i]),null}function Nr(r){Wt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hS({basename:r="/",children:e=null,location:i,navigationType:s="POP",navigator:o,static:c=!1}){Wt(!Qs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=K.useMemo(()=>({basename:f,navigator:o,static:c,future:{}}),[f,o,c]);typeof i=="string"&&(i=Pa(i));let{pathname:p="/",search:y="",hash:E="",state:S=null,key:C="default"}=i,V=K.useMemo(()=>{let L=qi(p,f);return L==null?null:{location:{pathname:L,search:y,hash:E,state:S,key:C},navigationType:s}},[f,p,y,E,S,C,s]);return Un(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:K.createElement(qn.Provider,{value:m},K.createElement(Ao.Provider,{children:e,value:V}))}function fS({children:r,location:e}){return ZA(Ad(r),e)}function Ad(r,e=[]){let i=[];return K.Children.forEach(r,(s,o)=>{if(!K.isValidElement(s))return;let c=[...e,o];if(s.type===K.Fragment){i.push.apply(i,Ad(s.props.children,c));return}Wt(s.type===Nr,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Wt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ad(s.props.children,c)),i.push(f)}),i}var sc="get",lc="application/x-www-form-urlencoded";function xc(r){return r!=null&&typeof r.tagName=="string"}function dS(r){return xc(r)&&r.tagName.toLowerCase()==="button"}function mS(r){return xc(r)&&r.tagName.toLowerCase()==="form"}function gS(r){return xc(r)&&r.tagName.toLowerCase()==="input"}function pS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yS(r,e){return r.button===0&&(!e||e==="_self")&&!pS(r)}var Ju=null;function vS(){if(Ju===null)try{new FormData(document.createElement("form"),0),Ju=!1}catch{Ju=!0}return Ju}var _S=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ud(r){return r!=null&&!_S.has(r)?(Un(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lc}"`),null):r}function ES(r,e){let i,s,o,c,f;if(mS(r)){let m=r.getAttribute("action");s=m?qi(m,e):null,i=r.getAttribute("method")||sc,o=ud(r.getAttribute("enctype"))||lc,c=new FormData(r)}else if(dS(r)||gS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?qi(p,e):null,i=r.getAttribute("formmethod")||m.getAttribute("method")||sc,o=ud(r.getAttribute("formenctype"))||ud(m.getAttribute("enctype"))||lc,c=new FormData(m,r),!vS()){let{name:y,type:E,value:S}=r;if(E==="image"){let C=y?`${y}.`:"";c.append(`${C}x`,"0"),c.append(`${C}y`,"0")}else y&&c.append(y,S)}}else{if(xc(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=sc,s=null,o=lc,f=r}return c&&o==="text/plain"&&(f=c,c=void 0),{action:s,method:i.toLowerCase(),encType:o,formData:c,body:f}}function Zd(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function TS(r,e){if(r.id in e)return e[r.id];try{let i=await import(r.module);return e[r.id]=i,i}catch(i){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function AS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function SS(r,e,i){let s=await Promise.all(r.map(async o=>{let c=e.routes[o.route.id];if(c){let f=await TS(c,i);return f.links?f.links():[]}return[]}));return CS(s.flat(1).filter(AS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Jy(r,e,i,s,o,c){let f=(p,y)=>i[y]?p.route.id!==i[y].route.id:!0,m=(p,y)=>{var E;return i[y].pathname!==p.pathname||((E=i[y].route.path)==null?void 0:E.endsWith("*"))&&i[y].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):c==="data"?e.filter((p,y)=>{var S;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let C=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function bS(r,e,{includeHydrateFallback:i}={}){return wS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function wS(r){return[...new Set(r)]}function RS(r){let e={},i=Object.keys(r).sort();for(let s of i)e[s]=r[s];return e}function CS(r,e){let i=new Set;return new Set(e),r.reduce((s,o)=>{let c=JSON.stringify(RS(o));return i.has(c)||(i.add(c),s.push({key:c,link:o})),s},[])}function DS(r,e){let i=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return i.pathname==="/"?i.pathname="_root.data":e&&qi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function w_(){let r=K.useContext(Gs);return Zd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function IS(){let r=K.useContext(Nc);return Zd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Wd=K.createContext(void 0);Wd.displayName="FrameworkContext";function R_(){let r=K.useContext(Wd);return Zd(r,"You must render this element inside a <HydratedRouter> element"),r}function VS(r,e){let i=K.useContext(Wd),[s,o]=K.useState(!1),[c,f]=K.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,C=K.useRef(null);K.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let F=$=>{$.forEach(nt=>{f(nt.isIntersecting)})},j=new IntersectionObserver(F,{threshold:.5});return C.current&&j.observe(C.current),()=>{j.disconnect()}}},[r]),K.useEffect(()=>{if(s){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[s]);let V=()=>{o(!0)},L=()=>{o(!1),f(!1)};return i?r!=="intent"?[c,C,{}]:[c,C,{onFocus:ao(m,V),onBlur:ao(p,L),onMouseEnter:ao(y,V),onMouseLeave:ao(E,L),onTouchStart:ao(S,V)}]:[!1,C,{}]}function ao(r,e){return i=>{r&&r(i),i.defaultPrevented||e(i)}}function NS({page:r,...e}){let{router:i}=w_(),s=K.useMemo(()=>p_(i.routes,r,i.basename),[i.routes,r,i.basename]);return s?K.createElement(xS,{page:r,matches:s,...e}):null}function OS(r){let{manifest:e,routeModules:i}=R_(),[s,o]=K.useState([]);return K.useEffect(()=>{let c=!1;return SS(r,e,i).then(f=>{c||o(f)}),()=>{c=!0}},[r,e,i]),s}function xS({page:r,matches:e,...i}){let s=Qr(),{manifest:o,routeModules:c}=R_(),{basename:f}=w_(),{loaderData:m,matches:p}=IS(),y=K.useMemo(()=>Jy(r,e,p,o,s,"data"),[r,e,p,o,s]),E=K.useMemo(()=>Jy(r,e,p,o,s,"assets"),[r,e,p,o,s]),S=K.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,F=!1;if(e.forEach($=>{var et;let nt=o.routes[$.route.id];!nt||!nt.hasLoader||(!y.some(yt=>yt.route.id===$.route.id)&&$.route.id in m&&((et=c[$.route.id])!=null&&et.shouldRevalidate)||nt.hasClientLoader?F=!0:L.add($.route.id))}),L.size===0)return[];let j=DS(r,f);return F&&L.size>0&&j.searchParams.set("_routes",e.filter($=>L.has($.route.id)).map($=>$.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,y,e,r,c]),C=K.useMemo(()=>bS(E,o),[E,o]),V=OS(E);return K.createElement(K.Fragment,null,S.map(L=>K.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...i})),C.map(L=>K.createElement("link",{key:L,rel:"modulepreload",href:L,...i})),V.map(({key:L,link:F})=>K.createElement("link",{key:L,...F})))}function MS(...r){return e=>{r.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{C_&&(window.__reactRouterVersion="7.3.0")}catch{}function US({basename:r,children:e,window:i}){let s=K.useRef();s.current==null&&(s.current=SA({window:i,v5Compat:!0}));let o=s.current,[c,f]=K.useState({action:o.action,location:o.location}),m=K.useCallback(p=>{K.startTransition(()=>f(p))},[f]);return K.useLayoutEffect(()=>o.listen(m),[o,m]),K.createElement(hS,{basename:r,children:e,location:c.location,navigationType:c.action,navigator:o})}var D_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ms=K.forwardRef(function({onClick:e,discover:i="render",prefetch:s="none",relative:o,reloadDocument:c,replace:f,state:m,target:p,to:y,preventScrollReset:E,viewTransition:S,...C},V){let{basename:L}=K.useContext(qn),F=typeof y=="string"&&D_.test(y),j,$=!1;if(typeof y=="string"&&F&&(j=y,C_))try{let b=new URL(window.location.href),I=y.startsWith("//")?new URL(b.protocol+y):new URL(y),x=qi(I.pathname,L);I.origin===b.origin&&x!=null?y=x+I.search+I.hash:$=!0}catch{Un(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let nt=$A(y,{relative:o}),[et,yt,ht]=VS(s,C),Rt=zS(y,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:S});function M(b){e&&e(b),b.defaultPrevented||Rt(b)}let R=K.createElement("a",{...C,...ht,href:j||nt,onClick:$||c?e:M,ref:MS(V,yt),target:p,"data-discover":!F&&i==="render"?"true":void 0});return et&&!F?K.createElement(K.Fragment,null,R,K.createElement(NS,{page:nt})):R});Ms.displayName="Link";var LS=K.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:s="",end:o=!1,style:c,to:f,viewTransition:m,children:p,...y},E){let S=So(f,{relative:y.relative}),C=Qr(),V=K.useContext(Nc),{navigator:L,basename:F}=K.useContext(qn),j=V!=null&&FS(S)&&m===!0,$=L.encodeLocation?L.encodeLocation(S).pathname:S.pathname,nt=C.pathname,et=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;i||(nt=nt.toLowerCase(),et=et?et.toLowerCase():null,$=$.toLowerCase()),et&&F&&(et=qi(et,F)||et);const yt=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ht=nt===$||!o&&nt.startsWith($)&&nt.charAt(yt)==="/",Rt=et!=null&&(et===$||!o&&et.startsWith($)&&et.charAt($.length)==="/"),M={isActive:ht,isPending:Rt,isTransitioning:j},R=ht?e:void 0,b;typeof s=="function"?b=s(M):b=[s,ht?"active":null,Rt?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let I=typeof c=="function"?c(M):c;return K.createElement(Ms,{...y,"aria-current":R,className:b,ref:E,style:I,to:f,viewTransition:m},typeof p=="function"?p(M):p)});LS.displayName="NavLink";var PS=K.forwardRef(({discover:r="render",fetcherKey:e,navigate:i,reloadDocument:s,replace:o,state:c,method:f=sc,action:m,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:S,...C},V)=>{let L=qS(),F=HS(m,{relative:y}),j=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&D_.test(m),nt=et=>{if(p&&p(et),et.defaultPrevented)return;et.preventDefault();let yt=et.nativeEvent.submitter,ht=(yt==null?void 0:yt.getAttribute("formmethod"))||f;L(yt||et.currentTarget,{fetcherKey:e,method:ht,navigate:i,replace:o,state:c,relative:y,preventScrollReset:E,viewTransition:S})};return K.createElement("form",{ref:V,method:j,action:F,onSubmit:s?p:nt,...C,"data-discover":!$&&r==="render"?"true":void 0})});PS.displayName="Form";function kS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I_(r){let e=K.useContext(Gs);return Wt(e,kS(r)),e}function zS(r,{target:e,replace:i,state:s,preventScrollReset:o,relative:c,viewTransition:f}={}){let m=Oc(),p=Qr(),y=So(r,{relative:c});return K.useCallback(E=>{if(yS(E,e)){E.preventDefault();let S=i!==void 0?i:go(p)===go(y);m(r,{replace:S,state:s,preventScrollReset:o,relative:c,viewTransition:f})}},[p,m,y,i,s,e,r,o,c,f])}var BS=0,jS=()=>`__${String(++BS)}__`;function qS(){let{router:r}=I_("useSubmit"),{basename:e}=K.useContext(qn),i=sS();return K.useCallback(async(s,o={})=>{let{action:c,method:f,encType:m,formData:p,body:y}=ES(s,e);if(o.navigate===!1){let E=o.fetcherKey||jS();await r.fetch(E,i,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:i,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,i])}function HS(r,{relative:e}={}){let{basename:i}=K.useContext(qn),s=K.useContext(di);Wt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),c={...So(r||".",{relative:e})},f=Qr();if(r==null){c.search=f.search;let m=new URLSearchParams(c.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();c.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(c.pathname=c.pathname==="/"?i:ji([i,c.pathname])),go(c)}function FS(r,e={}){let i=K.useContext(E_);Wt(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=I_("useViewTransitionState"),o=So(r,{relative:e.relative});if(!i.isTransitioning)return!1;let c=qi(i.currentLocation.pathname,s)||i.currentLocation.pathname,f=qi(i.nextLocation.pathname,s)||i.nextLocation.pathname;return mc(o.pathname,f)!=null||mc(o.pathname,c)!=null}new TextEncoder;const bo=({bgcolor:r="rgb(94, 136, 94, 0)",boxShadow:e=!1})=>G.jsxs("div",{id:"navbar",style:{backgroundColor:r,boxShadow:e?"0 4px 8px -2px #222":"none"},children:[G.jsx("div",{className:"link",id:"homepage",children:G.jsx(Ms,{className:"a",to:"/HBWGreentrails/",children:"Home"})}),G.jsx("div",{className:"link",id:"volunteer",children:G.jsx(Ms,{className:"a",to:"/volenterpage/",children:"Volunteer!!"})}),G.jsx("div",{className:"link",id:"leaderboard",children:G.jsx(Ms,{className:"a",to:"/leaderboard/",children:"Leaderboard"})}),G.jsx("div",{className:"link",id:"Signup",children:G.jsx(Ms,{className:"a",to:"/signup/",children:"Sign up"})})]}),GS=""+new URL("groupme-DgGEjEd7.png",import.meta.url).href;function QS(r){const e=[],i=new Date;i.setHours(0,0,0,0);let s=new Date(r);for(s.setHours(0,0,0,0);s<i;)s.setDate(s.getDate()+14);r=s;for(let o=0;o<3;o++){const c=new Date(r);c.setDate(r.getDate()+o*14),e.push({date:c,id:o+1})}return e}function KS({nextMeetingDate:r}){const e=QS(r);return G.jsx("div",{children:e.map(i=>G.jsxs("p",{children:[i.date.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})," ","in Hangs room (510) at lunch!"]},i.id))})}const tv=()=>G.jsxs("div",{style:{backgroundColor:"rgb(17, 69, 59)"},children:[G.jsx(bo,{bgcolor:"#00000000",boxShadow:!1}),G.jsx("div",{className:"header",children:G.jsx("h1",{className:"first",children:"HBW Green Trails Club"})}),G.jsxs("div",{className:"importantinfo",children:[G.jsxs("div",{className:"groupme",children:[G.jsx("a",{href:"https://groupme.com/join_group/103922254/4v3j7TI7",children:G.jsx("img",{src:GS,alt:"Join our GroupMe!",width:"200px"})}),G.jsx("p",{children:"Click here to join our GroupMe for updates on meetings and events!!"})]}),G.jsxs("div",{className:"nextmeeting",children:[G.jsx("h2",{children:"Upcoming Meetings:"}),G.jsx(KS,{nextMeetingDate:new Date("2025-09-11T12:35:00")})]})]})]}),YS=()=>G.jsx("div",{children:G.jsx("footer",{})}),$S=()=>G.jsx("div",{id:"fullroad"}),Mc=({message:r})=>G.jsx("header",{className:"App-header",children:G.jsx("h1",{id:"GreenTrails",children:r})}),XS=()=>{};var ev={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},ZS=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],f=r[i++],m=r[i++],p=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],f=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},N_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|m>>4;let C=(m&15)<<2|y>>6,V=y&63;p||(V=64,f||(C=64)),s.push(i[E],i[S],i[C],i[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(V_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ZS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],m=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||m==null||y==null||S==null)throw new WS;const C=c<<2|m>>4;if(s.push(C),y!==64){const V=m<<4&240|y>>2;if(s.push(V),S!==64){const L=y<<6&192|S;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JS=function(r){const e=V_(r);return N_.encodeByteArray(e,!0)},gc=function(r){return JS(r).replace(/\./g,"")},tb=function(r){try{return N_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=()=>eb().__FIREBASE_DEFAULTS__,ib=()=>{if(typeof process>"u"||typeof ev>"u")return;const r=ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},rb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&tb(r[1]);return e&&JSON.parse(e)},Jd=()=>{try{return XS()||nb()||ib()||rb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ab=r=>{var e,i;return(i=(e=Jd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},sb=r=>{const e=ab(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},O_=()=>{var r;return(r=Jd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[gc(JSON.stringify(i)),gc(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cb(){var r;const e=(r=Jd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function fb(){return!cb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x_(){try{return typeof indexedDB=="object"}catch{return!1}}function M_(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}function db(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="FirebaseError";class Kr extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=mb,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}}class Uc{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?gb(c,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Kr(o,m,s)}}function gb(r,e){return r.replace(pb,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const pb=/\{\$([^}]+)}/g;function Ls(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],f=e[o];if(nv(c)&&nv(f)){if(!Ls(c,f))return!1}else if(c!==f)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=1e3,vb=2,_b=4*60*60*1e3,Eb=.5;function iv(r,e=yb,i=vb){const s=e*Math.pow(i,r),o=Math.round(Eb*s*(Math.random()-.5)*2);return Math.min(_b,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(r){return r&&r._delegate?r._delegate:r}class Hi{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Da="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new lb;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Sb(e))try{this.getOrInitializeService({instanceIdentifier:Da})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=Da){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Da){return this.instances.has(e)}getOptions(e=Da){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const f=this.instances.get(o);return f&&e(f,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Ab(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Da){return this.component?this.component.multipleInstances?e:Da:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ab(r){return r===Da?void 0:r}function Sb(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new Tb(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pt||(Pt={}));const wb={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},Rb=Pt.INFO,Cb={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},Db=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=Cb[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tm{constructor(e){this.name=e,this._logLevel=Rb,this._logHandler=Db,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?wb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...e),this._logHandler(this,Pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...e),this._logHandler(this,Pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...e),this._logHandler(this,Pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...e),this._logHandler(this,Pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...e),this._logHandler(this,Pt.ERROR,...e)}}const Ib=(r,e)=>e.some(i=>r instanceof i);let rv,av;function Vb(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nb(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const U_=new WeakMap,Sd=new WeakMap,L_=new WeakMap,cd=new WeakMap,em=new WeakMap;function Ob(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",f)},c=()=>{i(xr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",f)});return e.then(i=>{i instanceof IDBCursor&&U_.set(i,r)}).catch(()=>{}),em.set(e,r),e}function xb(r){if(Sd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",f),r.removeEventListener("abort",f)},c=()=>{i(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",f),r.addEventListener("abort",f)});Sd.set(r,e)}let bd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return Sd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||L_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return xr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mb(r){bd=r(bd)}function Ub(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(hd(this),e,...i);return L_.set(s,e.sort?e.sort():[e]),xr(s)}:Nb().includes(r)?function(...e){return r.apply(hd(this),e),xr(U_.get(this))}:function(...e){return xr(r.apply(hd(this),e))}}function Lb(r){return typeof r=="function"?Ub(r):(r instanceof IDBTransaction&&xb(r),Ib(r,Vb())?new Proxy(r,bd):r)}function xr(r){if(r instanceof IDBRequest)return Ob(r);if(cd.has(r))return cd.get(r);const e=Lb(r);return e!==r&&(cd.set(r,e),em.set(e,r)),e}const hd=r=>em.get(r);function P_(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const f=indexedDB.open(r,e),m=xr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(xr(f.result),p.oldVersion,p.newVersion,xr(f.transaction),p)}),i&&f.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const Pb=["get","getKey","getAll","getAllKeys","count"],kb=["put","add","delete","clear"],fd=new Map;function sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(fd.get(e))return fd.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=kb.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Pb.includes(i)))return;const c=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[i](...m),o&&p.done]))[0]};return fd.set(e,c),c}Mb(r=>({...r,get:(e,i,s)=>sv(e,i)||r.get(e,i,s),has:(e,i)=>!!sv(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Bb(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function Bb(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const wd="@firebase/app",lv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new tm("@firebase/app"),jb="@firebase/app-compat",qb="@firebase/analytics-compat",Hb="@firebase/analytics",Fb="@firebase/app-check-compat",Gb="@firebase/app-check",Qb="@firebase/auth",Kb="@firebase/auth-compat",Yb="@firebase/database",$b="@firebase/data-connect",Xb="@firebase/database-compat",Zb="@firebase/functions",Wb="@firebase/functions-compat",Jb="@firebase/installations",tw="@firebase/installations-compat",ew="@firebase/messaging",nw="@firebase/messaging-compat",iw="@firebase/performance",rw="@firebase/performance-compat",aw="@firebase/remote-config",sw="@firebase/remote-config-compat",lw="@firebase/storage",ow="@firebase/storage-compat",uw="@firebase/firestore",cw="@firebase/vertexai",hw="@firebase/firestore-compat",fw="firebase",dw="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="[DEFAULT]",mw={[wd]:"fire-core",[jb]:"fire-core-compat",[Hb]:"fire-analytics",[qb]:"fire-analytics-compat",[Gb]:"fire-app-check",[Fb]:"fire-app-check-compat",[Qb]:"fire-auth",[Kb]:"fire-auth-compat",[Yb]:"fire-rtdb",[$b]:"fire-data-connect",[Xb]:"fire-rtdb-compat",[Zb]:"fire-fn",[Wb]:"fire-fn-compat",[Jb]:"fire-iid",[tw]:"fire-iid-compat",[ew]:"fire-fcm",[nw]:"fire-fcm-compat",[iw]:"fire-perf",[rw]:"fire-perf-compat",[aw]:"fire-rc",[sw]:"fire-rc-compat",[lw]:"fire-gcs",[ow]:"fire-gcs-compat",[uw]:"fire-fst",[hw]:"fire-fst-compat",[cw]:"fire-vertex","fire-js":"fire-js",[fw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,gw=new Map,Cd=new Map;function ov(r,e){try{r.container.addComponent(e)}catch(i){Fi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function kr(r){const e=r.name;if(Cd.has(e))return Fi.debug(`There were multiple attempts to register component ${e}.`),!1;Cd.set(e,r);for(const i of pc.values())ov(i,r);for(const i of gw.values())ov(i,r);return!0}function wo(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function pw(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new Uc("app","Firebase",yw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _w=dw;function k_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Rd,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Mr.create("bad-app-name",{appName:String(o)});if(i||(i=O_()),!i)throw Mr.create("no-options");const c=pc.get(o);if(c){if(Ls(i,c.options)&&Ls(s,c.config))return c;throw Mr.create("duplicate-app",{appName:o})}const f=new bb(o);for(const p of Cd.values())f.addComponent(p);const m=new vw(i,s,f);return pc.set(o,m),m}function z_(r=Rd){const e=pc.get(r);if(!e&&r===Rd&&O_())return k_();if(!e)throw Mr.create("no-app",{appName:r});return e}function si(r,e,i){var s;let o=(s=mw[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fi.warn(m.join(" "));return}kr(new Hi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="firebase-heartbeat-database",Tw=1,po="firebase-heartbeat-store";let dd=null;function B_(){return dd||(dd=P_(Ew,Tw,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(po)}catch(i){console.warn(i)}}}}).catch(r=>{throw Mr.create("idb-open",{originalErrorMessage:r.message})})),dd}async function Aw(r){try{const i=(await B_()).transaction(po),s=await i.objectStore(po).get(j_(r));return await i.done,s}catch(e){if(e instanceof Kr)Fi.warn(e.message);else{const i=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fi.warn(i.message)}}}async function uv(r,e){try{const s=(await B_()).transaction(po,"readwrite");await s.objectStore(po).put(e,j_(r)),await s.done}catch(i){if(i instanceof Kr)Fi.warn(i.message);else{const s=Mr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Fi.warn(s.message)}}}function j_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=1024,bw=30;class ww{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Cw(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=cv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>bw){const f=Dw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=cv(),{heartbeatsToSend:s,unsentEntries:o}=Rw(this._heartbeatsCache.heartbeats),c=gc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Fi.warn(i),""}}}function cv(){return new Date().toISOString().substring(0,10)}function Rw(r,e=Sw){const i=[];let s=r.slice();for(const o of r){const c=i.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),hv(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),hv(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Cw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x_()?M_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await Aw(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return uv(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function hv(r){return gc(JSON.stringify({version:2,heartbeats:r})).length}function Dw(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(r){kr(new Hi("platform-logger",e=>new zb(e),"PRIVATE")),kr(new Hi("heartbeat",e=>new ww(e),"PRIVATE")),si(wd,lv,r),si(wd,lv,"esm2017"),si("fire-js","")}Iw("");var Vw="firebase",Nw="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */si(Vw,Nw,"app");const q_="@firebase/installations",nm="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=1e4,F_=`w:${nm}`,G_="FIS_v2",Ow="https://firebaseinstallations.googleapis.com/v1",xw=60*60*1e3,Mw="installations",Uw="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Oa=new Uc(Mw,Uw,Lw);function Q_(r){return r instanceof Kr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_({projectId:r}){return`${Ow}/projects/${r}/installations`}function Y_(r){return{token:r.token,requestStatus:2,expiresIn:kw(r.expiresIn),creationTime:Date.now()}}async function $_(r,e){const s=(await e.json()).error;return Oa.create("request-failed",{requestName:r,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function X_({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function Pw(r,{refreshToken:e}){const i=X_(r);return i.append("Authorization",zw(e)),i}async function Z_(r){const e=await r();return e.status>=500&&e.status<600?r():e}function kw(r){return Number(r.replace("s","000"))}function zw(r){return`${G_} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw({appConfig:r,heartbeatServiceProvider:e},{fid:i}){const s=K_(r),o=X_(r),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:i,authVersion:G_,appId:r.appId,sdkVersion:F_},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Z_(()=>fetch(s,m));if(p.ok){const y=await p.json();return{fid:y.fid||i,registrationStatus:2,refreshToken:y.refreshToken,authToken:Y_(y.authToken)}}else throw await $_("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=/^[cdef][\w-]{21}$/,Dd="";function Hw(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const i=Fw(r);return qw.test(i)?i:Dd}catch{return Dd}}function Fw(r){return jw(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=new Map;function tE(r,e){const i=Lc(r);eE(i,e),Gw(i,e)}function eE(r,e){const i=J_.get(r);if(i)for(const s of i)s(e)}function Gw(r,e){const i=Qw();i&&i.postMessage({key:r,fid:e}),Kw()}let Ia=null;function Qw(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=r=>{eE(r.data.key,r.data.fid)}),Ia}function Kw(){J_.size===0&&Ia&&(Ia.close(),Ia=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebase-installations-database",$w=1,xa="firebase-installations-store";let md=null;function im(){return md||(md=P_(Yw,$w,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(xa)}}})),md}async function yc(r,e){const i=Lc(r),o=(await im()).transaction(xa,"readwrite"),c=o.objectStore(xa),f=await c.get(i);return await c.put(e,i),await o.done,(!f||f.fid!==e.fid)&&tE(r,e.fid),e}async function nE(r){const e=Lc(r),s=(await im()).transaction(xa,"readwrite");await s.objectStore(xa).delete(e),await s.done}async function Pc(r,e){const i=Lc(r),o=(await im()).transaction(xa,"readwrite"),c=o.objectStore(xa),f=await c.get(i),m=e(f);return m===void 0?await c.delete(i):await c.put(m,i),await o.done,m&&(!f||f.fid!==m.fid)&&tE(r,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rm(r){let e;const i=await Pc(r.appConfig,s=>{const o=Xw(s),c=Zw(r,o);return e=c.registrationPromise,c.installationEntry});return i.fid===Dd?{installationEntry:await e}:{installationEntry:i,registrationPromise:e}}function Xw(r){const e=r||{fid:Hw(),registrationStatus:0};return iE(e)}function Zw(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Oa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const i={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=Ww(r,i);return{installationEntry:i,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Jw(r)}:{installationEntry:e}}async function Ww(r,e){try{const i=await Bw(r,e);return yc(r.appConfig,i)}catch(i){throw Q_(i)&&i.customData.serverCode===409?await nE(r.appConfig):await yc(r.appConfig,{fid:e.fid,registrationStatus:0}),i}}async function Jw(r){let e=await fv(r.appConfig);for(;e.registrationStatus===1;)await W_(100),e=await fv(r.appConfig);if(e.registrationStatus===0){const{installationEntry:i,registrationPromise:s}=await rm(r);return s||i}return e}function fv(r){return Pc(r,e=>{if(!e)throw Oa.create("installation-not-found");return iE(e)})}function iE(r){return t1(r)?{fid:r.fid,registrationStatus:0}:r}function t1(r){return r.registrationStatus===1&&r.registrationTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1({appConfig:r,heartbeatServiceProvider:e},i){const s=n1(r,i),o=Pw(r,i),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:F_,appId:r.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},p=await Z_(()=>fetch(s,m));if(p.ok){const y=await p.json();return Y_(y)}else throw await $_("Generate Auth Token",p)}function n1(r,{fid:e}){return`${K_(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function am(r,e=!1){let i;const s=await Pc(r.appConfig,c=>{if(!rE(c))throw Oa.create("not-registered");const f=c.authToken;if(!e&&a1(f))return c;if(f.requestStatus===1)return i=i1(r,e),c;{if(!navigator.onLine)throw Oa.create("app-offline");const m=l1(c);return i=r1(r,m),m}});return i?await i:s.authToken}async function i1(r,e){let i=await dv(r.appConfig);for(;i.authToken.requestStatus===1;)await W_(100),i=await dv(r.appConfig);const s=i.authToken;return s.requestStatus===0?am(r,e):s}function dv(r){return Pc(r,e=>{if(!rE(e))throw Oa.create("not-registered");const i=e.authToken;return o1(i)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function r1(r,e){try{const i=await e1(r,e),s=Object.assign(Object.assign({},e),{authToken:i});return await yc(r.appConfig,s),i}catch(i){if(Q_(i)&&(i.customData.serverCode===401||i.customData.serverCode===404))await nE(r.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await yc(r.appConfig,s)}throw i}}function rE(r){return r!==void 0&&r.registrationStatus===2}function a1(r){return r.requestStatus===2&&!s1(r)}function s1(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+xw}function l1(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function o1(r){return r.requestStatus===1&&r.requestTime+H_<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u1(r){const e=r,{installationEntry:i,registrationPromise:s}=await rm(e);return s?s.catch(console.error):am(e).catch(console.error),i.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(r,e=!1){const i=r;return await h1(i),(await am(i,e)).token}async function h1(r){const{registrationPromise:e}=await rm(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(r){if(!r||!r.options)throw gd("App Configuration");if(!r.name)throw gd("App Name");const e=["projectId","apiKey","appId"];for(const i of e)if(!r.options[i])throw gd(i);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function gd(r){return Oa.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="installations",d1="installations-internal",m1=r=>{const e=r.getProvider("app").getImmediate(),i=f1(e),s=wo(e,"heartbeat");return{app:e,appConfig:i,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},g1=r=>{const e=r.getProvider("app").getImmediate(),i=wo(e,aE).getImmediate();return{getId:()=>u1(i),getToken:o=>c1(i,o)}};function p1(){kr(new Hi(aE,m1,"PUBLIC")),kr(new Hi(d1,g1,"PRIVATE"))}p1();si(q_,nm);si(q_,nm,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc="analytics",y1="firebase_id",v1="origin",_1=60*1e3,E1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sm="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new tm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},gn=new Uc("analytics","Analytics",T1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r){if(!r.startsWith(sm)){const e=gn.create("invalid-gtag-resource",{gtagURL:r});return sn.warn(e.message),""}return r}function sE(r){return Promise.all(r.map(e=>e.catch(i=>i)))}function S1(r,e){let i;return window.trustedTypes&&(i=window.trustedTypes.createPolicy(r,e)),i}function b1(r,e){const i=S1("firebase-js-sdk-policy",{createScriptURL:A1}),s=document.createElement("script"),o=`${sm}?l=${r}&id=${e}`;s.src=i?i==null?void 0:i.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function w1(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function R1(r,e,i,s,o,c){const f=s[o];try{if(f)await e[f];else{const p=(await sE(i)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){sn.error(m)}r("config",o,c)}async function C1(r,e,i,s,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await sE(i);for(const p of f){const y=m.find(S=>S.measurementId===p),E=y&&e[y.appId];if(E)c.push(E);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),r("event",s,o||{})}catch(c){sn.error(c)}}function D1(r,e,i,s){async function o(c,...f){try{if(c==="event"){const[m,p]=f;await C1(r,e,i,m,p)}else if(c==="config"){const[m,p]=f;await R1(r,e,i,s,m,p)}else if(c==="consent"){const[m,p]=f;r("consent",m,p)}else if(c==="get"){const[m,p,y]=f;r("get",m,p,y)}else if(c==="set"){const[m]=f;r("set",m)}else r(c,...f)}catch(m){sn.error(m)}}return o}function I1(r,e,i,s,o){let c=function(...f){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=D1(c,r,e,i),{gtagCore:c,wrappedGtag:window[o]}}function V1(r){const e=window.document.getElementsByTagName("script");for(const i of Object.values(e))if(i.src&&i.src.includes(sm)&&i.src.includes(r))return i;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=30,O1=1e3;class x1{constructor(e={},i=O1){this.throttleMetadata=e,this.intervalMillis=i}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,i){this.throttleMetadata[e]=i}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lE=new x1;function M1(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function U1(r){var e;const{appId:i,apiKey:s}=r,o={method:"GET",headers:M1(s)},c=E1.replace("{app-id}",i),f=await fetch(c,o);if(f.status!==200&&f.status!==304){let m="";try{const p=await f.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw gn.create("config-fetch-failed",{httpStatus:f.status,responseMessage:m})}return f.json()}async function L1(r,e=lE,i){const{appId:s,apiKey:o,measurementId:c}=r.options;if(!s)throw gn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:s};throw gn.create("no-api-key")}const f=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new z1;return setTimeout(async()=>{m.abort()},_1),oE({appId:s,apiKey:o,measurementId:c},f,m,e)}async function oE(r,{throttleEndTimeMillis:e,backoffCount:i},s,o=lE){var c;const{appId:f,measurementId:m}=r;try{await P1(s,e)}catch(p){if(m)return sn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:f,measurementId:m};throw p}try{const p=await U1(r);return o.deleteThrottleMetadata(f),p}catch(p){const y=p;if(!k1(y)){if(o.deleteThrottleMetadata(f),m)return sn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:f,measurementId:m};throw p}const E=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?iv(i,o.intervalMillis,N1):iv(i,o.intervalMillis),S={throttleEndTimeMillis:Date.now()+E,backoffCount:i+1};return o.setThrottleMetadata(f,S),sn.debug(`Calling attemptFetch again in ${E} millis`),oE(r,S,s,o)}}function P1(r,e){return new Promise((i,s)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(i,o);r.addEventListener(()=>{clearTimeout(c),s(gn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function k1(r){if(!(r instanceof Kr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class z1{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function B1(r,e,i,s,o){if(o&&o.global){r("event",i,s);return}else{const c=await e,f=Object.assign(Object.assign({},s),{send_to:c});r("event",i,f)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(){if(x_())try{await M_()}catch(r){return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return sn.warn(gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function q1(r,e,i,s,o,c,f){var m;const p=L1(r);p.then(V=>{i[V.measurementId]=V.appId,r.options.measurementId&&V.measurementId!==r.options.measurementId&&sn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>sn.error(V)),e.push(p);const y=j1().then(V=>{if(V)return s.getId()}),[E,S]=await Promise.all([p,y]);V1(c)||b1(c,E.measurementId),o("js",new Date);const C=(m=f==null?void 0:f.config)!==null&&m!==void 0?m:{};return C[v1]="firebase",C.update=!0,S!=null&&(C[y1]=S),o("config",E.measurementId,C),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e){this.app=e}_delete(){return delete uo[this.app.options.appId],Promise.resolve()}}let uo={},mv=[];const gv={};let pd="dataLayer",F1="gtag",pv,uE,yv=!1;function G1(){const r=[];if(hb()&&r.push("This is a browser extension environment."),db()||r.push("Cookies are not available."),r.length>0){const e=r.map((s,o)=>`(${o+1}) ${s}`).join(" "),i=gn.create("invalid-analytics-context",{errorInfo:e});sn.warn(i.message)}}function Q1(r,e,i){G1();const s=r.options.appId;if(!s)throw gn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)sn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw gn.create("no-api-key");if(uo[s]!=null)throw gn.create("already-exists",{id:s});if(!yv){w1(pd);const{wrappedGtag:c,gtagCore:f}=I1(uo,mv,gv,pd,F1);uE=c,pv=f,yv=!0}return uo[s]=q1(r,mv,gv,e,pv,pd,i),new H1(r)}function K1(r=z_()){r=ci(r);const e=wo(r,vc);return e.isInitialized()?e.getImmediate():Y1(r)}function Y1(r,e={}){const i=wo(r,vc);if(i.isInitialized()){const o=i.getImmediate();if(Ls(e,i.getOptions()))return o;throw gn.create("already-initialized")}return i.initialize({options:e})}function $1(r,e,i,s){r=ci(r),B1(uE,uo[r.app.options.appId],e,i,s).catch(o=>sn.error(o))}const vv="@firebase/analytics",_v="0.10.12";function X1(){kr(new Hi(vc,(e,{options:i})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return Q1(s,o,i)},"PUBLIC")),kr(new Hi("analytics-internal",r,"PRIVATE")),si(vv,_v),si(vv,_v,"esm2017");function r(e){try{const i=e.getProvider(vc).getImmediate();return{logEvent:(s,o,c)=>$1(i,s,o,c)}}catch(i){throw gn.create("interop-component-reg-failed",{reason:i})}}}X1();var Ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,cE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function b(){}b.prototype=R.prototype,M.D=R.prototype,M.prototype=new b,M.prototype.constructor=M,M.C=function(I,x,z){for(var D=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)D[ye-2]=arguments[ye];return R.prototype[x].apply(I,D)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,b){b||(b=0);var I=Array(16);if(typeof R=="string")for(var x=0;16>x;++x)I[x]=R.charCodeAt(b++)|R.charCodeAt(b++)<<8|R.charCodeAt(b++)<<16|R.charCodeAt(b++)<<24;else for(x=0;16>x;++x)I[x]=R[b++]|R[b++]<<8|R[b++]<<16|R[b++]<<24;R=M.g[0],b=M.g[1],x=M.g[2];var z=M.g[3],D=R+(z^b&(x^z))+I[0]+3614090360&4294967295;R=b+(D<<7&4294967295|D>>>25),D=z+(x^R&(b^x))+I[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=x+(b^z&(R^b))+I[2]+606105819&4294967295,x=z+(D<<17&4294967295|D>>>15),D=b+(R^x&(z^R))+I[3]+3250441966&4294967295,b=x+(D<<22&4294967295|D>>>10),D=R+(z^b&(x^z))+I[4]+4118548399&4294967295,R=b+(D<<7&4294967295|D>>>25),D=z+(x^R&(b^x))+I[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=x+(b^z&(R^b))+I[6]+2821735955&4294967295,x=z+(D<<17&4294967295|D>>>15),D=b+(R^x&(z^R))+I[7]+4249261313&4294967295,b=x+(D<<22&4294967295|D>>>10),D=R+(z^b&(x^z))+I[8]+1770035416&4294967295,R=b+(D<<7&4294967295|D>>>25),D=z+(x^R&(b^x))+I[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=x+(b^z&(R^b))+I[10]+4294925233&4294967295,x=z+(D<<17&4294967295|D>>>15),D=b+(R^x&(z^R))+I[11]+2304563134&4294967295,b=x+(D<<22&4294967295|D>>>10),D=R+(z^b&(x^z))+I[12]+1804603682&4294967295,R=b+(D<<7&4294967295|D>>>25),D=z+(x^R&(b^x))+I[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=x+(b^z&(R^b))+I[14]+2792965006&4294967295,x=z+(D<<17&4294967295|D>>>15),D=b+(R^x&(z^R))+I[15]+1236535329&4294967295,b=x+(D<<22&4294967295|D>>>10),D=R+(x^z&(b^x))+I[1]+4129170786&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^x&(R^b))+I[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=x+(R^b&(z^R))+I[11]+643717713&4294967295,x=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(x^z))+I[0]+3921069994&4294967295,b=x+(D<<20&4294967295|D>>>12),D=R+(x^z&(b^x))+I[5]+3593408605&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^x&(R^b))+I[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=x+(R^b&(z^R))+I[15]+3634488961&4294967295,x=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(x^z))+I[4]+3889429448&4294967295,b=x+(D<<20&4294967295|D>>>12),D=R+(x^z&(b^x))+I[9]+568446438&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^x&(R^b))+I[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=x+(R^b&(z^R))+I[3]+4107603335&4294967295,x=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(x^z))+I[8]+1163531501&4294967295,b=x+(D<<20&4294967295|D>>>12),D=R+(x^z&(b^x))+I[13]+2850285829&4294967295,R=b+(D<<5&4294967295|D>>>27),D=z+(b^x&(R^b))+I[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=x+(R^b&(z^R))+I[7]+1735328473&4294967295,x=z+(D<<14&4294967295|D>>>18),D=b+(z^R&(x^z))+I[12]+2368359562&4294967295,b=x+(D<<20&4294967295|D>>>12),D=R+(b^x^z)+I[5]+4294588738&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^x)+I[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=x+(z^R^b)+I[11]+1839030562&4294967295,x=z+(D<<16&4294967295|D>>>16),D=b+(x^z^R)+I[14]+4259657740&4294967295,b=x+(D<<23&4294967295|D>>>9),D=R+(b^x^z)+I[1]+2763975236&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^x)+I[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=x+(z^R^b)+I[7]+4139469664&4294967295,x=z+(D<<16&4294967295|D>>>16),D=b+(x^z^R)+I[10]+3200236656&4294967295,b=x+(D<<23&4294967295|D>>>9),D=R+(b^x^z)+I[13]+681279174&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^x)+I[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=x+(z^R^b)+I[3]+3572445317&4294967295,x=z+(D<<16&4294967295|D>>>16),D=b+(x^z^R)+I[6]+76029189&4294967295,b=x+(D<<23&4294967295|D>>>9),D=R+(b^x^z)+I[9]+3654602809&4294967295,R=b+(D<<4&4294967295|D>>>28),D=z+(R^b^x)+I[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=x+(z^R^b)+I[15]+530742520&4294967295,x=z+(D<<16&4294967295|D>>>16),D=b+(x^z^R)+I[2]+3299628645&4294967295,b=x+(D<<23&4294967295|D>>>9),D=R+(x^(b|~z))+I[0]+4096336452&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~x))+I[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=x+(R^(z|~b))+I[14]+2878612391&4294967295,x=z+(D<<15&4294967295|D>>>17),D=b+(z^(x|~R))+I[5]+4237533241&4294967295,b=x+(D<<21&4294967295|D>>>11),D=R+(x^(b|~z))+I[12]+1700485571&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~x))+I[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=x+(R^(z|~b))+I[10]+4293915773&4294967295,x=z+(D<<15&4294967295|D>>>17),D=b+(z^(x|~R))+I[1]+2240044497&4294967295,b=x+(D<<21&4294967295|D>>>11),D=R+(x^(b|~z))+I[8]+1873313359&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~x))+I[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=x+(R^(z|~b))+I[6]+2734768916&4294967295,x=z+(D<<15&4294967295|D>>>17),D=b+(z^(x|~R))+I[13]+1309151649&4294967295,b=x+(D<<21&4294967295|D>>>11),D=R+(x^(b|~z))+I[4]+4149444226&4294967295,R=b+(D<<6&4294967295|D>>>26),D=z+(b^(R|~x))+I[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=x+(R^(z|~b))+I[2]+718787259&4294967295,x=z+(D<<15&4294967295|D>>>17),D=b+(z^(x|~R))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(x+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+x&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var b=R-this.blockSize,I=this.B,x=this.h,z=0;z<R;){if(x==0)for(;z<=b;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(I[x++]=M.charCodeAt(z++),x==this.blockSize){o(this,I),x=0;break}}else for(;z<R;)if(I[x++]=M[z++],x==this.blockSize){o(this,I),x=0;break}}this.h=x,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var b=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=b&255,b/=256;for(this.u(M),M=Array(16),R=b=0;4>R;++R)for(var I=0;32>I;I+=8)M[b++]=this.g[R]>>>I&255;return M};function c(M,R){var b=m;return Object.prototype.hasOwnProperty.call(b,M)?b[M]:b[M]=R(M)}function f(M,R){this.h=R;for(var b=[],I=!0,x=M.length-1;0<=x;x--){var z=M[x]|0;I&&z==R||(b[x]=z,I=!1)}this.g=b}var m={};function p(M){return-128<=M&&128>M?c(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return j(y(-M));for(var R=[],b=1,I=0;M>=b;I++)R[I]=M/b|0,b*=4294967296;return new f(R,0)}function E(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return j(E(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=y(Math.pow(R,8)),I=S,x=0;x<M.length;x+=8){var z=Math.min(8,M.length-x),D=parseInt(M.substring(x,x+z),R);8>z?(z=y(Math.pow(R,z)),I=I.j(z).add(y(D))):(I=I.j(b),I=I.add(y(D)))}return I}var S=p(0),C=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(F(this))return-j(this).m();for(var M=0,R=1,b=0;b<this.g.length;b++){var I=this.i(b);M+=(0<=I?I:4294967296+I)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(L(this))return"0";if(F(this))return"-"+j(this).toString(M);for(var R=y(Math.pow(M,6)),b=this,I="";;){var x=yt(b,R).g;b=$(b,x.j(R));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(M);if(b=x,L(b))return z+I;for(;6>z.length;)z="0"+z;I=z+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function L(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function F(M){return M.h==-1}r.l=function(M){return M=$(this,M),F(M)?-1:L(M)?0:1};function j(M){for(var R=M.g.length,b=[],I=0;I<R;I++)b[I]=~M.g[I];return new f(b,~M.h).add(C)}r.abs=function(){return F(this)?j(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],I=0,x=0;x<=R;x++){var z=I+(this.i(x)&65535)+(M.i(x)&65535),D=(z>>>16)+(this.i(x)>>>16)+(M.i(x)>>>16);I=D>>>16,z&=65535,D&=65535,b[x]=D<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function $(M,R){return M.add(j(R))}r.j=function(M){if(L(this)||L(M))return S;if(F(this))return F(M)?j(this).j(j(M)):j(j(this).j(M));if(F(M))return j(this.j(j(M)));if(0>this.l(V)&&0>M.l(V))return y(this.m()*M.m());for(var R=this.g.length+M.g.length,b=[],I=0;I<2*R;I++)b[I]=0;for(I=0;I<this.g.length;I++)for(var x=0;x<M.g.length;x++){var z=this.i(I)>>>16,D=this.i(I)&65535,ye=M.i(x)>>>16,he=M.i(x)&65535;b[2*I+2*x]+=D*he,nt(b,2*I+2*x),b[2*I+2*x+1]+=z*he,nt(b,2*I+2*x+1),b[2*I+2*x+1]+=D*ye,nt(b,2*I+2*x+1),b[2*I+2*x+2]+=z*ye,nt(b,2*I+2*x+2)}for(I=0;I<R;I++)b[I]=b[2*I+1]<<16|b[2*I];for(I=R;I<2*R;I++)b[I]=0;return new f(b,0)};function nt(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function et(M,R){this.g=M,this.h=R}function yt(M,R){if(L(R))throw Error("division by zero");if(L(M))return new et(S,S);if(F(M))return R=yt(j(M),R),new et(j(R.g),j(R.h));if(F(R))return R=yt(M,j(R)),new et(j(R.g),R.h);if(30<M.g.length){if(F(M)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var b=C,I=R;0>=I.l(M);)b=ht(b),I=ht(I);var x=Rt(b,1),z=Rt(I,1);for(I=Rt(I,2),b=Rt(b,2);!L(I);){var D=z.add(I);0>=D.l(M)&&(x=x.add(b),z=D),I=Rt(I,1),b=Rt(b,1)}return R=$(M,x.j(R)),new et(x,R)}for(x=S;0<=M.l(R);){for(b=Math.max(1,Math.floor(M.m()/R.m())),I=Math.ceil(Math.log(b)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),z=y(b),D=z.j(R);F(D)||0<D.l(M);)b-=I,z=y(b),D=z.j(R);L(z)&&(z=C),x=x.add(z),M=$(M,D)}return new et(x,M)}r.A=function(M){return yt(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],I=0;I<R;I++)b[I]=this.i(I)&M.i(I);return new f(b,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],I=0;I<R;I++)b[I]=this.i(I)|M.i(I);return new f(b,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),b=[],I=0;I<R;I++)b[I]=this.i(I)^M.i(I);return new f(b,this.h^M.h)};function ht(M){for(var R=M.g.length+1,b=[],I=0;I<R;I++)b[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(b,M.h)}function Rt(M,R){var b=R>>5;R%=32;for(var I=M.g.length-b,x=[],z=0;z<I;z++)x[z]=0<R?M.i(z+b)>>>R|M.i(z+b+1)<<32-R:M.i(z+b);return new f(x,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Ur=f}).apply(typeof Ev<"u"?Ev:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hE,so,fE,oc,Id,dE,mE,gE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,v){return u==Array.prototype||u==Object.prototype||(u[g]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var g=0;g<u.length;++g){var v=u[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,g){if(g)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var k=u[A];if(!(k in v))break t;v=v[k]}u=u[u.length-1],A=v[u],g=g(A),g!=A&&g!=null&&e(v,u,{configurable:!0,writable:!0,value:g})}}function c(u,g){u instanceof String&&(u+="");var v=0,A=!1,k={next:function(){if(!A&&v<u.length){var H=v++;return{value:g(H,u[H]),done:!1}}return A=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}o("Array.prototype.values",function(u){return u||function(){return c(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function y(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function E(u,g,v){return u.call.apply(u.bind,arguments)}function S(u,g,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,A),u.apply(g,k)}}return function(){return u.apply(g,arguments)}}function C(u,g,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function V(u,g){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function L(u,g){function v(){}v.prototype=g.prototype,u.aa=g.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,k,H){for(var it=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)it[xt-2]=arguments[xt];return g.prototype[k].apply(A,it)}}function F(u){const g=u.length;if(0<g){const v=Array(g);for(let A=0;A<g;A++)v[A]=u[A];return v}return[]}function j(u,g){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const k=u.length||0,H=A.length||0;u.length=k+H;for(let it=0;it<H;it++)u[k+it]=A[it]}else u.push(A)}}class ${constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function nt(u){return/^[\s\xa0]*$/.test(u)}function et(){var u=m.navigator;return u&&(u=u.userAgent)?u:""}function yt(u){return yt[" "](u),u}yt[" "]=function(){};var ht=et().indexOf("Gecko")!=-1&&!(et().toLowerCase().indexOf("webkit")!=-1&&et().indexOf("Edge")==-1)&&!(et().indexOf("Trident")!=-1||et().indexOf("MSIE")!=-1)&&et().indexOf("Edge")==-1;function Rt(u,g,v){for(const A in u)g.call(v,u[A],A,u)}function M(u,g){for(const v in u)g.call(void 0,u[v],v,u)}function R(u){const g={};for(const v in u)g[v]=u[v];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,g){let v,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(v in A)u[v]=A[v];for(let H=0;H<b.length;H++)v=b[H],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function x(u){var g=1;u=u.split(":");const v=[];for(;0<g&&u.length;)v.push(u.shift()),g--;return u.length&&v.push(u.join(":")),v}function z(u){m.setTimeout(()=>{throw u},0)}function D(){var u=qt;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ye{constructor(){this.h=this.g=null}add(g,v){const A=he.get();A.set(g,v),this.h?this.h.next=A:this.g=A,this.h=A}}var he=new $(()=>new rt,u=>u.reset());class rt{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let vt,mt=!1,qt=new ye,N=()=>{const u=m.Promise.resolve(void 0);vt=()=>{u.then(tt)}};var tt=()=>{for(var u;u=D();){try{u.h.call(u.g)}catch(v){z(v)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}mt=!1};function ct(){this.s=this.s,this.C=this.C}ct.prototype.s=!1,ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function at(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}at.prototype.h=function(){this.defaultPrevented=!0};var st=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return u}();function wt(u,g){if(at.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(ht){t:{try{yt(g.nodeName);var k=!0;break t}catch{}k=!1}k||(g=null)}}else v=="mouseover"?g=u.fromElement:v=="mouseout"&&(g=u.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:St[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}L(wt,at);var St={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(1e6*Math.random()|0),kt=0;function ie(u,g,v,A,k){this.listener=u,this.proxy=null,this.src=g,this.type=v,this.capture=!!A,this.ha=k,this.key=++kt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ye(u){this.src=u,this.g={},this.h=0}Ye.prototype.add=function(u,g,v,A,k){var H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);var it=vn(u,g,A,k);return-1<it?(g=u[it],v||(g.fa=!1)):(g=new ie(g,this.src,H,!!A,k),g.fa=v,u.push(g)),g};function mi(u,g){var v=g.type;if(v in u.g){var A=u.g[v],k=Array.prototype.indexOf.call(A,g,void 0),H;(H=0<=k)&&Array.prototype.splice.call(A,k,1),H&&(Gt(g),u.g[v].length==0&&(delete u.g[v],u.h--))}}function vn(u,g,v,A){for(var k=0;k<u.length;++k){var H=u[k];if(!H.da&&H.listener==g&&H.capture==!!v&&H.ha==A)return k}return-1}var Yi="closure_lm_"+(1e6*Math.random()|0),$i={};function gi(u,g,v,A,k){if(Array.isArray(g)){for(var H=0;H<g.length;H++)gi(u,g[H],v,A,k);return null}return v=Oo(v),u&&u[fe]?u.K(g,v,y(A)?!!A.capture:!1,k):Zs(u,g,v,!1,A,k)}function Zs(u,g,v,A,k,H){if(!g)throw Error("Invalid event type");var it=y(k)?!!k.capture:!!k,xt=Ws(u);if(xt||(u[Yi]=xt=new Ye(u)),v=xt.add(g,v,A,it,H),v.proxy)return v;if(A=Ba(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)st||(k=it),k===void 0&&(k=!1),u.addEventListener(g.toString(),A,k);else if(u.attachEvent)u.attachEvent(qa(g.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ba(){function u(v){return g.call(u.src,u.listener,v)}const g=ih;return u}function ja(u,g,v,A,k){if(Array.isArray(g))for(var H=0;H<g.length;H++)ja(u,g[H],v,A,k);else A=y(A)?!!A.capture:!!A,v=Oo(v),u&&u[fe]?(u=u.i,g=String(g).toString(),g in u.g&&(H=u.g[g],v=vn(H,v,A,k),-1<v&&(Gt(H[v]),Array.prototype.splice.call(H,v,1),H.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ws(u))&&(g=u.g[g.toString()],u=-1,g&&(u=vn(g,v,A,k)),(v=-1<u?g[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[fe])mi(g.i,u);else{var v=u.type,A=u.proxy;g.removeEventListener?g.removeEventListener(v,A,u.capture):g.detachEvent?g.detachEvent(qa(v),A):g.addListener&&g.removeListener&&g.removeListener(A),(v=Ws(g))?(mi(v,u),v.h==0&&(v.src=null,g[Yi]=null)):Gt(u)}}}function qa(u){return u in $i?$i[u]:$i[u]="on"+u}function ih(u,g){if(u.da)u=!0;else{g=new wt(g,this);var v=u.listener,A=u.ha||u.src;u.fa&&Xr(u),u=v.call(A,g)}return u}function Ws(u){return u=u[Yi],u instanceof Ye?u:null}var tn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oo(u){return typeof u=="function"?u:(u[tn]||(u[tn]=function(g){return u.handleEvent(g)}),u[tn])}function ve(){ct.call(this),this.i=new Ye(this),this.M=this,this.F=null}L(ve,ct),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(u,g,v,A){ja(this,u,g,v,A)};function Ce(u,g){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=g.type||g,typeof g=="string")g=new at(g,u);else if(g instanceof at)g.target=g.target||u;else{var k=g;g=new at(A,u),I(g,k)}if(k=!0,v)for(var H=v.length-1;0<=H;H--){var it=g.g=v[H];k=pi(it,A,!0,g)&&k}if(it=g.g=u,k=pi(it,A,!0,g)&&k,k=pi(it,A,!1,g)&&k,v)for(H=0;H<v.length;H++)it=g.g=v[H],k=pi(it,A,!1,g)&&k}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var v=u.g[g],A=0;A<v.length;A++)Gt(v[A]);delete u.g[g],u.h--}}this.F=null},ve.prototype.K=function(u,g,v,A){return this.i.add(String(u),g,!1,v,A)},ve.prototype.L=function(u,g,v,A){return this.i.add(String(u),g,!0,v,A)};function pi(u,g,v,A){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var k=!0,H=0;H<g.length;++H){var it=g[H];if(it&&!it.da&&it.capture==v){var xt=it.listener,Ee=it.ha||it.src;it.fa&&mi(u.i,it),k=xt.call(Ee,A)!==!1&&k}}return k&&!A.defaultPrevented}function xo(u,g,v){if(typeof u=="function")v&&(u=C(u,v));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(u,g||0)}function Js(u){u.g=xo(()=>{u.g=null,u.i&&(u.i=!1,Js(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class rh extends ct{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Js(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zr(u){ct.call(this),this.h=u,this.g={}}L(Zr,ct);var Xi=[];function qe(u){Rt(u.g,function(g,v){this.g.hasOwnProperty(v)&&Xr(g)},u),u.g={}}Zr.prototype.N=function(){Zr.aa.N.call(this),qe(this)},Zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var tl=m.JSON.stringify,Hn=m.JSON.parse,$e=class{stringify(u){return m.JSON.stringify(u,void 0)}parse(u){return m.JSON.parse(u,void 0)}};function el(){}el.prototype.h=null;function Mo(u){return u.h||(u.h=u.i())}function Uo(){}var Fn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Zi(){at.call(this,"d")}L(Zi,at);function Ln(){at.call(this,"c")}L(Ln,at);var _n={},Wi=null;function Ha(){return Wi=Wi||new ve}_n.La="serverreachability";function nl(u){at.call(this,_n.La,u)}L(nl,at);function Ji(u){const g=Ha();Ce(g,new nl(g))}_n.STAT_EVENT="statevent";function Fa(u,g){at.call(this,_n.STAT_EVENT,u),this.stat=g}L(Fa,at);function oe(u){const g=Ha();Ce(g,new Fa(g,u))}_n.Ma="timingevent";function Lo(u,g){at.call(this,_n.Ma,u),this.size=g}L(Lo,at);function tr(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){u()},g)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Po(u,g,v,A,k,H){u.info(function(){if(u.g)if(H)for(var it="",xt=H.split("&"),Ee=0;Ee<xt.length;Ee++){var Mt=xt[Ee].split("=");if(1<Mt.length){var Ve=Mt[0];Mt=Mt[1];var Te=Ve.split("_");it=2<=Te.length&&Te[1]=="type"?it+(Ve+"="+Mt+"&"):it+(Ve+"=redacted&")}}else it=null;else it=H;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+g+`
`+v+`
`+it})}function ko(u,g,v,A,k,H,it){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+g+`
`+v+`
`+H+" "+it})}function nr(u,g,v,A){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+De(u,v)+(A?" "+A:"")})}function Gn(u,g){u.info(function(){return"TIMEOUT: "+g})}er.prototype.info=function(){};function De(u,g){if(!u.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var k=A[1];if(Array.isArray(k)&&!(1>k.length)){var H=k[0];if(H!="noop"&&H!="stop"&&H!="close")for(var it=1;it<k.length;it++)k[it]=""}}}}return tl(v)}catch{return g}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wr;function Ga(){}L(Ga,el),Ga.prototype.g=function(){return new XMLHttpRequest},Ga.prototype.i=function(){return{}},Wr=new Ga;function Qn(u,g,v,A){this.j=u,this.i=g,this.l=v,this.R=A||1,this.U=new Zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new il}function il(){this.i=null,this.g="",this.h=!1}var ir={},Jr={};function Pn(u,g,v){u.L=1,u.v=na(re(g)),u.m=v,u.P=!0,vi(u,null)}function vi(u,g){u.F=Date.now(),Jt(u),u.A=re(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Ti(v.i,"t",A),u.C=0,v=u.j.J,u.h=new il,u.g=Wo(u.j,v?g:null,!u.m),0<u.O&&(u.M=new rh(C(u.Y,u,u.g),u.O)),g=u.U,v=u.g,A=u.ca;var k="readystatechange";Array.isArray(k)||(k&&(Xi[0]=k.toString()),k=Xi);for(var H=0;H<k.length;H++){var it=gi(v,k[H],A||g.handleEvent,!1,g.h||g);if(!it)break;g.g[it.key]=it}g=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),Ji(),Po(u.i,u.u,u.A,u.l,u.R,u.m)}Qn.prototype.ca=function(u){u=u.target;const g=this.M;g&&bn(u)==3?g.j():this.Y(u)},Qn.prototype.Y=function(u){try{if(u==this.g)t:{const Te=bn(this.g);var g=this.g.Ba();const wi=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Fo(this.g)))){this.J||Te!=4||g==7||(g==8||0>=wi?Ji(3):Ji(2)),Qa(this);var v=this.g.Z();this.X=v;e:if(rr(this)){var A=Fo(this.g);u="";var k=A.length,H=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){en(this),ln(this);var it="";break e}this.h.i=new m.TextDecoder}for(g=0;g<k;g++)this.h.h=!0,u+=this.h.i.decode(A[g],{stream:!(H&&g==k-1)});A.length=0,this.h.g+=u,this.C=0,it=this.h.g}else it=this.g.oa();if(this.o=v==200,ko(this.i,this.u,this.A,this.l,this.R,Te,v),this.o){if(this.T&&!this.K){e:{if(this.g){var xt,Ee=this.g;if((xt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!nt(xt)){var Mt=xt;break e}}Mt=null}if(v=Mt)nr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,on(this,v);else{this.o=!1,this.s=3,oe(12),en(this),ln(this);break t}}if(this.P){v=!0;let Ue;for(;!this.J&&this.C<it.length;)if(Ue=ar(this,it),Ue==Jr){Te==4&&(this.s=4,oe(14),v=!1),nr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==ir){this.s=4,oe(15),nr(this.i,this.l,it,"[Invalid Chunk]"),v=!1;break}else nr(this.i,this.l,Ue,null),on(this,Ue);if(rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||it.length!=0||this.h.h||(this.s=1,oe(16),v=!1),this.o=this.o&&v,!v)nr(this.i,this.l,it,"[Invalid Chunked Response]"),en(this),ln(this);else if(0<it.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+it.length),ua(Ve),Ve.M=!0,oe(11))}}else nr(this.i,this.l,it,null),on(this,it);Te==4&&en(this),this.o&&!this.J&&(Te==4?$o(this.j,this):(this.o=!1,Jt(this)))}else ch(this.g),v==400&&0<it.indexOf("Unknown SID")?(this.s=3,oe(12)):(this.s=0,oe(13)),en(this),ln(this)}}}catch{}finally{}};function rr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ar(u,g){var v=u.C,A=g.indexOf(`
`,v);return A==-1?Jr:(v=Number(g.substring(v,A)),isNaN(v)?ir:(A+=1,A+v>g.length?Jr:(g=g.slice(A,A+v),u.C=A+v,g)))}Qn.prototype.cancel=function(){this.J=!0,en(this)};function Jt(u){u.S=Date.now()+u.I,rl(u,u.I)}function rl(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=tr(C(u.ba,u),g)}function Qa(u){u.B&&(m.clearTimeout(u.B),u.B=null)}Qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Gn(this.i,this.A),this.L!=2&&(Ji(),oe(17)),en(this),this.s=2,ln(this)):rl(this,this.S-u)};function ln(u){u.j.G==0||u.J||$o(u.j,u)}function en(u){Qa(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,qe(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function on(u,g){try{var v=u.j;if(v.G!=0&&(v.g==u||sr(v.h,u))){if(!u.K&&sr(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)ns(v),ts(v);else break t;gl(v),oe(18)}}else v.za=k[1],0<v.za-v.T&&37500>k[2]&&v.F&&v.v==0&&!v.C&&(v.C=tr(C(v.Za,v),6e3));if(1>=zo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else bi(v,11)}else if((u.K||v.g==u)&&ns(v),!nt(g))for(k=v.Da.g.parse(g),g=0;g<k.length;g++){let Mt=k[g];if(v.T=Mt[0],Mt=Mt[1],v.G==2)if(Mt[0]=="c"){v.K=Mt[1],v.ia=Mt[2];const Ve=Mt[3];Ve!=null&&(v.la=Ve,v.j.info("VER="+v.la));const Te=Mt[4];Te!=null&&(v.Aa=Te,v.j.info("SVER="+v.Aa));const wi=Mt[5];wi!=null&&typeof wi=="number"&&0<wi&&(A=1.5*wi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ue=u.g;if(Ue){const Jn=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var H=A.h;H.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(lr(H,H.h),H.h=null))}if(A.D){const yl=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;yl&&(A.ya=yl,zt(A.I,A.D,yl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var it=u;if(A.qa=Zo(A,A.J?A.ia:null,A.W),it.K){En(A.h,it);var xt=it,Ee=A.L;Ee&&(xt.I=Ee),xt.B&&(Qa(xt),Jt(xt)),A.g=it}else Ko(A);0<v.i.length&&es(v)}else Mt[0]!="stop"&&Mt[0]!="close"||bi(v,7);else v.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?bi(v,7):dl(v):Mt[0]!="noop"&&v.l&&v.l.ta(Mt),v.v=0)}}Ji(4)}catch{}}var ah=class{constructor(u,g){this.g=u,this.map=g}};function al(u){this.l=u||10,m.PerformanceNavigationTiming?(u=m.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function zo(u){return u.h?1:u.g?u.g.size:0}function sr(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function lr(u,g){u.g?u.g.add(g):u.h=g}function En(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}al.prototype.cancel=function(){if(this.i=Xe(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xe(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const v of u.g.values())g=g.concat(v.D);return g}return F(u.i)}function Bo(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var g=[],v=u.length,A=0;A<v;A++)g.push(u[A]);return g}g=[],v=0;for(A in u)g[v++]=u[A];return g}function sh(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var g=[];u=u.length;for(var v=0;v<u;v++)g.push(v);return g}g=[],v=0;for(const A in u)g[v++]=A;return g}}}function ta(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var v=sh(u),A=Bo(u),k=A.length,H=0;H<k;H++)g.call(void 0,A[H],v&&v[H],u)}var ll=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ka(u,g){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),k=null;if(0<=A){var H=u[v].substring(0,A);k=u[v].substring(A+1)}else H=u[v];g(H,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function _i(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof _i){this.h=u.h,or(this,u.j),this.o=u.o,this.g=u.g,ea(this,u.s),this.l=u.l;var g=u.i,v=new Kn;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ya(this,v),this.m=u.m}else u&&(g=String(u).match(ll))?(this.h=!1,or(this,g[1]||"",!0),this.o=ur(g[2]||""),this.g=ur(g[3]||"",!0),ea(this,g[4]),this.l=ur(g[5]||"",!0),Ya(this,g[6]||"",!0),this.m=ur(g[7]||"")):(this.h=!1,this.i=new Kn(null,this.h))}_i.prototype.toString=function(){var u=[],g=this.j;g&&u.push(Tn(g,ol,!0),":");var v=this.g;return(v||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Tn(g,ol,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tn(v,v.charAt(0)=="/"?ul:jo,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tn(v,uh)),u.join("")};function re(u){return new _i(u)}function or(u,g,v){u.j=v?ur(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function ea(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Ya(u,g,v){g instanceof Kn?(u.i=g,cl(u.i,u.h)):(v||(g=Tn(g,oh)),u.i=new Kn(g,u.h))}function zt(u,g,v){u.i.set(g,v)}function na(u){return zt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ur(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tn(u,g,v){return typeof u=="string"?(u=encodeURI(u).replace(g,lh),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function lh(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ol=/[#\/\?@]/g,jo=/[#\?:]/g,ul=/[#\?]/g,oh=/[#\?@]/g,uh=/#/g;function Kn(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Ka(u.i,function(g,v){u.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=Kn.prototype,r.add=function(u,g){An(this),this.i=null,u=Ai(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(g),this.h+=1,this};function $a(u,g){An(u),g=Ai(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Ei(u,g){return An(u),g=Ai(u,g),u.g.has(g)}r.forEach=function(u,g){An(this),this.g.forEach(function(v,A){v.forEach(function(k){u.call(g,k,A,this)},this)},this)},r.na=function(){An(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let A=0;A<g.length;A++){const k=u[A];for(let H=0;H<k.length;H++)v.push(g[A])}return v},r.V=function(u){An(this);let g=[];if(typeof u=="string")Ei(this,u)&&(g=g.concat(this.g.get(Ai(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)g=g.concat(u[v])}return g},r.set=function(u,g){return An(this),this.i=null,u=Ai(this,u),Ei(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},r.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function Ti(u,g,v){$a(u,g),0<v.length&&(u.i=null,u.g.set(Ai(u,g),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var A=g[v];const H=encodeURIComponent(String(A)),it=this.V(A);for(A=0;A<it.length;A++){var k=H;it[A]!==""&&(k+="="+encodeURIComponent(String(it[A]))),u.push(k)}}return this.i=u.join("&")};function Ai(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function cl(u,g){g&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,A){var k=A.toLowerCase();A!=k&&($a(this,A),Ti(this,k,v))},u)),u.j=g}function qo(u,g){const v=new er;if(m.Image){const A=new Image;A.onload=V(Sn,v,"TestLoadImage: loaded",!0,g,A),A.onerror=V(Sn,v,"TestLoadImage: error",!1,g,A),A.onabort=V(Sn,v,"TestLoadImage: abort",!1,g,A),A.ontimeout=V(Sn,v,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else g(!1)}function ia(u,g){const v=new er,A=new AbortController,k=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:A.signal}).then(H=>{clearTimeout(k),H.ok?Sn(v,"TestPingServer: ok",!0,g):Sn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(k),Sn(v,"TestPingServer: error",!1,g)})}function Sn(u,g,v,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(v)}catch{}}function ra(){this.g=new $e}function Yn(u,g,v){const A=v||"";try{ta(u,function(k,H){let it=k;y(k)&&(it=tl(k)),g.push(A+H+"="+encodeURIComponent(it))})}catch(k){throw g.push(A+"type="+encodeURIComponent("_badmap")),k}}function cr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(cr,el),cr.prototype.g=function(){return new Si(this.l,this.j)},cr.prototype.i=function(u){return function(){return u}}({});function Si(u,g){ve.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Si,ve),r=Si.prototype,r.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?$n(this):Xn(this),this.readyState==3&&hl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,$n(this))},r.Qa=function(u){this.g&&(this.response=u,$n(this))},r.ga=function(){this.g&&$n(this)};function $n(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,g){this.u.append(u,g)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=g.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Si.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function fl(u){let g="";return Rt(u,function(v,A){g+=A,g+=":",g+=v,g+=`\r
`}),g}function Ie(u,g,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=fl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):zt(u,g,v))}function Ht(u){ve.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(Ht,ve);var Xa=/^https?$/i,aa=["POST","PUT"];r=Ht.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,g,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wr.g(),this.v=this.o?Mo(this.o):Mo(Wr),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(H){Ho(this,H);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)v.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const H of A.keys())v.set(H,A.get(H));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),k=m.FormData&&u instanceof m.FormData,!(0<=Array.prototype.indexOf.call(aa,g,void 0))||A||k||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of v)this.g.setRequestHeader(H,it);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sa(this),this.u=!0,this.g.send(u),this.u=!1}catch(H){Ho(this,H)}};function Ho(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,Za(u),Zn(u)}function Za(u){u.A||(u.A=!0,Ce(u,"complete"),Ce(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ce(this,"complete"),Ce(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),Ht.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Wa(this):this.bb())},r.bb=function(){Wa(this)};function Wa(u){if(u.h&&typeof f<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)xo(u.Ea,0,u);else if(Ce(u,"readystatechange"),bn(u)==4){u.h=!1;try{const it=u.Z();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break t;default:g=!1}var v;if(!(v=g)){var A;if(A=it===0){var k=String(u.D).match(ll)[1]||null;!k&&m.self&&m.self.location&&(k=m.self.location.protocol.slice(0,-1)),A=!Xa.test(k?k.toLowerCase():"")}v=A}if(v)Ce(u,"complete"),Ce(u,"success");else{u.m=6;try{var H=2<bn(u)?u.g.statusText:""}catch{H=""}u.l=H+" ["+u.Z()+"]",Za(u)}}finally{Zn(u)}}}}function Zn(u,g){if(u.g){sa(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Ce(u,"ready");try{v.onreadystatechange=A}catch{}}}function sa(u){u.I&&(m.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Hn(g)}};function Fo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ch(u){const g={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(nt(u[A]))continue;var v=x(u[A]);const k=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=g[k]||[];g[k]=H,H.push(v)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function la(u,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||g}function Ja(u){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=la("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=la("baseRetryDelayMs",5e3,u),this.cb=la("retryDelaySeedMs",1e4,u),this.Wa=la("forwardChannelMaxRetries",2,u),this.wa=la("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new al(u&&u.concurrentRequestLimit),this.Da=new ra,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ja.prototype,r.la=8,r.G=1,r.connect=function(u,g,v,A){oe(0),this.W=u,this.H=g||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Zo(this,null,this.W),es(this)};function dl(u){if(Go(u),u.G==3){var g=u.U++,v=re(u.I);if(zt(v,"SID",u.K),zt(v,"RID",g),zt(v,"TYPE","terminate"),oa(u,v),g=new Qn(u,u.j,g),g.L=2,g.v=na(re(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Wo(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Jt(g)}Xo(u)}function ts(u){u.g&&(ua(u),u.g.cancel(),u.g=null)}function Go(u){ts(u),u.u&&(m.clearTimeout(u.u),u.u=null),ns(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&m.clearTimeout(u.s),u.s=null)}function es(u){if(!sl(u.h)&&!u.s){u.s=!0;var g=u.Ga;vt||N(),mt||(vt(),mt=!0),qt.add(g,u),u.B=0}}function hh(u,g){return zo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=tr(C(u.Ga,u,g),pl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const k=new Qn(this,this.j,u);let H=this.o;if(this.S&&(H?(H=R(H),I(H,this.S)):H=this.S),this.m!==null||this.O||(k.H=H,H=null),this.P)t:{for(var g=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=v;break t}if(g===4096||v===this.i.length-1){g=v+1;break t}}g=1e3}else g=1e3;g=Qo(this,k,g),v=re(this.I),zt(v,"RID",u),zt(v,"CVER",22),this.D&&zt(v,"X-HTTP-Session-Id",this.D),oa(this,v),H&&(this.O?g="headers="+encodeURIComponent(String(fl(H)))+"&"+g:this.m&&Ie(v,this.m,H)),lr(this.h,k),this.Ua&&zt(v,"TYPE","init"),this.P?(zt(v,"$req",g),zt(v,"SID","null"),k.T=!0,Pn(k,v,null)):Pn(k,v,g),this.G=2}}else this.G==3&&(u?ml(this,u):this.i.length==0||sl(this.h)||ml(this))};function ml(u,g){var v;g?v=g.l:v=u.U++;const A=re(u.I);zt(A,"SID",u.K),zt(A,"RID",v),zt(A,"AID",u.T),oa(u,A),u.m&&u.o&&Ie(A,u.m,u.o),v=new Qn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),g&&(u.i=g.D.concat(u.i)),g=Qo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),lr(u.h,v),Pn(v,A,g)}function oa(u,g){u.H&&Rt(u.H,function(v,A){zt(g,A,v)}),u.l&&ta({},function(v,A){zt(g,A,v)})}function Qo(u,g,v){v=Math.min(u.i.length,v);var A=u.l?C(u.l.Na,u.l,u):null;t:{var k=u.i;let H=-1;for(;;){const it=["count="+v];H==-1?0<v?(H=k[0].g,it.push("ofs="+H)):H=0:it.push("ofs="+H);let xt=!0;for(let Ee=0;Ee<v;Ee++){let Mt=k[Ee].g;const Ve=k[Ee].map;if(Mt-=H,0>Mt)H=Math.max(0,k[Ee].g-100),xt=!1;else try{Yn(Ve,it,"req"+Mt+"_")}catch{A&&A(Ve)}}if(xt){A=it.join("&");break t}}}return u=u.i.splice(0,v),g.D=u,A}function Ko(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;vt||N(),mt||(vt(),mt=!0),qt.add(g,u),u.v=0}}function gl(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=tr(C(u.Fa,u),pl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Yo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=tr(C(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,oe(10),ts(this),Yo(this))};function ua(u){u.A!=null&&(m.clearTimeout(u.A),u.A=null)}function Yo(u){u.g=new Qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=re(u.qa);zt(g,"RID","rpc"),zt(g,"SID",u.K),zt(g,"AID",u.T),zt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&zt(g,"TO",u.ja),zt(g,"TYPE","xmlhttp"),oa(u,g),u.m&&u.o&&Ie(g,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=na(re(g)),v.m=null,v.P=!0,vi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,ts(this),gl(this),oe(19))};function ns(u){u.C!=null&&(m.clearTimeout(u.C),u.C=null)}function $o(u,g){var v=null;if(u.g==g){ns(u),ua(u),u.g=null;var A=2}else if(sr(u.h,g))v=g.D,En(u.h,g),A=1;else return;if(u.G!=0){if(g.o)if(A==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var k=u.B;A=Ha(),Ce(A,new Lo(A,v)),es(u)}else Ko(u);else if(k=g.s,k==3||k==0&&0<g.X||!(A==1&&hh(u,g)||A==2&&gl(u)))switch(v&&0<v.length&&(g=u.h,g.i=g.i.concat(v)),k){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function pl(u,g){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*g}function bi(u,g){if(u.j.info("Error code "+g),g==2){var v=C(u.fb,u),A=u.Xa;const k=!A;A=new _i(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||or(A,"https"),na(A),k?qo(A.toString(),v):ia(A.toString(),v)}else oe(2);u.G=0,u.l&&u.l.sa(g),Xo(u),Go(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),oe(2)):(this.j.info("Failed to ping google.com"),oe(1))};function Xo(u){if(u.G=0,u.ka=[],u.l){const g=Xe(u.h);(g.length!=0||u.i.length!=0)&&(j(u.ka,g),j(u.ka,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.ra()}}function Zo(u,g,v){var A=v instanceof _i?re(v):new _i(v);if(A.g!="")g&&(A.g=g+"."+A.g),ea(A,A.s);else{var k=m.location;A=k.protocol,g=g?g+"."+k.hostname:k.hostname,k=+k.port;var H=new _i(null);A&&or(H,A),g&&(H.g=g),k&&ea(H,k),v&&(H.l=v),A=H}return v=u.D,g=u.ya,v&&g&&zt(A,v,g),zt(A,"VER",u.la),oa(u,A),A}function Wo(u,g,v){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ht(new cr({eb:v})):new Ht(u.pa),g.Ha(u.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jo(){}r=Jo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function is(){}is.prototype.g=function(u,g){return new Ze(u,g)};function Ze(u,g){ve.call(this),this.g=new Ja(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!nt(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!nt(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Wn(this)}L(Ze,ve),Ze.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ze.prototype.close=function(){dl(this.g)},Ze.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=tl(u),u=v);g.i.push(new ah(g.Ya++,u)),g.G==3&&es(g)},Ze.prototype.N=function(){this.g.l=null,delete this.j,dl(this.g),delete this.g,Ze.aa.N.call(this)};function tu(u){Zi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){t:{for(const v in g){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}L(tu,Zi);function eu(){Ln.call(this),this.status=1}L(eu,Ln);function Wn(u){this.g=u}L(Wn,Jo),Wn.prototype.ua=function(){Ce(this.g,"a")},Wn.prototype.ta=function(u){Ce(this.g,new tu(u))},Wn.prototype.sa=function(u){Ce(this.g,new eu)},Wn.prototype.ra=function(){Ce(this.g,"b")},is.prototype.createWebChannel=is.prototype.g,Ze.prototype.send=Ze.prototype.o,Ze.prototype.open=Ze.prototype.m,Ze.prototype.close=Ze.prototype.close,gE=function(){return new is},mE=function(){return Ha()},dE=_n,Id={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,oc=_e,yi.COMPLETE="complete",fE=yi,Uo.EventType=Fn,Fn.OPEN="a",Fn.CLOSE="b",Fn.ERROR="c",Fn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,so=Uo,Ht.prototype.listenOnce=Ht.prototype.L,Ht.prototype.getLastError=Ht.prototype.Ka,Ht.prototype.getLastErrorCode=Ht.prototype.Ba,Ht.prototype.getStatus=Ht.prototype.Z,Ht.prototype.getResponseJson=Ht.prototype.Oa,Ht.prototype.getResponseText=Ht.prototype.oa,Ht.prototype.send=Ht.prototype.ea,Ht.prototype.setWithCredentials=Ht.prototype.Ha,hE=Ht}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const Tv="@firebase/firestore",Av="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ks="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new tm("@firebase/firestore");function Vs(){return Ma.logLevel}function lt(r,...e){if(Ma.logLevel<=Pt.DEBUG){const i=e.map(lm);Ma.debug(`Firestore (${Ks}): ${r}`,...i)}}function Gi(r,...e){if(Ma.logLevel<=Pt.ERROR){const i=e.map(lm);Ma.error(`Firestore (${Ks}): ${r}`,...i)}}function Ps(r,...e){if(Ma.logLevel<=Pt.WARN){const i=e.map(lm);Ma.warn(`Firestore (${Ks}): ${r}`,...i)}}function lm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(r="Unexpected state"){const e=`FIRESTORE (${Ks}) INTERNAL ASSERTION FAILED: `+r;throw Gi(e),new Error(e)}function Ft(r,e){r||_t()}function At(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends Kr{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class W1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class J1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ft(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}},0),f()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ft(typeof s.accessToken=="string"),new pE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ft(e===null||typeof e=="string"),new Qe(e)}}class tR{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class eR{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new tR(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Sv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nR{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pw(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ft(this.o===void 0);const s=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Sv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ft(typeof i.token=="string"),this.R=i.token,new Sv(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iR(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iR(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Ot(r,e){return r<e?-1:r>e?1:0}function ks(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=-62135596800,wv=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*wv);return new we(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<bv)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new dt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(e){return this.seconds===e.seconds?Ot(this.nanoseconds,e.nanoseconds):Ot(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new we(0,0))}static max(){return new Et(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="__name__";class ai{constructor(e,i,s){i===void 0?i=0:i>e.length&&_t(),s===void 0?s=e.length-i:s>e.length-i&&_t(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ai.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Math.sign(e.length-i.length)}static compareSegments(e,i){const s=ai.isNumericId(e),o=ai.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(i)):e<i?-1:e>i?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class Zt extends ai{construct(e,i,s){return new Zt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new dt(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Zt(i)}static emptyPath(){return new Zt([])}}const rR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ai{construct(e,i,s){return new Be(e,i,s)}static isValidIdentifier(e){return rR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Rv}static keyField(){return new Be([Rv])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new dt(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new dt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new dt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(c(),o++)}if(c(),f)throw new dt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Zt.fromString(e))}static fromName(e){return new gt(Zt.fromString(e).popFirst(5))}static empty(){return new gt(Zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Zt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Zt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Zt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=-1;function aR(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new zr(o,gt.empty(),e)}function sR(r){return new zr(r.readTime,r.key,yo)}class zr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new zr(Et.min(),gt.empty(),yo)}static max(){return new zr(Et.max(),gt.empty(),yo)}}function lR(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=gt.comparator(r.documentKey,e.documentKey),i!==0?i:Ot(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ys(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==oR)throw r;lt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Z.reject(i)}static resolve(e){return new Z((i,s)=>{i(e)})}static reject(e){return new Z((i,s)=>{s(e)})}static waitFor(e){return new Z((i,s)=>{let o=0,c=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++c,f&&c===o&&i()},p=>s(p))}),f=!0,c===o&&i()})}static or(e){let i=Z.resolve(!1);for(const s of e)i=i.next(o=>o?Z.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new Z((s,o)=>{const c=e.length,f=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{f[y]=E,++m,m===c&&s(f)},E=>o(E))}})}static doWhile(e,i){return new Z((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function cR(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function $s(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=-1;function zc(r){return r==null}function _c(r){return r===0&&1/r==-1/0}function hR(r){return typeof r=="number"&&Number.isInteger(r)&&!_c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="";function fR(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=Cv(e)),e=dR(r.get(i),e);return Cv(e)}function dR(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case vE:i+="";break;default:i+=c}}return i}function Cv(r){return r+vE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Yr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function _E(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||ze.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??ze.RED,this.left=o??ze.EMPTY,this.right=c??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new ze(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return ze.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(e,i,s,o,c){return this}insert(e,i,s){return new ze(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Iv(this.data.getIterator())}getIteratorFrom(e){return new Iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class Iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new mn([])}unionWith(e){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new mn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new EE("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ot(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Br(r){if(Ft(!!r),typeof r=="string"){let e=0;const i=mR.exec(r);if(Ft(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:ce(r.seconds),nanos:ce(r.nanos)}}function ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function jr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="server_timestamp",AE="__type__",SE="__previous_value__",bE="__local_write_time__";function um(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[AE])===null||i===void 0?void 0:i.stringValue)===TE}function Bc(r){const e=r.mapValue.fields[SE];return um(e)?Bc(e):e}function vo(r){const e=Br(r.mapValue.fields[bE].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,i,s,o,c,f,m,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const Ec="(default)";class _o{constructor(e,i){this.projectId=e,this.database=i||Ec}static empty(){return new _o("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof _o&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="__type__",pR="__max__",nc={mapValue:{}},RE="__vector__",Tc="value";function qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?um(r)?4:vR(r)?9007199254740991:yR(r)?10:11:_t()}function hi(r,e){if(r===e)return!0;const i=qr(r);if(i!==qr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vo(r).isEqual(vo(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=Br(o.timestampValue),m=Br(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return jr(o.bytesValue).isEqual(jr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return ce(o.geoPointValue.latitude)===ce(c.geoPointValue.latitude)&&ce(o.geoPointValue.longitude)===ce(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return ce(o.integerValue)===ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=ce(o.doubleValue),m=ce(c.doubleValue);return f===m?_c(f)===_c(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ks(r.arrayValue.values||[],e.arrayValue.values||[],hi);case 10:case 11:return function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(Dv(f)!==Dv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!hi(f[p],m[p])))return!1;return!0}(r,e);default:return _t()}}function Eo(r,e){return(r.values||[]).find(i=>hi(i,e))!==void 0}function zs(r,e){if(r===e)return 0;const i=qr(r),s=qr(e);if(i!==s)return Ot(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,e.booleanValue);case 2:return function(c,f){const m=ce(c.integerValue||c.doubleValue),p=ce(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Vv(r.timestampValue,e.timestampValue);case 4:return Vv(vo(r),vo(e));case 5:return Ot(r.stringValue,e.stringValue);case 6:return function(c,f){const m=jr(c),p=jr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const E=Ot(m[y],p[y]);if(E!==0)return E}return Ot(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ot(ce(c.latitude),ce(f.latitude));return m!==0?m:Ot(ce(c.longitude),ce(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Nv(r.arrayValue,e.arrayValue);case 10:return function(c,f){var m,p,y,E;const S=c.fields||{},C=f.fields||{},V=(m=S[Tc])===null||m===void 0?void 0:m.arrayValue,L=(p=C[Tc])===null||p===void 0?void 0:p.arrayValue,F=Ot(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:Nv(V,L)}(r.mapValue,e.mapValue);case 11:return function(c,f){if(c===nc.mapValue&&f===nc.mapValue)return 0;if(c===nc.mapValue)return 1;if(f===nc.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const C=Ot(p[S],E[S]);if(C!==0)return C;const V=zs(m[p[S]],y[E[S]]);if(V!==0)return V}return Ot(p.length,E.length)}(r.mapValue,e.mapValue);default:throw _t()}}function Vv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ot(r,e);const i=Br(r),s=Br(e),o=Ot(i.seconds,s.seconds);return o!==0?o:Ot(i.nanos,s.nanos)}function Nv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=zs(i[o],s[o]);if(c)return c}return Ot(i.length,s.length)}function Bs(r){return Vd(r)}function Vd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Br(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return jr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return gt.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=Vd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const f of s)c?c=!1:o+=",",o+=`${f}:${Vd(i.fields[f])}`;return o+"}"}(r.mapValue):_t()}function uc(r){switch(qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bc(r);return e?16+uc(e):16;case 5:return 2*r.stringValue.length;case 6:return jr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+uc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Yr(s.fields,(c,f)=>{o+=c.length+uc(f)}),o}(r.mapValue);default:throw _t()}}function Nd(r){return!!r&&"integerValue"in r}function cm(r){return!!r&&"arrayValue"in r}function Ov(r){return!!r&&"nullValue"in r}function xv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function cc(r){return!!r&&"mapValue"in r}function yR(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wE])===null||i===void 0?void 0:i.stringValue)===RE}function co(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Yr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=co(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=co(r.arrayValue.values[i]);return e}return Object.assign({},r)}function vR(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===pR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!cc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=co(i)}setAll(e){let i=Be.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!i.isImmediateParentOf(m)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=m.popLast()}f?s[m.lastSegment()]=co(f):o.push(m.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());cc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return hi(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];cc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Yr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new an(co(this.value))}}function CE(r){const e=[];return Yr(r.fields,(i,s)=>{const o=new Be([i]);if(cc(s)){const c=CE(s.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,i,s,o,c,f,m){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Ke(e,0,Et.min(),Et.min(),Et.min(),an.empty(),0)}static newFoundDocument(e,i,s,o){return new Ke(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Ke(e,2,i,Et.min(),Et.min(),an.empty(),0)}static newUnknownDocument(e,i){return new Ke(e,3,i,Et.min(),Et.min(),an.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ke&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ke(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,i){this.position=e,this.inclusive=i}}function Mv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],f=r.position[o];if(c.field.isKeyField()?s=gt.comparator(gt.fromName(f.referenceValue),i.key):s=zs(f,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function Uv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!hi(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i="asc"){this.field=e,this.dir=i}}function _R(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{}class be extends DE{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new TR(e,i,s):i==="array-contains"?new bR(e,s):i==="in"?new wR(e,s):i==="not-in"?new RR(e,s):i==="array-contains-any"?new CR(e,s):new be(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new AR(e,s):new SR(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(zs(i,this.value)):i!==null&&qr(this.value)===qr(i)&&this.matchesComparison(zs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fi extends DE{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new fi(e,i)}matches(e){return IE(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function IE(r){return r.op==="and"}function VE(r){return ER(r)&&IE(r)}function ER(r){for(const e of r.filters)if(e instanceof fi)return!1;return!0}function Od(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Bs(r.value);if(VE(r))return r.filters.map(e=>Od(e)).join(",");{const e=r.filters.map(i=>Od(i)).join(",");return`${r.op}(${e})`}}function NE(r,e){return r instanceof be?function(s,o){return o instanceof be&&s.op===o.op&&s.field.isEqual(o.field)&&hi(s.value,o.value)}(r,e):r instanceof fi?function(s,o){return o instanceof fi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,f,m)=>c&&NE(f,o.filters[m]),!0):!1}(r,e):void _t()}function OE(r){return r instanceof be?function(i){return`${i.field.canonicalString()} ${i.op} ${Bs(i.value)}`}(r):r instanceof fi?function(i){return i.op.toString()+" {"+i.getFilters().map(OE).join(" ,")+"}"}(r):"Filter"}class TR extends be{constructor(e,i,s){super(e,i,s),this.key=gt.fromName(s.referenceValue)}matches(e){const i=gt.comparator(e.key,this.key);return this.matchesComparison(i)}}class AR extends be{constructor(e,i){super(e,"in",i),this.keys=xE("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class SR extends be{constructor(e,i){super(e,"not-in",i),this.keys=xE("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function xE(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>gt.fromName(s.referenceValue))}class bR extends be{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cm(i)&&Eo(i.arrayValue,this.value)}}class wR extends be{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Eo(this.value.arrayValue,i)}}class RR extends be{constructor(e,i){super(e,"not-in",i)}matches(e){if(Eo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Eo(this.value.arrayValue,i)}}class CR extends be{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cm(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Eo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,i=null,s=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.le=null}}function Lv(r,e=null,i=[],s=[],o=null,c=null,f=null){return new DR(r,e,i,s,o,c,f)}function hm(r){const e=At(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>Od(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),zc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Bs(s)).join(",")),e.le=i}return e.le}function fm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!_R(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!NE(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Uv(r.startAt,e.startAt)&&Uv(r.endAt,e.endAt)}function xd(r){return gt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,i=null,s=[],o=[],c=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function IR(r,e,i,s,o,c,f,m){return new jc(r,e,i,s,o,c,f,m)}function ME(r){return new jc(r)}function Pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function VR(r){return r.collectionGroup!==null}function ho(r){const e=At(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Re(Be.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new Sc(c,s))}),i.has(Be.keyField().canonicalString())||e.he.push(new Sc(Be.keyField(),s))}return e.he}function li(r){const e=At(r);return e.Pe||(e.Pe=NR(e,ho(r))),e.Pe}function NR(r,e){if(r.limitType==="F")return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new Sc(o.field,c)});const i=r.endAt?new Ac(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ac(r.startAt.position,r.startAt.inclusive):null;return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function Md(r,e,i){return new jc(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function qc(r,e){return fm(li(r),li(e))&&r.limitType===e.limitType}function UE(r){return`${hm(li(r))}|lt:${r.limitType}`}function Ns(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>OE(o)).join(", ")}]`),zc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Bs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Bs(o)).join(",")),`Target(${s})`}(li(r))}; limitType=${r.limitType})`}function Hc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):gt.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of ho(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=Mv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,ho(s),o)||s.endAt&&!function(f,m,p){const y=Mv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,ho(s),o))}(r,e)}function OR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function LE(r){return(e,i)=>{let s=!1;for(const o of ho(r)){const c=xR(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function xR(r,e,i){const s=r.field.isKeyField()?gt.comparator(e.key,i.key):function(c,f,m){const p=f.data.field(c),y=m.data.field(c);return p!==null&&y!==null?zs(p,y):_t()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _t()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Yr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return _E(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=new ne(gt.comparator);function Qi(){return MR}const PE=new ne(gt.comparator);function lo(...r){let e=PE;for(const i of r)e=e.insert(i.key,i);return e}function kE(r){let e=PE;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function Va(){return fo()}function zE(){return fo()}function fo(){return new ka(r=>r.toString(),(r,e)=>r.isEqual(e))}const UR=new ne(gt.comparator),LR=new Re(gt.comparator);function Vt(...r){let e=LR;for(const i of r)e=e.add(i);return e}const PR=new Re(Ot);function kR(){return PR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function BE(r){return{integerValue:""+r}}function zR(r,e){return hR(e)?BE(e):dm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(){this._=void 0}}function BR(r,e,i){return r instanceof bc?function(o,c){const f={fields:{[AE]:{stringValue:TE},[bE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&um(c)&&(c=Bc(c)),c&&(f.fields[SE]=c),{mapValue:f}}(i,e):r instanceof js?qE(r,e):r instanceof To?HE(r,e):function(o,c){const f=jE(o,c),m=kv(f)+kv(o.Ie);return Nd(f)&&Nd(o.Ie)?BE(m):dm(o.serializer,m)}(r,e)}function jR(r,e,i){return r instanceof js?qE(r,e):r instanceof To?HE(r,e):i}function jE(r,e){return r instanceof wc?function(s){return Nd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class bc extends Fc{}class js extends Fc{constructor(e){super(),this.elements=e}}function qE(r,e){const i=FE(e);for(const s of r.elements)i.some(o=>hi(o,s))||i.push(s);return{arrayValue:{values:i}}}class To extends Fc{constructor(e){super(),this.elements=e}}function HE(r,e){let i=FE(e);for(const s of r.elements)i=i.filter(o=>!hi(o,s));return{arrayValue:{values:i}}}class wc extends Fc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function kv(r){return ce(r.integerValue||r.doubleValue)}function FE(r){return cm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,i){this.field=e,this.transform=i}}function HR(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof js&&o instanceof js||s instanceof To&&o instanceof To?ks(s.elements,o.elements,hi):s instanceof wc&&o instanceof wc?hi(s.Ie,o.Ie):s instanceof bc&&o instanceof bc}(r.transform,e.transform)}class FR{constructor(e,i){this.version=e,this.transformResults=i}}class oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gc{}function GE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new KE(r.key,oi.none()):new Ro(r.key,r.data,oi.none());{const i=r.data,s=an.empty();let o=new Re(Be.comparator);for(let c of e.fields)if(!o.has(c)){let f=i.field(c);f===null&&c.length>1&&(c=c.popLast(),f=i.field(c)),f===null?s.delete(c):s.set(c,f),o=o.add(c)}return new $r(r.key,s,new mn(o.toArray()),oi.none())}}function GR(r,e,i){r instanceof Ro?function(o,c,f){const m=o.value.clone(),p=Bv(o.fieldTransforms,c,f.transformResults);m.setAll(p),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,i):r instanceof $r?function(o,c,f){if(!hc(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Bv(o.fieldTransforms,c,f.transformResults),p=c.data;p.setAll(QE(o)),p.setAll(m),c.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,i)}function mo(r,e,i,s){return r instanceof Ro?function(c,f,m,p){if(!hc(c.precondition,f))return m;const y=c.value.clone(),E=jv(c.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof $r?function(c,f,m,p){if(!hc(c.precondition,f))return m;const y=jv(c.fieldTransforms,p,f),E=f.data;return E.setAll(QE(c)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,f,m){return hc(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,i)}function QR(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=jE(s.transform,o||null);c!=null&&(i===null&&(i=an.empty()),i.set(s.field,c))}return i||null}function zv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ks(s,o,(c,f)=>HR(c,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Ro extends Gc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class $r extends Gc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function QE(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function Bv(r,e,i){const s=new Map;Ft(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],f=c.transform,m=e.data.field(c.field);s.set(c.field,jR(f,m,i[o]))}return s}function jv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,f=i.data.field(o.field);s.set(o.field,BR(c,f,e))}return s}class KE extends Gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KR extends Gc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&GR(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=mo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=mo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=zE();return this.mutations.forEach(o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=i.has(o.key)?null:m;const p=GE(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(i,s)=>zv(i,s))&&ks(this.baseMutations,e.baseMutations,(i,s)=>zv(i,s))}}class mm{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ft(e.mutations.length===s.length);let o=function(){return UR}();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,s[f].version);return new mm(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Lt;function ZR(r){switch(r){case J.OK:return _t();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t()}}function YE(r){if(r===void 0)return Gi("GRPC error has no .code"),J.UNKNOWN;switch(r){case pe.OK:return J.OK;case pe.CANCELLED:return J.CANCELLED;case pe.UNKNOWN:return J.UNKNOWN;case pe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case pe.INTERNAL:return J.INTERNAL;case pe.UNAVAILABLE:return J.UNAVAILABLE;case pe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case pe.NOT_FOUND:return J.NOT_FOUND;case pe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case pe.ABORTED:return J.ABORTED;case pe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case pe.DATA_LOSS:return J.DATA_LOSS;default:return _t()}}(Lt=pe||(pe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Ur([4294967295,4294967295],0);function qv(r){const e=WR().encode(r),i=new cE;return i.update(e),new Uint8Array(i.digest())}function Hv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ur([i,s],0),new Ur([o,c],0)]}class gm{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new oo(`Invalid padding: ${i}`);if(s<0)throw new oo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new oo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new oo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ur.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ur.fromNumber(s)));return o.compare(JR)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=qv(e),[s,o]=Hv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);if(!this.Re(f))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new gm(c,o,i);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const i=qv(e),[s,o]=Hv(i);for(let c=0;c<this.hashCount;c++){const f=this.Ae(s,o,c);this.Ve(f)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class oo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,Co.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Qc(Et.min(),o,new ne(Ot),Qi(),Vt())}}class Co{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new Co(s,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class $E{constructor(e,i){this.targetId=e,this.ge=i}}class XE{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class Fv{constructor(){this.pe=0,this.ye=Gv(),this.we=je.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),s=Vt();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:_t()}}),new Co(this.we,this.be,e,i,s)}Me(){this.Se=!1,this.ye=Gv()}xe(e,i){this.Se=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ft(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class t2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qi(),this.$e=ic(),this.Ke=ic(),this.Ue=new ne(Ot)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:_t()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(xd(c))if(s===0){const f=new gt(c.path);this.ze(i,f,Ke.newNoDocument(f,Et.min()))}else Ft(s===1);else{const f=this.et(i);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let f,m;try{f=jr(s).toUint8Array()}catch(p){if(p instanceof EE)return Ps("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new gm(f,o,c)}catch(p){return Ps(p instanceof oo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,f)=>{const m=this.Xe(f);if(m){if(c.current&&xd(m.target)){const p=new gt(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Ke.newNoDocument(p,e))}c.ve&&(i.set(f,c.Fe()),c.Me())}});let s=Vt();this.Ke.forEach((c,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.Qe.forEach((c,f)=>f.setReadTime(e));const o=new Qc(e,i,this.Ue,this.Qe,s);return this.Qe=Qi(),this.$e=ic(),this.Ke=ic(),this.Ue=new ne(Ot),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ke=this.Ke.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ke=this.Ke.insert(i,this.ct(i).delete(e)),this.Ke=this.Ke.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Fv,this.qe.set(e,i)),i}ct(e){let i=this.Ke.get(e);return i||(i=new Re(Ot),this.Ke=this.Ke.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Ot),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Fv),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function ic(){return new ne(gt.comparator)}function Gv(){return new ne(gt.comparator)}const e2={asc:"ASCENDING",desc:"DESCENDING"},n2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},i2={and:"AND",or:"OR"};class r2{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ud(r,e){return r.useProto3Json||zc(e)?e:{value:e}}function Rc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function a2(r,e){return Rc(r,e.toTimestamp())}function ui(r){return Ft(!!r),Et.fromTimestamp(function(i){const s=Br(i);return new we(s.seconds,s.nanos)}(r))}function pm(r,e){return Ld(r,e).canonicalString()}function Ld(r,e){const i=function(o){return new Zt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function WE(r){const e=Zt.fromString(r);return Ft(i0(e)),e}function Pd(r,e){return pm(r.databaseId,e.path)}function yd(r,e){const i=WE(e);if(i.get(1)!==r.databaseId.projectId)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new gt(t0(i))}function JE(r,e){return pm(r.databaseId,e)}function s2(r){const e=WE(r);return e.length===4?Zt.emptyPath():t0(e)}function kd(r){return new Zt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t0(r){return Ft(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Qv(r,e,i){return{name:Pd(r,e),fields:i.value.mapValue.fields}}function l2(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ft(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(Ft(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?J.UNKNOWN:YE(y.code);return new dt(E,y.message||"")}(f);i=new XE(s,o,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=yd(r,s.document.name),c=ui(s.document.updateTime),f=s.document.createTime?ui(s.document.createTime):Et.min(),m=new an({mapValue:{fields:s.document.fields}}),p=Ke.newFoundDocument(o,c,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];i=new fc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=yd(r,s.document),c=s.readTime?ui(s.readTime):Et.min(),f=Ke.newNoDocument(o,c),m=s.removedTargetIds||[];i=new fc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=yd(r,s.document),c=s.removedTargetIds||[];i=new fc([],c,o,null)}else{if(!("filter"in e))return _t();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,f=new XR(o,c),m=s.targetId;i=new $E(m,f)}}return i}function o2(r,e){let i;if(e instanceof Ro)i={update:Qv(r,e.key,e.value)};else if(e instanceof KE)i={delete:Pd(r,e.key)};else if(e instanceof $r)i={update:Qv(r,e.key,e.data),updateMask:y2(e.fieldMask)};else{if(!(e instanceof KR))return _t();i={verify:Pd(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,f){const m=f.transform;if(m instanceof bc)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof js)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof To)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wc)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw _t()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:a2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t()}(r,e.precondition)),i}function u2(r,e){return r&&r.length>0?(Ft(e!==void 0),r.map(i=>function(o,c){let f=o.updateTime?ui(o.updateTime):ui(c);return f.isEqual(Et.min())&&(f=ui(c)),new FR(f,o.transformResults||[])}(i,e))):[]}function c2(r,e){return{documents:[JE(r,e.path)]}}function h2(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=JE(r,o);const c=function(y){if(y.length!==0)return n0(fi.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const f=function(y){if(y.length!==0)return y.map(E=>function(C){return{field:Os(C.field),direction:m2(C.dir)}}(E))}(e.orderBy);f&&(i.structuredQuery.orderBy=f);const m=Ud(r,e.limit);return m!==null&&(i.structuredQuery.limit=m),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function f2(r){let e=s2(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ft(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const C=e0(S);return C instanceof fi&&VE(C)?C.getFilters():[C]}(i.where));let f=[];i.orderBy&&(f=function(S){return S.map(C=>function(L){return new Sc(xs(L.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(C))}(i.orderBy));let m=null;i.limit&&(m=function(S){let C;return C=typeof S=="object"?S.value:S,zc(C)?null:C}(i.limit));let p=null;i.startAt&&(p=function(S){const C=!!S.before,V=S.values||[];return new Ac(V,C)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const C=!S.before,V=S.values||[];return new Ac(V,C)}(i.endAt)),IR(e,o,f,c,m,"F",p,y)}function d2(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function e0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=xs(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xs(i.unaryFilter.field);return be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=xs(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=xs(i.unaryFilter.field);return be.create(f,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(r):r.fieldFilter!==void 0?function(i){return be.create(xs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return fi.create(i.compositeFilter.filters.map(s=>e0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return _t()}}(i.compositeFilter.op))}(r):_t()}function m2(r){return e2[r]}function g2(r){return n2[r]}function p2(r){return i2[r]}function Os(r){return{fieldPath:r.canonicalString()}}function xs(r){return Be.fromServerFormat(r.fieldPath)}function n0(r){return r instanceof be?function(i){if(i.op==="=="){if(xv(i.value))return{unaryFilter:{field:Os(i.field),op:"IS_NAN"}};if(Ov(i.value))return{unaryFilter:{field:Os(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(xv(i.value))return{unaryFilter:{field:Os(i.field),op:"IS_NOT_NAN"}};if(Ov(i.value))return{unaryFilter:{field:Os(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(i.field),op:g2(i.op),value:i.value}}}(r):r instanceof fi?function(i){const s=i.getFilters().map(o=>n0(o));return s.length===1?s[0]:{compositeFilter:{op:p2(i.op),filters:s}}}(r):_t()}function y2(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function i0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,i,s,o,c=Et.min(),f=Et.min(),m=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.Tt=e}}function _2(r){const e=f2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Md(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.Tn=new T2}addToCollectionParentIndex(e,i){return this.Tn.add(i),Z.resolve()}getCollectionParents(e,i){return Z.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Z.resolve()}deleteFieldIndex(e,i){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,i){return Z.resolve()}getDocumentsMatchingTarget(e,i){return Z.resolve(null)}getIndexType(e,i){return Z.resolve(0)}getFieldIndexes(e,i){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,i){return Z.resolve(zr.min())}getMinOffsetFromCollectionGroup(e,i){return Z.resolve(zr.min())}updateCollectionGroup(e,i,s){return Z.resolve()}updateIndexEntries(e,i){return Z.resolve()}}class T2{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(Zt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(Zt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},r0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(r0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new qs(0)}static Un(){return new qs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="LruGarbageCollector",A2=1048576;function $v([r,e],[i,s]){const o=Ot(r,i);return o===0?Ot(e,s):o}class S2{constructor(e){this.Hn=e,this.buffer=new Re($v),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();$v(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class b2{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){lt(Yv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){$s(i)?lt(Yv,"Ignoring IndexedDB error during garbage collection: ",i):await Ys(i)}await this.er(3e5)})}}class w2{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return Z.resolve(kc.ae);const s=new S2(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Kv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,f,m,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),Vs()<=Pt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(p-m)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function R2(r,e){return new w2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(){this.changes=new ka(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ke.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Z.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&mo(s.mutation,o,mn.empty(),we.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,Vt()).next(()=>s))}getLocalViewOfDocuments(e,i,s=Vt()){const o=Va();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let f=lo();return c.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,i){const s=Va();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,Vt()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((f,m)=>{i.set(f,m)})})}computeViews(e,i,s,o){let c=Qi();const f=fo(),m=function(){return fo()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof $r)?c=c.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),mo(E.mutation,y,E.mutation.getFieldMask(),we.now())):f.set(y.key,mn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>f.set(y,E)),i.forEach((y,E)=>{var S;return m.set(y,new D2(E,(S=f.get(y))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,i){const s=fo();let o=new ne((f,m)=>f-m),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||mn.empty();E=m.applyToLocalView(y,E),s.set(p,E);const S=(o.get(m.batchId)||Vt()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,E=p.value,S=zE();E.forEach(C=>{if(!c.has(C)){const V=GE(i.get(C),s.get(C));V!==null&&S.set(C,V),c=c.add(C)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(f){return gt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):VR(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):Z.resolve(Va());let m=yo,p=c;return f.next(y=>Z.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),c.get(E)?Z.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,Vt())).next(E=>({batchId:m,changes:kE(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new gt(i)).next(s=>{let o=lo();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let f=lo();return this.indexManager.getCollectionParents(e,c).next(m=>Z.forEach(m,p=>{const y=function(S,C){return new jc(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,C)=>{f=f.insert(S,C)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(f=>{c.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Ke.newInvalidDocument(E)))});let m=lo();return f.forEach((p,y)=>{const E=c.get(p);E!==void 0&&mo(E.mutation,y,mn.empty(),we.now()),Hc(i,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Z.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ui(o.createTime)}}(i)),Z.resolve()}getNamedQuery(e,i){return Z.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:_2(o.bundledQuery),readTime:ui(o.readTime)}}(i)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(){this.overlays=new ne(gt.comparator),this.Rr=new Map}getOverlay(e,i){return Z.resolve(this.overlays.get(i))}getOverlays(e,i){const s=Va();return Z.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),Z.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,i,s){const o=Va(),c=i.length+1,f=new gt(i.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ne((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=Va(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Va(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return Z.resolve(m)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new $R(i,s));let c=this.Rr.get(i);c===void 0&&(c=Vt(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this.Vr=new Re(Me.mr),this.gr=new Re(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Me(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Me(e,i))}br(e,i){e.forEach(s=>this.removeReference(s,i))}Sr(e){const i=new gt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1),c=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),c.push(f.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new gt(new Zt([])),s=new Me(i,e),o=new Me(i,e+1);let c=Vt();return this.gr.forEachInRange([s,o],f=>{c=c.add(f.key)}),c}containsKey(e){const i=new Me(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Me{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return gt.comparator(e.key,i.key)||Ot(e.Cr,i.Cr)}static pr(e,i){return Ot(e.Cr,i.Cr)||gt.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Me.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YR(c,i,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Me(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,i){return Z.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?om:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Me(i,0),o=new Me(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);c.push(m)}),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Ot);return i.forEach(o=>{const c=new Me(o,0),f=new Me(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;gt.isDocumentKey(c)||(c=c.child(""));const f=new Me(new gt(c),0);let m=new Re(Ot);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ft(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(i.mutations,o=>{const c=new Me(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Me(i,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e){this.kr=e,this.docs=function(){return new ne(gt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,f=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return Z.resolve(s?s.document.mutableCopy():Ke.newInvalidDocument(i))}getEntries(e,i){let s=Qi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ke.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Qi();const f=i.path,m=new gt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||lR(sR(E),s)<=0||(o.has(E.key)||Hc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(e,i,s,o){_t()}qr(e,i){return Z.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new U2(this)}getSize(e){return Z.resolve(this.size)}}class U2 extends C2{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.persistence=e,this.Qr=new ka(i=>hm(i),fm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ym,this.targetCount=0,this.Ur=qs.Kn()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),Z.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Ur=new qs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Z.resolve()}updateTargetData(e,i){return this.zn(i),Z.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Kr.Sr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=i&&s.get(m.targetId)===null&&(this.Qr.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(c).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return Z.resolve(s)}addMatchingKeys(e,i,s){return this.Kr.yr(i,s),Z.resolve()}removeMatchingKeys(e,i,s){this.Kr.br(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(f=>{c.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Kr.Sr(i),Z.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Kr.vr(i);return Z.resolve(s)}containsKey(e,i){return Z.resolve(this.Kr.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new kc(0),this.zr=!1,this.zr=!0,this.jr=new O2,this.referenceDelegate=e(this),this.Hr=new L2(this),this.indexManager=new E2,this.remoteDocumentCache=function(o){return new M2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new v2(i),this.Yr=new V2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new N2,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new x2(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){lt("MemoryPersistence","Starting transaction:",e);const o=new P2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class P2 extends uR{constructor(e){super(),this.currentSequenceNumber=e}}class vm{constructor(e){this.persistence=e,this.ti=new ym,this.ni=null}static ri(e){return new vm(e)}get ii(){if(this.ni)return this.ni;throw _t()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Z.resolve()}removeTarget(e,i){this.ti.Sr(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=gt.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Z.or([()=>Z.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Cc{constructor(e,i){this.persistence=e,this.oi=new ka(s=>fR(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=R2(this,i)}static ri(e,i){return new Cc(e,i)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?Z.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,i).next(m=>{m||(s++,c.removeEntry(f,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Z.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=uc(e.data.value)),i}ar(e,i,s){return Z.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new _m(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return fb()?8:cR(ub())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new k2;return this._s(e,i,f).next(m=>{if(c.result=m,this.Xi)return this.us(e,i,f,m.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(Vs()<=Pt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ns(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(Vs()<=Pt.DEBUG&&lt("QueryEngine","Query:",Ns(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Vs()<=Pt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ns(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,li(i))):Z.resolve())}rs(e,i){if(Pv(i))return Z.resolve(null);let s=li(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Md(i,null,"F"),s=li(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Vt(...c);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,m);return this.ls(i,y,f,p.readTime)?this.rs(e,Md(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return Pv(i)||o.isEqual(Et.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(c=>{const f=this.cs(i,c);return this.ls(i,f,s,o)?Z.resolve(null):(Vs()<=Pt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ns(i)),this.hs(e,f,i,aR(o,yo)).next(m=>m))})}cs(e,i){let s=new Re(LE(e));return i.forEach((o,c)=>{Hc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return Vs()<=Pt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ns(i)),this.ns.getDocumentsMatchingQuery(e,i,zr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="LocalStore",B2=3e8;class j2{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ne(Ot),this.Is=new ka(c=>hm(c),fm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new I2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function q2(r,e,i,s){return new j2(r,e,i,s)}async function s0(r,e){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let p=Vt();for(const y of o){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){m.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function H2(r,e){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,E){const S=y.batch,C=S.keys();let V=Z.resolve();return C.forEach(L=>{V=V.next(()=>E.getEntry(p,L)).next(F=>{const j=y.docVersions.get(L);Ft(j!==null),F.version.compareTo(j)<0&&(S.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Vt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function l0(r){const e=At(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function F2(r,e){const i=At(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const m=[];e.targetChanges.forEach((E,S)=>{const C=o.get(S);if(!C)return;m.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let V=C.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?V=V.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(E.resumeToken,s)),o=o.insert(S,V),function(F,j,$){return F.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=B2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(C,V,E)&&m.push(i.Hr.updateTargetData(c,V))});let p=Qi(),y=Vt();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),m.push(G2(c,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(E)}return Z.waitFor(m).next(()=>f.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function G2(r,e,i){let s=Vt(),o=Vt();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let f=Qi();return i.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):lt(Em,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function Q2(r,e){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=om),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function K2(r,e){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,Z.resolve(o)):i.Hr.allocateTargetId(s).next(f=>(o=new Or(e,f,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function zd(r,e,i){const s=At(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!$s(f))throw f;lt(Em,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Xv(r,e,i){const s=At(r);let o=Et.min(),c=Vt();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const S=At(p),C=S.Is.get(E);return C!==void 0?Z.resolve(S.Ts.get(C)):S.Hr.getTargetData(y,E)}(s,f,li(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,i?o:Et.min(),i?c:Vt())).next(m=>(Y2(s,OR(e),m),{documents:m,gs:c})))}function Y2(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class Zv{constructor(){this.activeTargetIds=kR()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $2{constructor(){this.ho=new Zv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Zv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="ConnectivityMonitor";class Jv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){lt(Wv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){lt(Wv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Bd(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vd="RestConnection",Z2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W2{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Ec?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,i,s,o,c){const f=Bd(),m=this.So(e,i.toUriEncodedString());lt(vd,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,m,p,s).then(y=>(lt(vd,`Received RPC '${e}' ${f}: `,y),y),y=>{throw Ps(vd,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,i,s,o,c,f){return this.bo(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ks}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}So(e,i){const s=Z2[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class tC extends W2{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Bd();return new Promise((f,m)=>{const p=new hE;p.setWithCredentials(!0),p.listenOnce(fE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case oc.NO_ERROR:const E=p.getResponseJson();lt(Ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),f(E);break;case oc.TIMEOUT:lt(Ge,`RPC '${e}' ${c} timed out`),m(new dt(J.DEADLINE_EXCEEDED,"Request time out"));break;case oc.HTTP_ERROR:const S=p.getStatus();if(lt(Ge,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const V=C==null?void 0:C.error;if(V&&V.status&&V.message){const L=function(j){const $=j.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf($)>=0?$:J.UNKNOWN}(V.status);m(new dt(L,V.message))}else m(new dt(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new dt(J.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{lt(Ge,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);lt(Ge,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Bd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=gE(),m=mE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");lt(Ge,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=f.createWebChannel(E,p);let C=!1,V=!1;const L=new J2({Fo:j=>{V?lt(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(C||(lt(Ge,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),lt(Ge,`RPC '${e}' stream ${o} sending:`,j),S.send(j))},Mo:()=>S.close()}),F=(j,$,nt)=>{j.listen($,et=>{try{nt(et)}catch(yt){setTimeout(()=>{throw yt},0)}})};return F(S,so.EventType.OPEN,()=>{V||(lt(Ge,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),F(S,so.EventType.CLOSE,()=>{V||(V=!0,lt(Ge,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),F(S,so.EventType.ERROR,j=>{V||(V=!0,Ps(Ge,`RPC '${e}' stream ${o} transport errored:`,j),L.Ko(new dt(J.UNAVAILABLE,"The operation could not be completed")))}),F(S,so.EventType.MESSAGE,j=>{var $;if(!V){const nt=j.data[0];Ft(!!nt);const et=nt,yt=(et==null?void 0:et.error)||(($=et[0])===null||$===void 0?void 0:$.error);if(yt){lt(Ge,`RPC '${e}' stream ${o} received error:`,yt);const ht=yt.status;let Rt=function(b){const I=pe[b];if(I!==void 0)return YE(I)}(ht),M=yt.message;Rt===void 0&&(Rt=J.INTERNAL,M="Unknown error status: "+ht+" with message "+yt.message),V=!0,L.Ko(new dt(Rt,M)),S.close()}else lt(Ge,`RPC '${e}' stream ${o} received:`,nt),L.Uo(nt)}}),F(m,dE.STAT_EVENT,j=>{j.stat===Id.PROXY?lt(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Id.NOPROXY&&lt(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function _d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kc(r){return new r2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="PersistentStream";class u0{constructor(e,i,s,o,c,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new o0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new dt(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return lt(t_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(lt(t_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eC extends u0{constructor(e,i,s,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=l2(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Et.min():f.readTime?ui(f.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=kd(this.serializer),i.addTarget=function(c,f){let m;const p=f.target;if(m=xd(p)?{documents:c2(c,p)}:{query:h2(c,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZE(c,f.resumeToken);const y=Ud(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Et.min())>0){m.readTime=Rc(c,f.snapshotVersion.toTimestamp());const y=Ud(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=d2(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=kd(this.serializer),i.removeTarget=e,this.I_(i)}}class nC extends u0{constructor(e,i,s,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,f),this.serializer=c}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,Ft(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=u2(e.writeResults,e.commitTime),s=ui(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=kd(this.serializer),this.I_(e)}S_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>o2(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{}class rC extends iC{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.bo(e,Ld(i,s),o,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(J.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Ld(i,s),o,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new dt(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aC{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gi(i),this.N_=!1):lt("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua="RemoteStore";class sC{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(f=>{s.enqueueAndForget(async()=>{za(this)&&(lt(Ua,"Restarting streams for network reachability change."),await async function(p){const y=At(p);y.W_.add(4),await Do(y),y.j_.set("Unknown"),y.W_.delete(4),await Yc(y)}(this))})}),this.j_=new aC(s,o)}}async function Yc(r){if(za(r))for(const e of r.G_)await e(!0)}async function Do(r){for(const e of r.G_)await e(!1)}function c0(r,e){const i=At(r);i.U_.has(e.targetId)||(i.U_.set(e.targetId,e),bm(i)?Sm(i):Xs(i).c_()&&Am(i,e))}function Tm(r,e){const i=At(r),s=Xs(i);i.U_.delete(e),s.c_()&&h0(i,e),i.U_.size===0&&(s.c_()?s.P_():za(i)&&i.j_.set("Unknown"))}function Am(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Xs(r).y_(e)}function h0(r,e){r.H_.Ne(e),Xs(r).w_(e)}function Sm(r){r.H_=new t2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Xs(r).start(),r.j_.B_()}function bm(r){return za(r)&&!Xs(r).u_()&&r.U_.size>0}function za(r){return At(r).W_.size===0}function f0(r){r.H_=void 0}async function lC(r){r.j_.set("Online")}async function oC(r){r.U_.forEach((e,i)=>{Am(r,e)})}async function uC(r,e){f0(r),bm(r)?(r.j_.q_(e),Sm(r)):r.j_.set("Unknown")}async function cC(r,e,i){if(r.j_.set("Online"),e instanceof XE&&e.state===2&&e.cause)try{await async function(o,c){const f=c.cause;for(const m of c.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){lt(Ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Dc(r,s)}else if(e instanceof fc?r.H_.We(e):e instanceof $E?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await l0(r.localStore);i.compareTo(s)>=0&&await function(c,f){const m=c.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.U_.get(y);E&&c.U_.set(y,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const E=c.U_.get(p);if(!E)return;c.U_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),h0(c,p);const S=new Or(E.target,p,y,E.sequenceNumber);Am(c,S)}),c.remoteSyncer.applyRemoteEvent(m)}(r,i)}catch(s){lt(Ua,"Failed to raise snapshot:",s),await Dc(r,s)}}async function Dc(r,e,i){if(!$s(e))throw e;r.W_.add(1),await Do(r),r.j_.set("Offline"),i||(i=()=>l0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{lt(Ua,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Yc(r)})}function d0(r,e){return e().catch(i=>Dc(r,i,e))}async function $c(r){const e=At(r),i=Hr(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:om;for(;hC(e);)try{const o=await Q2(e.localStore,s);if(o===null){e.K_.length===0&&i.P_();break}s=o.batchId,fC(e,o)}catch(o){await Dc(e,o)}m0(e)&&g0(e)}function hC(r){return za(r)&&r.K_.length<10}function fC(r,e){r.K_.push(e);const i=Hr(r);i.c_()&&i.b_&&i.S_(e.mutations)}function m0(r){return za(r)&&!Hr(r).u_()&&r.K_.length>0}function g0(r){Hr(r).start()}async function dC(r){Hr(r).C_()}async function mC(r){const e=Hr(r);for(const i of r.K_)e.S_(i.mutations)}async function gC(r,e,i){const s=r.K_.shift(),o=mm.from(s,e,i);await d0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await $c(r)}async function pC(r,e){e&&Hr(r).b_&&await async function(s,o){if(function(f){return ZR(f)&&f!==J.ABORTED}(o.code)){const c=s.K_.shift();Hr(s).h_(),await d0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await $c(s)}}(r,e),m0(r)&&g0(r)}async function e_(r,e){const i=At(r);i.asyncQueue.verifyOperationInProgress(),lt(Ua,"RemoteStore received new credentials");const s=za(i);i.W_.add(3),await Do(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Yc(i)}async function yC(r,e){const i=At(r);e?(i.W_.delete(2),await Yc(i)):e||(i.W_.add(2),await Do(i),i.j_.set("Unknown"))}function Xs(r){return r.J_||(r.J_=function(i,s,o){const c=At(i);return c.M_(),new eC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:lC.bind(null,r),No:oC.bind(null,r),Lo:uC.bind(null,r),p_:cC.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),bm(r)?Sm(r):r.j_.set("Unknown")):(await r.J_.stop(),f0(r))})),r.J_}function Hr(r){return r.Y_||(r.Y_=function(i,s,o){const c=At(i);return c.M_(),new nC(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:dC.bind(null,r),Lo:pC.bind(null,r),D_:mC.bind(null,r),v_:gC.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await $c(r)):(await r.Y_.stop(),r.K_.length>0&&(lt(Ua,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const f=Date.now()+s,m=new wm(e,i,f,o,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(r,e){if(Gi("AsyncQueue",`${e}: ${r}`),$s(r))return new dt(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{static emptySet(e){return new Us(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||gt.comparator(i.key,s.key):(i,s)=>gt.comparator(i.key,s.key),this.keyedMap=lo(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Us;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(){this.Z_=new ne(gt.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):_t():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Hs{constructor(e,i,s,o,c,f,m,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const f=[];return i.forEach(m=>{f.push({type:0,doc:m})}),new Hs(e,i,Us.emptySet(i),f,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _C{constructor(){this.queries=i_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=At(i),c=o.queries;o.queries=i_(),c.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new dt(J.ABORTED,"Firestore shutting down"))}}function i_(){return new ka(r=>UE(r),qc)}async function EC(r,e){const i=At(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new vC,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(f){const m=Rm(f,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(m)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&Cm(i)}async function TC(r,e){const i=At(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const f=c.ta.indexOf(e);f>=0&&(c.ta.splice(f,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function AC(r,e){const i=At(r);let s=!1;for(const o of e){const c=o.query,f=i.queries.get(c);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Cm(i)}function SC(r,e,i){const s=At(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function Cm(r){r.ia.forEach(e=>{e.next()})}var jd,r_;(r_=jd||(jd={}))._a="default",r_.Cache="cache";class bC{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Hs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Hs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==jd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this.key=e}}class y0{constructor(e){this.key=e}}class wC{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=LE(e),this.wa=new Us(this.ya)}get ba(){return this.fa}Sa(e,i){const s=i?i.Da:new n_,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const C=o.get(E),V=Hc(this.query,S)?S:null,L=!!C&&this.mutatedKeys.has(C.key),F=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;C&&V?C.data.isEqual(V.data)?L!==F&&(s.track({type:3,doc:V}),j=!0):this.va(C,V)||(s.track({type:2,doc:V}),j=!0,(p&&this.ya(V,p)>0||y&&this.ya(V,y)<0)&&(m=!0)):!C&&V?(s.track({type:0,doc:V}),j=!0):C&&!V&&(s.track({type:1,doc:C}),j=!0,(p||y)&&(m=!0)),j&&(V?(f=f.add(V),c=F?c.add(E):c.delete(E)):(f=f.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,S)=>function(V,L){const F=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return F(V)-F(L)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const m=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Hs(this.query,e.wa,c,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new n_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new y0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new p0(s))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.Sa(e.documents);return this.applyChanges(i,!0)}Na(){return Hs.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Dm="SyncEngine";class RC{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class CC{constructor(e){this.key=e,this.Ba=!1}}class DC{constructor(e,i,s,o,c,f){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ka(m=>UE(m),qc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(gt.comparator),this.Ka=new Map,this.Ua=new ym,this.Wa={},this.Ga=new Map,this.za=qs.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function IC(r,e,i=!0){const s=S0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await v0(s,e,i,!0),o}async function VC(r,e){const i=S0(r);await v0(i,e,!0,!1)}async function v0(r,e,i,s){const o=await K2(r.localStore,li(e)),c=o.targetId,f=r.sharedClientState.addLocalQueryTarget(c,i);let m;return s&&(m=await NC(r,e,c,f==="current",o.resumeToken)),r.isPrimaryClient&&i&&c0(r.remoteStore,o),m}async function NC(r,e,i,s,o){r.Ha=(S,C,V)=>async function(F,j,$,nt){let et=j.view.Sa($);et.ls&&(et=await Xv(F.localStore,j.query,!1).then(({documents:M})=>j.view.Sa(M,et)));const yt=nt&&nt.targetChanges.get(j.targetId),ht=nt&&nt.targetMismatches.get(j.targetId)!=null,Rt=j.view.applyChanges(et,F.isPrimaryClient,yt,ht);return s_(F,j.targetId,Rt.Ma),Rt.snapshot}(r,S,C,V);const c=await Xv(r.localStore,e,!0),f=new wC(e,c.gs),m=f.Sa(c.documents),p=Co.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);s_(r,i,y.Ma);const E=new RC(e,i,f);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function OC(r,e,i){const s=At(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(f=>!qc(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Tm(s.remoteStore,o.targetId),qd(s,o.targetId)}).catch(Ys)):(qd(s,o.targetId),await zd(s.localStore,o.targetId,!0))}async function xC(r,e){const i=At(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Tm(i.remoteStore,s.targetId))}async function MC(r,e,i){const s=jC(r);try{const o=await function(f,m){const p=At(f),y=we.now(),E=m.reduce((V,L)=>V.add(L.key),Vt());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let L=Qi(),F=Vt();return p.ds.getEntries(V,E).next(j=>{L=j,L.forEach(($,nt)=>{nt.isValidDocument()||(F=F.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,L)).next(j=>{S=j;const $=[];for(const nt of m){const et=QR(nt,S.get(nt.key).overlayedDocument);et!=null&&$.push(new $r(nt.key,et,CE(et.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,$,m)}).next(j=>{C=j;const $=j.applyToLocalDocumentSet(S,F);return p.documentOverlayCache.saveOverlays(V,j.batchId,$)})}).then(()=>({batchId:C.batchId,changes:kE(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new ne(Ot)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,i),await Io(s,o.changes),await $c(s.remoteStore)}catch(o){const c=Rm(o,"Failed to persist write");i.reject(c)}}async function _0(r,e){const i=At(r);try{const s=await F2(i.localStore,e);e.targetChanges.forEach((o,c)=>{const f=i.Ka.get(c);f&&(Ft(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ft(f.Ba):o.removedDocuments.size>0&&(Ft(f.Ba),f.Ba=!1))}),await Io(i,s,e)}catch(s){await Ys(s)}}function a_(r,e,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=At(f);p.onlineState=m;let y=!1;p.queries.forEach((E,S)=>{for(const C of S.ta)C.sa(m)&&(y=!0)}),y&&Cm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function UC(r,e,i){const s=At(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ka.get(e),c=o&&o.key;if(c){let f=new ne(gt.comparator);f=f.insert(c,Ke.newNoDocument(c,Et.min()));const m=Vt().add(c),p=new Qc(Et.min(),new Map,new ne(Ot),f,m);await _0(s,p),s.$a=s.$a.remove(c),s.Ka.delete(e),Im(s)}else await zd(s.localStore,e,!1).then(()=>qd(s,e,i)).catch(Ys)}async function LC(r,e){const i=At(r),s=e.batch.batchId;try{const o=await H2(i.localStore,e);T0(i,s,null),E0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Io(i,o)}catch(o){await Ys(o)}}async function PC(r,e,i){const s=At(r);try{const o=await function(f,m){const p=At(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,m).next(S=>(Ft(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);T0(s,e,i),E0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await Io(s,o)}catch(o){await Ys(o)}}function E0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function T0(r,e,i){const s=At(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function qd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||A0(r,s)})}function A0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Tm(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ka.delete(i),Im(r))}function s_(r,e,i){for(const s of i)s instanceof p0?(r.Ua.addReference(s.key,e),kC(r,s)):s instanceof y0?(lt(Dm,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||A0(r,s.key)):_t()}function kC(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(lt(Dm,"New document in limbo: "+i),r.Qa.add(s),Im(r))}function Im(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new gt(Zt.fromString(e)),s=r.za.next();r.Ka.set(s,new CC(i)),r.$a=r.$a.insert(i,s),c0(r.remoteStore,new Or(li(ME(i.path)),s,"TargetPurposeLimboResolution",kc.ae))}}async function Io(r,e,i){const s=At(r),o=[],c=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=_m.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const E=At(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>Z.forEach(y,C=>Z.forEach(C.Hi,V=>E.persistence.referenceDelegate.addReference(S,C.targetId,V)).next(()=>Z.forEach(C.Ji,V=>E.persistence.referenceDelegate.removeReference(S,C.targetId,V)))))}catch(S){if(!$s(S))throw S;lt(Em,"Failed to update sequence numbers: "+S)}for(const S of y){const C=S.targetId;if(!S.fromCache){const V=E.Ts.get(C),L=V.snapshotVersion,F=V.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(C,F)}}}(s.localStore,c))}async function zC(r,e){const i=At(r);if(!i.currentUser.isEqual(e)){lt(Dm,"User change. New user:",e.toKey());const s=await s0(i.localStore,e);i.currentUser=e,function(c,f){c.Ga.forEach(m=>{m.forEach(p=>{p.reject(new dt(J.CANCELLED,f))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Io(i,s.Rs)}}function BC(r,e){const i=At(r),s=i.Ka.get(e);if(s&&s.Ba)return Vt().add(s.key);{let o=Vt();const c=i.qa.get(e);if(!c)return o;for(const f of c){const m=i.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function S0(r){const e=At(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=_0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UC.bind(null,e),e.La.p_=AC.bind(null,e.eventManager),e.La.Ja=SC.bind(null,e.eventManager),e}function jC(r){const e=At(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=LC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=PC.bind(null,e),e}class Ic{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return q2(this.persistence,new z2,e.initialUser,this.serializer)}Xa(e){return new a0(vm.ri,this.serializer)}Za(e){return new $2}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ic.provider={build:()=>new Ic};class qC extends Ic{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ft(this.persistence.referenceDelegate instanceof Cc);const s=this.persistence.referenceDelegate.garbageCollector;return new b2(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new a0(s=>Cc.ri(s,i),this.serializer)}}class Hd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>a_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=zC.bind(null,this.syncEngine),await yC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _C}()}createDatastore(e){const i=Kc(e.databaseInfo.databaseId),s=function(c){return new tC(c)}(e.databaseInfo);return function(c,f,m,p){return new rC(c,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,f,m){return new sC(s,o,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,i=>a_(this.syncEngine,i,0),function(){return Jv.D()?new Jv:new X2}())}createSyncEngine(e,i){return function(o,c,f,m,p,y,E){const S=new DC(o,c,f,m,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=At(o);lt(Ua,"RemoteStore shutting down."),c.W_.add(5),await Do(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Hd.provider={build:()=>new Hd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr="FirestoreClient";class FC{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=yE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{lt(Fr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(lt(Fr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=Rm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ed(r,e){r.asyncQueue.verifyOperationInProgress(),lt(Fr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await s0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function l_(r,e){r.asyncQueue.verifyOperationInProgress();const i=await GC(r);lt(Fr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>e_(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>e_(e.remoteStore,o)),r._onlineComponents=e}async function GC(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Fr,"Using user provided OfflineComponentProvider");try{await Ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ps("Error using user provided cache. Falling back to memory cache: "+i),await Ed(r,new Ic)}}else lt(Fr,"Using default OfflineComponentProvider"),await Ed(r,new qC(void 0));return r._offlineComponents}async function b0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Fr,"Using user provided OnlineComponentProvider"),await l_(r,r._uninitializedComponentsProvider._online)):(lt(Fr,"Using default OnlineComponentProvider"),await l_(r,new Hd))),r._onlineComponents}function QC(r){return b0(r).then(e=>e.syncEngine)}async function KC(r){const e=await b0(r),i=e.eventManager;return i.onListen=IC.bind(null,e.syncEngine),i.onUnlisten=OC.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=VC.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=xC.bind(null,e.syncEngine),i}function YC(r,e,i={}){const s=new Lr;return r.asyncQueue.enqueueAndForget(async()=>function(c,f,m,p,y){const E=new HC({next:C=>{E.su(),f.enqueueAndForget(()=>TC(c,S)),C.fromCache&&p.source==="server"?y.reject(new dt(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(C)},error:C=>y.reject(C)}),S=new bC(m,E,{includeMetadataChanges:!0,Ta:!0});return EC(c,S)}(await KC(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e,i){if(!i)throw new dt(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $C(r,e,i,s){if(e===!0&&s===!0)throw new dt(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function u_(r){if(!gt.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function c_(r){if(gt.isDocumentKey(r))throw new dt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_t()}function La(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new dt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Vm(r);throw new dt(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="firestore.googleapis.com",h_=!0;class f_{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new dt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=C0,this.ssl=h_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:h_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=r0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<A2)throw new dt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=w0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new dt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new dt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Z1;switch(s.type){case"firstParty":return new eR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new dt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=o_.get(i);s&&(lt("ComponentProvider","Removing Datastore"),o_.delete(i),s.terminate())}(this),Promise.resolve()}}function XC(r,e,i,s={}){var o;const c=(r=La(r,Xc))._getSettings(),f=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${i}`;c.host!==C0&&c.host!==m&&Ps("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:m,ssl:!1,emulatorOptions:s});if(!Ls(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=ob(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new dt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(S)}r._authCredentials=new W1(new pE(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Zc(this.firestore,e,this._query)}}class pn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Pr extends Zc{constructor(e,i,s){super(e,i,ME(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new gt(e))}withConverter(e){return new Pr(this.firestore,e,this._path)}}function Ki(r,e,...i){if(r=ci(r),R0("collection","path",e),r instanceof Xc){const s=Zt.fromString(e,...i);return c_(s),new Pr(r,null,s)}{if(!(r instanceof pn||r instanceof Pr))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return c_(s),new Pr(r.firestore,null,s)}}function Vo(r,e,...i){if(r=ci(r),arguments.length===1&&(e=yE.newId()),R0("doc","path",e),r instanceof Xc){const s=Zt.fromString(e,...i);return u_(s),new pn(r,null,new gt(s))}{if(!(r instanceof pn||r instanceof Pr))throw new dt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Zt.fromString(e,...i));return u_(s),new pn(r.firestore,r instanceof Pr?r.converter:null,new gt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="AsyncQueue";class m_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new o0(this,"async_queue_retry"),this.bu=()=>{const s=_d();s&&lt(d_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const i=_d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=_d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!$s(e))throw e;lt(d_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Gi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=wm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&_t()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Wc extends Xc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new m_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new m_(e),this._firestoreClient=void 0,await e}}}function ZC(r,e){const i=typeof r=="object"?r:z_(),s=typeof r=="string"?r:Ec,o=wo(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=sb("firestore");c&&XC(o,...c)}return o}function D0(r){if(r._terminated)throw new dt(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||WC(r),r._firestoreClient}function WC(r){var e,i,s;const o=r._freezeSettings(),c=function(m,p,y,E){return new gR(m,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,w0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new FC(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fs(je.fromBase64String(e))}catch(i){throw new dt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Fs(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new dt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new dt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new dt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ot(this._lat,e._lat)||Ot(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=/^__.*__$/;class tD{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new $r(e,this.data,this.fieldMask,i,this.fieldTransforms):new Ro(e,this.data,i,this.fieldTransforms)}}class I0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new $r(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function V0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class eh{constructor(e,i,s,o,c,f){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new eh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Vc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(V0(this.Lu)&&JC.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class eD{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Kc(e)}ju(e,i,s,o=!1){return new eh({Lu:e,methodName:i,zu:s,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N0(r){const e=r._freezeSettings(),i=Kc(r._databaseId);return new eD(r._databaseId,!!e.ignoreUndefinedProperties,i)}function nD(r,e,i,s,o,c={}){const f=r.ju(c.merge||c.mergeFields?2:0,e,i,o);Mm("Data must be an object, but it was:",f,s);const m=O0(s,f);let p,y;if(c.merge)p=new mn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const C=Fd(e,S,i);if(!f.contains(C))throw new dt(J.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);M0(E,C)||E.push(C)}p=new mn(E),y=f.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=f.fieldTransforms;return new tD(new an(m),p,y)}class nh extends th{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nh}}function iD(r,e,i){return new eh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:i},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class xm extends th{constructor(e,i){super(e),this.Hu=i}_toFieldTransform(e){const i=iD(this,e,!0),s=this.Hu.map(c=>No(c,i)),o=new js(s);return new qR(e.path,o)}isEqual(e){return e instanceof xm&&Ls(this.Hu,e.Hu)}}function rD(r,e,i,s){const o=r.ju(1,e,i);Mm("Data must be an object, but it was:",o,s);const c=[],f=an.empty();Yr(s,(p,y)=>{const E=Um(e,p,i);y=ci(y);const S=o.Ku(E);if(y instanceof nh)c.push(E);else{const C=No(y,S);C!=null&&(c.push(E),f.set(E,C))}});const m=new mn(c);return new I0(f,m,o.fieldTransforms)}function aD(r,e,i,s,o,c){const f=r.ju(1,e,i),m=[Fd(e,s,i)],p=[o];if(c.length%2!=0)throw new dt(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<c.length;C+=2)m.push(Fd(e,c[C])),p.push(c[C+1]);const y=[],E=an.empty();for(let C=m.length-1;C>=0;--C)if(!M0(y,m[C])){const V=m[C];let L=p[C];L=ci(L);const F=f.Ku(V);if(L instanceof nh)y.push(V);else{const j=No(L,F);j!=null&&(y.push(V),E.set(V,j))}}const S=new mn(y);return new I0(E,S,f.fieldTransforms)}function No(r,e){if(x0(r=ci(r)))return Mm("Unsupported field value:",e,r),O0(r,e);if(r instanceof th)return function(s,o){if(!V0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let f=0;for(const m of s){let p=No(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),f++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=ci(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:Rc(o.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(o.serializer,c)}}if(s instanceof Nm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Fs)return{bytesValue:ZE(o.serializer,s._byteString)};if(s instanceof pn){const c=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:pm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Om)return function(f,m){return{mapValue:{fields:{[wE]:{stringValue:RE},[Tc]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return dm(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Vm(s)}`)}(r,e)}function O0(r,e){const i={};return _E(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Yr(r,(s,o)=>{const c=No(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function x0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof Nm||r instanceof Fs||r instanceof pn||r instanceof th||r instanceof Om)}function Mm(r,e,i){if(!x0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Vm(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Fd(r,e,i){if((e=ci(e))instanceof Jc)return e._internalPath;if(typeof e=="string")return Um(r,e);throw Vc("Field path arguments must be of type string or ",r,!1,void 0,i)}const sD=new RegExp("[~\\*/\\[\\]]");function Um(r,e,i){if(e.search(sD)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Jc(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Vc(r,e,i,s,o){const c=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;i&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||f)&&(p+=" (found",c&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new dt(J.INVALID_ARGUMENT,m+r+p)}function M0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(L0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class lD extends U0{data(){return super.data()}}function L0(r,e){return typeof e=="string"?Um(r,e):e instanceof Jc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uD{convertValue(e,i="none"){switch(qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(jr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw _t()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Yr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[Tc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>ce(f.doubleValue));return new Om(c)}convertGeoPoint(e){return new Nm(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Bc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(vo(e));default:return null}}convertTimestamp(e){const i=Br(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Zt.fromString(e);Ft(i0(s));const o=new _o(s.get(1),s.get(3)),c=new gt(s.popFirst(5));return o.isEqual(i)||Gi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hD extends U0{constructor(e,i,s,o,c,f){super(e,i,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(L0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class dc extends hD{data(e={}){return super.data(e)}}class fD{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new ac(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new dc(this._firestore,this._userDataWriter,s.key,s,new ac(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new dc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new dc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ac(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:dD(m.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function dD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}class mD extends uD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,i)}}function Gr(r){r=La(r,Zc);const e=La(r.firestore,Wc),i=D0(e),s=new mD(e);return oD(r._query),YC(i,r._query).then(o=>new fD(e,s,r,o))}function P0(r,e,i){r=La(r,pn);const s=La(r.firestore,Wc),o=cD(r.converter,e);return k0(s,[nD(N0(s),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,oi.none())])}function Lm(r,e,i,...s){r=La(r,pn);const o=La(r.firestore,Wc),c=N0(o);let f;return f=typeof(e=ci(e))=="string"||e instanceof Jc?aD(c,"updateDoc",r._key,e,i,s):rD(c,"updateDoc",r._key,e),k0(o,[f.toMutation(r._key,oi.exists(!0))])}function k0(r,e){return function(s,o){const c=new Lr;return s.asyncQueue.enqueueAndForget(async()=>MC(await QC(s),o,c)),c.promise}(D0(r),e)}function z0(...r){return new xm("arrayUnion",r)}(function(e,i=!0){(function(o){Ks=o})(_w),kr(new Hi("firestore",(s,{instanceIdentifier:o,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new Wc(new J1(s.getProvider("auth-internal")),new nR(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new dt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _o(y.options.projectId,E)}(f,o),f);return c=Object.assign({useFetchStreams:i},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),si(Tv,Av,e),si(Tv,Av,"esm2017")})();const gD={apiKey:"AIzaSyCYnKPhe_pdv1whbZ64x7Hu3_lHdht0E6Q",authDomain:"greentrails-d6c2d.firebaseapp.com",projectId:"greentrails-d6c2d",storageBucket:"greentrails-d6c2d.firebasestorage.app",messagingSenderId:"67873180558",appId:"1:67873180558:web:d65d95fb94c483683db2df",measurementId:"G-9K66S1W7XM"},B0=k_(gD);K1(B0);const yn=ZC(B0),pD=()=>{const[r,e]=K.useState([]),[i,s]=K.useState([]),[o,c]=K.useState(!0),f=Oc(),[m,p]=Na.useState([]);if(K.useEffect(()=>{(async()=>{c(!0);try{const C=(await Gr(Ki(yn,"opportunities"))).docs.map(j=>({id:j.id,...j.data()})),L=(await Gr(Ki(yn,"Users"))).docs.map(j=>({id:j.id,...j.data()}));console.log(L),p(L);const F=new Date;e(C.filter(j=>new Date(j.date)>F).sort((j,$)=>new Date(j.date)-new Date($.date)))}catch(S){console.error("Error fetching opportunities:",S)}c(!1)})()},[]),o)return G.jsx("div",{className:"box",children:G.jsx("p",{children:"Loading opportunities..."})});if(r.length===0)return G.jsx("div",{className:"box",children:G.jsx("h1",{children:"No upcoming volunteer opportunities available we will be adding more soon."})});function y(E){let S=E.currentTarget;const C=Vo(yn,"opportunities",S.id),V=document.getElementById(S.id+"i");if(console.log(m),V===null||V.value==="")return;if(V.value==="editcode0"){console.log("edit code entered"),f("/adddata");return}const L=r.find(F=>F.id===S.id);if(L&&new Date(L.date)<new Date){console.log("Event has already passed");return}if(!m.some(F=>F.Name===V.value)){console.log("User not found in the list"),V.placeholder="Please use signup",V.value="";return}console.log(document.getElementById(S.id+"i"));try{Lm(C,{signups:z0(V.value)}),document.getElementById(S.id+"d").textContent="So far "+r.find(F=>F.id===S.id).signups.join(", ")+", "+V.value+" will be going"}catch(F){console.error("Error adding name to opportunity:",F)}}return G.jsx("div",{children:r.map(E=>G.jsxs("div",{children:[G.jsxs("div",{className:"box",children:[G.jsx("h1",{children:E.name}),G.jsxs("p",{className:"date",children:["when: ",new Date(E.date).toLocaleDateString()]}),G.jsx("p",{children:E.description}),G.jsx("h4",{children:" please sign up with the host and submit your name to let us know you will be going"}),G.jsx("a",{href:E.link,target:"_blank",rel:"noopener noreferrer",children:"Click here to sign up with the host"}),G.jsx("p",{}),G.jsxs("div",{children:[G.jsx("label",{children:"Sign up here with green trails:"}),G.jsx("p",{}),G.jsx("input",{className:"nameinput",list:`dropdown-${E.id}`,id:E.id+"i",name:"options"}),G.jsx("datalist",{id:`dropdown-${E.id}`,children:m.map(S=>G.jsx("option",{value:S.Name,children:S.Name},S.id))}),G.jsx("button",{type:"submit",id:E.id,className:"button nameinput",onClick:S=>y(S),children:"Add Name"}),G.jsxs("p",{id:E.id+"d",children:["So far ",E.signups.join(", ")," will be going"]})]})]},E.id),G.jsx("div",{className:"trunk"})]}))})},yD=()=>{const[r,e]=K.useState([]),[i,s]=K.useState([]),[o,c]=K.useState(!0),f=Oc(),[m,p]=Na.useState([]);if(K.useEffect(()=>{(async()=>{c(!0);try{const C=(await Gr(Ki(yn,"opportunities"))).docs.map(j=>({id:j.id,...j.data()})),L=(await Gr(Ki(yn,"Users"))).docs.map(j=>({id:j.id,...j.data()}));console.log(L),p(L);const F=new Date;e(C.sort((j,$)=>new Date(j.date)-new Date($.date)))}catch(S){console.error("Error fetching opportunities:",S)}c(!1)})()},[]),o)return G.jsx("div",{className:"box",children:G.jsx("p",{children:"Loading opportunities..."})});if(r.length===0)return G.jsx("div",{className:"box",children:G.jsx("h1",{children:"No upcoming volunteer opportunities available we will be adding more soon."})});function y(E){let S=E.currentTarget;const C=Vo(yn,"opportunities",S.id),V=document.getElementById(S.id+"i");if(console.log(m),V===null||V.value==="")return;if(V.value==="editcode0"){console.log("edit code entered"),f("/adddata");return}const L=r.find(F=>F.id===S.id);if(L&&new Date(L.date)<new Date){console.log("Event has already passed"),V.value="",V.placeholder="Event has already passed";return}if(!m.some(F=>F.Name===V.value)){console.log("User not found in the list"),V.value="",V.placeholder="Please use signup";return}console.log(document.getElementById(S.id+"i"));try{Lm(C,{signups:z0(V.value)}),document.getElementById(S.id+"d").textContent="So far "+r.find(F=>F.id===S.id).signups.join(", ")+", "+V.value+" will be going"}catch(F){console.error("Error adding name to opportunity:",F)}}return G.jsx("div",{children:r.map(E=>G.jsxs("div",{children:[G.jsxs("div",{className:"box",children:[G.jsx("h1",{children:E.name}),G.jsxs("p",{className:"date",children:["when: ",new Date(E.date).toLocaleDateString()]}),G.jsx("p",{children:E.description}),G.jsx("h4",{children:" please sign up with the host and submit your name to let us know you will be going"}),G.jsx("a",{href:E.link,target:"_blank",rel:"noopener noreferrer",children:"Click here to sign up with the host"}),G.jsx("p",{}),G.jsxs("div",{children:[G.jsx("label",{children:"Sign up here with green trails:"}),G.jsx("p",{}),G.jsx("input",{className:"nameinput",list:`dropdown-${E.id}`,id:E.id+"i",name:"options"}),G.jsx("datalist",{id:`dropdown-${E.id}`,children:m.map(S=>G.jsx("option",{value:S.Name,children:S.Name},S.id))}),G.jsx("button",{type:"submit",id:E.id,className:"button nameinput",onClick:S=>y(S),children:"Add Name"}),G.jsxs("p",{id:E.id+"d",children:["So far ",E.signups.join(", ")," will be going"]})]})]},E.id),G.jsx("div",{className:"trunk"})]}))})},vD=()=>{const[r,e]=K.useState(!0);function i(){console.log("show past"),e(!r)}return G.jsxs("div",{id:"page",children:[G.jsx(bo,{}),G.jsx(Mc,{message:"Upcoming Volunteer Opportunities"}),G.jsx("button",{id:"showpastbutton",onClick:i,children:r?"Show past opportunities":"Hide past opportunities"}),r?G.jsx(pD,{}):G.jsx(yD,{}),G.jsx(YS,{}),G.jsx($S,{})]})},_D=()=>G.jsxs("div",{className:"App-header",children:[G.jsx(bo,{}),G.jsx(Mc,{message:"Add data page"}),G.jsx("input",{className:"addmoredata",id:"id",type:"text",placeholder:"id"}),G.jsx("input",{className:"addmoredata",id:"name",type:"text",placeholder:"Name"}),G.jsx("input",{className:"addmoredata",id:"date",type:"text",placeholder:"date"}),G.jsx("input",{className:"addmoredata",id:"description",type:"text",placeholder:"description"}),G.jsx("input",{className:"addmoredata",id:"link",type:"text",placeholder:"link"}),G.jsx("button",{className:"addmoredata",onClick:()=>{const r=document.getElementById("name").value,e=document.getElementById("date").value,i=document.getElementById("description").value,s=document.getElementById("link").value,o=document.getElementById("id").value;(async f=>{const m=await Gr(Ki(yn,"opportunities"));let p=!1;return m.forEach(y=>{y.id===f&&(p=!0)}),p})(o).then(f=>{if(f){alert("ID already in use. Please choose a different ID.");return}else{const m=Vo(yn,"opportunities",o);P0(m,{name:r,date:e,description:i,link:s,signups:[]})}})},children:"Add opportunity"})]}),ED=()=>{const[r,e]=Na.useState([]),[i,s]=Na.useState([]);K.useEffect(()=>{(async()=>{try{const m=(await Gr(Ki(yn,"Users"))).docs.map(E=>({id:E.id,score:E.data().score,Name:E.data().Name}));e(m.sort((E,S)=>S.score-E.score));const y=(await Gr(Ki(yn,"opportunities"))).docs.map(E=>({id:E.id,...E.data()}));s(y)}catch(f){console.error("Error fetching leaderboard:",f)}})()},[]);function o(c){let f=0;r.forEach(m=>{i.forEach(p=>{p.signups.includes(m.id)&&(f+=1),Lm(Vo(yn,"Users",m.id),{score:f})}),f=0}),console.log("Done updating leaderboard")}return G.jsxs("div",{id:"events-table",children:[G.jsx("h3",{id:"events-title",children:"Events Attended"}),G.jsxs("div",{id:"events-leaderboard",className:"boardcon",children:[r.map((c,f)=>G.jsxs("div",{className:"lbentrie",children:[G.jsxs("p",{className:"place",children:[f+1,"."]}),G.jsx("p",{className:"username",children:c.Name}),G.jsx("p",{className:"userscore",children:c.score}),G.jsx("p",{className:"username",children:"  "})]},c.id)),G.jsx("button",{onClick:c=>o(),id:"",children:"Update leaderboard"})]})]})},TD=()=>G.jsxs("div",{children:[G.jsx(Mc,{message:"Leaderboard"}),G.jsx(bo,{}),G.jsx(ED,{})]}),AD=()=>{const[r,e]=Na.useState([]),[i,s]=Na.useState([]);K.useEffect(()=>{},[]);function o(c){const f=document.getElementById("name").value;console.log(f),(async p=>{const y=await Gr(Ki(yn,"Users"));let E=!1;return y.forEach(S=>{S.id===p&&(E=!0)}),E})(f).then(p=>{if(p){alert("name already in use. Please choose a different name.");return}else if(f.trim()!==""){const y=Vo(Ki(yn,"Users"),f);P0(y,{Name:f,score:0})}else alert("Name cannot be empty. Please enter a valid name.")})}return G.jsx("div",{children:G.jsxs("div",{className:"signup",children:[G.jsx("input",{id:"name",type:"text",placeholder:"please enter your name"}),G.jsx("button",{type:"submit",onClick:c=>o(),children:"Submit"})]})})},SD=()=>G.jsxs("div",{children:[G.jsx(Mc,{message:"Sign Up!!"}),G.jsx(bo,{}),G.jsx(AD,{})]}),bD=()=>G.jsx("div",{className:"App",children:G.jsx(US,{children:G.jsxs(fS,{children:[G.jsx(Nr,{path:"*",element:G.jsx(cS,{to:"/",replace:!0})}),G.jsx(Nr,{path:"/",element:G.jsx(tv,{})}),G.jsx(Nr,{path:"/greentrails/*",element:G.jsx(tv,{})}),G.jsx(Nr,{path:"/volenterpage/*",element:G.jsx(vD,{})}),G.jsx(Nr,{path:"/adddata/*",element:G.jsx(_D,{})}),G.jsx(Nr,{path:"/leaderboard/*",element:G.jsx(TD,{})}),G.jsx(Nr,{path:"/signup/*",element:G.jsx(SD,{})})]})})});TA.createRoot(document.getElementById("root")).render(G.jsx(Na.StrictMode,{children:G.jsx(bD,{})}));
